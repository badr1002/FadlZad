"use strict";var t7=Object.defineProperty,n7=Object.defineProperties,r7=Object.getOwnPropertyDescriptors,UU=Object.getOwnPropertySymbols,s7=Object.prototype.hasOwnProperty,o7=Object.prototype.propertyIsEnumerable,BU=(ot,Ce,k)=>Ce in ot?t7(ot,Ce,{enumerable:!0,configurable:!0,writable:!0,value:k}):ot[Ce]=k,HU=(ot,Ce)=>{for(var k in Ce||(Ce={}))s7.call(Ce,k)&&BU(ot,k,Ce[k]);if(UU)for(var k of UU(Ce))o7.call(Ce,k)&&BU(ot,k,Ce[k]);return ot},jU=(ot,Ce)=>n7(ot,r7(Ce));(self.webpackChunkFadlZad=self.webpackChunkFadlZad||[]).push([[179],{2011:(ot,Ce,k)=>{k.d(Ce,{Dh:()=>_e,GT:()=>Te,Ot:()=>ce,cc:()=>Ee,hO:()=>Fe,on:()=>G,pX:()=>we,xv:()=>me});var r=k(5e3),te=k(127),F=k(880);ot=k.hmd(ot);const le=["ngOnDestroy"],we=(ve,Ve,je,Oe={})=>new Proxy(ve,{get:(Ge,Se)=>je.runOutsideAngular(()=>{var it;if(ve[Se])return(null===(it=null==Oe?void 0:Oe.spy)||void 0===it?void 0:it.get)&&Oe.spy.get(Se,ve[Se]),ve[Se];if(le.indexOf(Se)>-1)return()=>{};const Ze=Ve.toPromise().then(W=>{const H=W&&W[Se];return"function"==typeof H?H.bind(W):H&&H.then?H.then(ee=>je.run(()=>ee)):je.run(()=>H)});return new Proxy(()=>{},{get:(W,H)=>Ze[H],apply:(W,H,ee)=>Ze.then(de=>{var se;const De=de&&de(...ee);return(null===(se=null==Oe?void 0:Oe.spy)||void 0===se?void 0:se.apply)&&Oe.spy.apply(Se,ee,De),De})})})}),Te=(ve,Ve)=>{Ve.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Oe=>{Object.defineProperty(ve.prototype,Oe,Object.getOwnPropertyDescriptor(je.prototype||je,Oe))})})};class ce{constructor(Ve){return Ve}}const _e=new r.OlP("angularfire2.app.options"),me=new r.OlP("angularfire2.app.name");function G(ve,Ve,je){const Ge="object"==typeof je&&je||{};Ge.name=Ge.name||"string"==typeof je&&je||"[DEFAULT]";const it=te.Z.apps.filter(Ze=>Ze&&Ze.name===Ge.name)[0]||Ve.runOutsideAngular(()=>te.Z.initializeApp(ve,Ge));try{JSON.stringify(ve)!==JSON.stringify(it.options)&&Y("error",`${it.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new ce(it)}const Y=(ve,...Ve)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[ve](...Ve)},re={provide:ce,useFactory:G,deps:[_e,r.R0b,[new r.FiY,me]]};let Fe=(()=>{class ve{constructor(je){te.Z.registerVersion("angularfire",F.q4.full,"core"),te.Z.registerVersion("angularfire",F.q4.full,"app-compat"),te.Z.registerVersion("angular",r.q4F.full,je.toString())}static initializeApp(je,Oe){return{ngModule:ve,providers:[{provide:_e,useValue:je},{provide:me,useValue:Oe}]}}}return ve.\u0275fac=function(je){return new(je||ve)(r.LFG(r.Lbi))},ve.\u0275mod=r.oAB({type:ve}),ve.\u0275inj=r.cJS({providers:[re]}),ve})();function Ee(ve,Ve,je,Oe,Ge){const[,Se,it]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===ve)||[];if(Se)return function Ne(ve,Ve){try{return ve.toString()===Ve.toString()}catch(je){return ve===Ve}}(Ge,it)||(ye("error",`${Ve} was already initialized on the ${je} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Ge,was:it})),Se;{const Ze=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ve,Ze,Ge]),Ze}}const He=!!ot.hot,ye=(ve,...Ve)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[ve](...Ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(ot,Ce,k)=>{k.d(Ce,{q4:()=>Tn,iC:()=>ji,HU:()=>Xa,vb:()=>Zl,JM:()=>Bo,nk:()=>jl,u3:()=>Xr});var r=k(5e3),te=k(5867),F=k(5861),le=k(9681),we=k(2090),Te=k(4859),ce=k(1877);k(2833);const me="@firebase/remote-config",G="0.3.11",Ee=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vt{constructor(N,Q,he,ke){this.client=N,this.storage=Q,this.storageCache=he,this.logger=ke}isCachedDataFresh(N,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Q,ke=he<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${ke}.`),ke}fetch(N){var Q=this;return(0,F.Z)(function*(){const[he,ke]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(ke&&Q.isCachedDataFresh(N.cacheMaxAgeMillis,he))return ke;N.eTag=ke&&ke.eTag;const Qe=yield Q.client.fetch(N),yt=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&yt.push(Q.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(yt),Qe})()}}function Vn(R=navigator){return R.languages&&R.languages[0]||R.language}class at{constructor(N,Q,he,ke,Qe,yt){this.firebaseInstallations=N,this.sdkVersion=Q,this.namespace=he,this.projectId=ke,this.apiKey=Qe,this.appId=yt}fetch(N){var Q=this;return(0,F.Z)(function*(){var he,ke,Qe;const[yt,Ke]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),Ai=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ut={sdk_version:Q.sdkVersion,app_instance_id:yt,app_instance_id_token:Ke,app_id:Q.appId,language_code:Vn()},Br={method:"POST",headers:kn,body:JSON.stringify(Ut)},el=fetch(Ai,Br),jo=new Promise((cr,Pi)=>{N.signal.addEventListener(()=>{const Zo=new Error("The operation was aborted.");Zo.name="AbortError",Pi(Zo)})});let Ae;try{yield Promise.race([el,jo]),Ae=yield el}catch(cr){let Pi="fetch-client-network";throw"AbortError"===(null===(he=cr)||void 0===he?void 0:he.name)&&(Pi="fetch-timeout"),Ee.create(Pi,{originalErrorMessage:null===(ke=cr)||void 0===ke?void 0:ke.message})}let Zt=Ae.status;const eu=Ae.headers.get("ETag")||void 0;let Rn,Zs;if(200===Ae.status){let cr;try{cr=yield Ae.json()}catch(Pi){throw Ee.create("fetch-client-parse",{originalErrorMessage:null===(Qe=Pi)||void 0===Qe?void 0:Qe.message})}Rn=cr.entries,Zs=cr.state}if("INSTANCE_STATE_UNSPECIFIED"===Zs?Zt=500:"NO_CHANGE"===Zs?Zt=304:("NO_TEMPLATE"===Zs||"EMPTY_CONFIG"===Zs)&&(Rn={}),304!==Zt&&200!==Zt)throw Ee.create("fetch-status",{httpStatus:Zt});return{status:Zt,eTag:eu,config:Rn}})()}}class Cn{constructor(N,Q){this.client=N,this.storage=Q}fetch(N){var Q=this;return(0,F.Z)(function*(){const he=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(N,he)})()}attemptFetch(N,{throttleEndTimeMillis:Q,backoffCount:he}){var ke=this;return(0,F.Z)(function*(){yield function Tt(R,N){return new Promise((Q,he)=>{const ke=Math.max(N-Date.now(),0),Qe=setTimeout(Q,ke);R.addEventListener(()=>{clearTimeout(Qe),he(Ee.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,Q);try{const Qe=yield ke.client.fetch(N);return yield ke.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function An(R){if(!(R instanceof we.ZR&&R.customData))return!1;const N=Number(R.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Qe))throw Qe;const yt={throttleEndTimeMillis:Date.now()+(0,we.$s)(he),backoffCount:he+1};return yield ke.storage.setThrottleMetadata(yt),ke.attemptFetch(N,yt)}})()}}class ri{constructor(N,Q,he,ke,Qe){this.app=N,this._client=Q,this._storageCache=he,this._storage=ke,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ht(R,N){var Q;const he=R.target.error||void 0;return Ee.create(N,{originalErrorMessage:he&&(null===(Q=he)||void 0===Q?void 0:Q.message)})}const Rt="app_namespace_store";class Un{constructor(N,Q,he,ke=function si(){return new Promise((R,N)=>{var Q;try{const he=indexedDB.open("firebase_remote_config",1);he.onerror=ke=>{N(Ht(ke,"storage-open"))},he.onsuccess=ke=>{R(ke.target.result)},he.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(Rt,{keyPath:"compositeKey"})}}catch(he){N(Ee.create("storage-open",{originalErrorMessage:null===(Q=he)||void 0===Q?void 0:Q.message}))}})}()){this.appId=N,this.appName=Q,this.namespace=he,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var Q=this;return(0,F.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((ke,Qe)=>{var yt;const jn=he.transaction([Rt],"readonly").objectStore(Rt),Ai=Q.createCompositeKey(N);try{const kn=jn.get(Ai);kn.onerror=Ut=>{Qe(Ht(Ut,"storage-get"))},kn.onsuccess=Ut=>{const Br=Ut.target.result;ke(Br?Br.value:void 0)}}catch(kn){Qe(Ee.create("storage-get",{originalErrorMessage:null===(yt=kn)||void 0===yt?void 0:yt.message}))}})})()}set(N,Q){var he=this;return(0,F.Z)(function*(){const ke=yield he.openDbPromise;return new Promise((Qe,yt)=>{var Ke;const Ai=ke.transaction([Rt],"readwrite").objectStore(Rt),kn=he.createCompositeKey(N);try{const Ut=Ai.put({compositeKey:kn,value:Q});Ut.onerror=Br=>{yt(Ht(Br,"storage-set"))},Ut.onsuccess=()=>{Qe()}}catch(Ut){yt(Ee.create("storage-set",{originalErrorMessage:null===(Ke=Ut)||void 0===Ke?void 0:Ke.message}))}})})()}delete(N){var Q=this;return(0,F.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((ke,Qe)=>{var yt;const jn=he.transaction([Rt],"readwrite").objectStore(Rt),Ai=Q.createCompositeKey(N);try{const kn=jn.delete(Ai);kn.onerror=Ut=>{Qe(Ht(Ut,"storage-delete"))},kn.onsuccess=()=>{ke()}}catch(kn){Qe(Ee.create("storage-delete",{originalErrorMessage:null===(yt=kn)||void 0===yt?void 0:yt.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Ii{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,F.Z)(function*(){const Q=N.storage.getLastFetchStatus(),he=N.storage.getLastSuccessfulFetchTimestampMillis(),ke=N.storage.getActiveConfig(),Qe=yield Q;Qe&&(N.lastFetchStatus=Qe);const yt=yield he;yt&&(N.lastSuccessfulFetchTimestampMillis=yt);const Ke=yield ke;Ke&&(N.activeConfig=Ke)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Et(){return oi.apply(this,arguments)}function oi(){return(oi=(0,F.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(R){return!1}})).apply(this,arguments)}!function Ti(){(0,le._registerComponent)(new Te.wA("remote-config",function R(N,{instanceIdentifier:Q}){const he=N.getProvider("app").getImmediate(),ke=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ee.create("registration-window");if(!(0,we.hl)())throw Ee.create("indexed-db-unavailable");const{projectId:Qe,apiKey:yt,appId:Ke}=he.options;if(!Qe)throw Ee.create("registration-project-id");if(!yt)throw Ee.create("registration-api-key");if(!Ke)throw Ee.create("registration-app-id");const jn=new Un(Ke,he.name,Q=Q||"firebase"),Ai=new Ii(jn),kn=new ce.Yd(me);kn.logLevel=ce.in.ERROR;const Ut=new at(ke,le.SDK_VERSION,Q,Qe,yt,Ke),Br=new Cn(Ut,jn),el=new Vt(Br,jn,Ai,kn),jo=new ri(he,el,Ai,jn,kn);return function it(R){const N=(0,we.m9)(R);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(jo),jo},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(me,G),(0,le.registerVersion)(me,G,"esm2017")}();var pn=k(8766);const Hn="/firebase-messaging-sw.js",Ei="/firebase-cloud-messaging-push-scope",yr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bn="google.c.a.c_id",Ki="google.c.a.c_l",Ui="google.c.a.ts",en="google.c.a.e";var dt=(()=>{return(R=dt||(dt={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",dt;var R})();function vn(R){const N=new Uint8Array(R);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yi(R){const Q=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Q),ke=new Uint8Array(he.length);for(let Qe=0;Qe<he.length;++Qe)ke[Qe]=he.charCodeAt(Qe);return ke}const zt="fcm_token_details_db",ei="fcm_token_object_Store";function zn(R){return mt.apply(this,arguments)}function mt(){return mt=(0,F.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(zt))return null;let N=null;return(yield(0,pn.X3)(zt,5,{upgrade:(he=(0,F.Z)(function*(ke,Qe,yt,Ke){var jn;if(Qe<2||!ke.objectStoreNames.contains(ei))return;const Ai=Ke.objectStore(ei),kn=yield Ai.index("fcmSenderId").get(R);if(yield Ai.clear(),kn)if(2===Qe){const Ut=kn;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;N={token:Ut.fcmToken,createTime:null!==(jn=Ut.createTime)&&void 0!==jn?jn:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:vn(Ut.vapidKey)}}}else if(3===Qe){const Ut=kn;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:vn(Ut.auth),p256dh:vn(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:vn(Ut.vapidKey)}}}else if(4===Qe){const Ut=kn;N={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:vn(Ut.auth),p256dh:vn(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:vn(Ut.vapidKey)}}}}),function(Qe,yt,Ke,jn){return he.apply(this,arguments)})})).close(),yield(0,pn.Lj)(zt),yield(0,pn.Lj)("fcm_vapid_details_db"),yield(0,pn.Lj)("undefined"),Qi(N)?N:null;var he}),mt.apply(this,arguments)}function Qi(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:N}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const U="firebase-messaging-store";let q=null;function $(){return q||(q=(0,pn.X3)("firebase-messaging-database",1,{upgrade:(R,N)=>{0===N&&R.createObjectStore(U)}})),q}function Pe(R){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(R){const N=pe(R),he=yield(yield $()).transaction(U).objectStore(U).get(N);if(he)return he;{const ke=yield zn(R.appConfig.senderId);if(ke)return yield ft(R,ke),ke}})).apply(this,arguments)}function ft(R,N){return cn.apply(this,arguments)}function cn(){return(cn=(0,F.Z)(function*(R,N){const Q=pe(R),ke=(yield $()).transaction(U,"readwrite");return yield ke.objectStore(U).put(N,Q),yield ke.done,N})).apply(this,arguments)}function rn(R){return ae.apply(this,arguments)}function ae(){return(ae=(0,F.Z)(function*(R){const N=pe(R),he=(yield $()).transaction(U,"readwrite");yield he.objectStore(U).delete(N),yield he.done})).apply(this,arguments)}function pe({appConfig:R}){return R.appId}const $e=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rt(R,N){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,F.Z)(function*(R,N){var Q;const he=yield Ji(R),ke=Wn(N),Qe={method:"POST",headers:he,body:JSON.stringify(ke)};let yt;try{yt=yield(yield fetch(gn(R.appConfig),Qe)).json()}catch(Ke){throw $e.create("token-subscribe-failed",{errorInfo:null===(Q=Ke)||void 0===Q?void 0:Q.toString()})}if(yt.error)throw $e.create("token-subscribe-failed",{errorInfo:yt.error.message});if(!yt.token)throw $e.create("token-subscribe-no-token");return yt.token})).apply(this,arguments)}function bt(R,N){return jt.apply(this,arguments)}function jt(){return(jt=(0,F.Z)(function*(R,N){var Q;const he=yield Ji(R),ke=Wn(N.subscriptionOptions),Qe={method:"PATCH",headers:he,body:JSON.stringify(ke)};let yt;try{yt=yield(yield fetch(`${gn(R.appConfig)}/${N.token}`,Qe)).json()}catch(Ke){throw $e.create("token-update-failed",{errorInfo:null===(Q=Ke)||void 0===Q?void 0:Q.toString()})}if(yt.error)throw $e.create("token-update-failed",{errorInfo:yt.error.message});if(!yt.token)throw $e.create("token-update-no-token");return yt.token})).apply(this,arguments)}function sn(R,N){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,F.Z)(function*(R,N){var Q;const ke={method:"DELETE",headers:yield Ji(R)};try{const yt=yield(yield fetch(`${gn(R.appConfig)}/${N}`,ke)).json();if(yt.error)throw $e.create("token-unsubscribe-failed",{errorInfo:yt.error.message})}catch(Qe){throw $e.create("token-unsubscribe-failed",{errorInfo:null===(Q=Qe)||void 0===Q?void 0:Q.toString()})}})).apply(this,arguments)}function gn({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Ji(R){return mi.apply(this,arguments)}function mi(){return(mi=(0,F.Z)(function*({appConfig:R,installations:N}){const Q=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Wn({p256dh:R,auth:N,endpoint:Q,vapidKey:he}){const ke={web:{endpoint:Q,auth:N,p256dh:R}};return he!==yr&&(ke.web.applicationPubKey=he),ke}const vr=6048e5;function ai(R){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,F.Z)(function*(R){const N=yield Wt(R.swRegistration,R.vapidKey),Q={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:N.endpoint,auth:vn(N.getKey("auth")),p256dh:vn(N.getKey("p256dh"))},he=yield Pe(R.firebaseDependencies);if(he){if(nn(he.subscriptionOptions,Q))return Date.now()>=he.createTime+vr?B(R,{token:he.token,createTime:Date.now(),subscriptionOptions:Q}):he.token;try{yield sn(R.firebaseDependencies,he.token)}catch(ke){console.warn(ke)}return Re(R.firebaseDependencies,Q)}return Re(R.firebaseDependencies,Q)})).apply(this,arguments)}function Bi(R){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,F.Z)(function*(R){const N=yield Pe(R.firebaseDependencies);N&&(yield sn(R.firebaseDependencies,N.token),yield rn(R.firebaseDependencies));const Q=yield R.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function B(R,N){return ue.apply(this,arguments)}function ue(){return(ue=(0,F.Z)(function*(R,N){try{const Q=yield bt(R.firebaseDependencies,N),he=Object.assign(Object.assign({},N),{token:Q,createTime:Date.now()});return yield ft(R.firebaseDependencies,he),Q}catch(Q){throw yield Bi(R),Q}})).apply(this,arguments)}function Re(R,N){return ht.apply(this,arguments)}function ht(){return(ht=(0,F.Z)(function*(R,N){const he={token:yield rt(R,N),createTime:Date.now(),subscriptionOptions:N};return yield ft(R,he),he.token})).apply(this,arguments)}function Wt(R,N){return tn.apply(this,arguments)}function tn(){return(tn=(0,F.Z)(function*(R,N){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yi(N)})})).apply(this,arguments)}function nn(R,N){return N.vapidKey===R.vapidKey&&N.endpoint===R.endpoint&&N.auth===R.auth&&N.p256dh===R.p256dh}function Pn(R){const N={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Hi(R,N){if(!N.notification)return;R.notification={};const Q=N.notification.title;Q&&(R.notification.title=Q);const he=N.notification.body;he&&(R.notification.body=he);const ke=N.notification.image;ke&&(R.notification.image=ke)}(N,R),function xt(R,N){!N.data||(R.data=N.data)}(N,R),function Vs(R,N){var Q,he,ke,Qe,yt;if(!N.fcmOptions&&!(null===(Q=N.notification)||void 0===Q?void 0:Q.click_action))return;R.fcmOptions={};const Ke=null!==(ke=null===(he=N.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==ke?ke:null===(Qe=N.notification)||void 0===Qe?void 0:Qe.click_action;Ke&&(R.fcmOptions.link=Ke);const jn=null===(yt=N.fcmOptions)||void 0===yt?void 0:yt.analytics_label;jn&&(R.fcmOptions.analyticsLabel=jn)}(N,R),N}function _i(R){return"object"==typeof R&&!!R&&Bn in R}function Ka(R,N){const Q=[];for(let he=0;he<R.length;he++)Q.push(R.charAt(he)),he<N.length&&Q.push(N.charAt(he));return Q.join("")}function On(R){return $e.create("missing-app-config-values",{valueName:R})}Ka("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ka("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bs{constructor(N,Q,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function Us(R){if(!R||!R.options)throw On("App Configuration Object");if(!R.name)throw On("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=R;for(const he of N)if(!Q[he])throw On(he);return{appName:R.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:ke,installations:Q,analyticsProvider:he}}_delete(){return Promise.resolve()}}function ls(R){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,F.Z)(function*(R){var N;try{R.swRegistration=yield navigator.serviceWorker.register(Hn,{scope:Ei}),R.swRegistration.update().catch(()=>{})}catch(Q){throw $e.create("failed-service-worker-registration",{browserErrorMessage:null===(N=Q)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Mn(R,N){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,F.Z)(function*(R,N){if(!N&&!R.swRegistration&&(yield ls(R)),N||!R.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw $e.create("invalid-sw-registration");R.swRegistration=N}})).apply(this,arguments)}function Ll(R,N){return xi.apply(this,arguments)}function xi(){return(xi=(0,F.Z)(function*(R,N){N?R.vapidKey=N:R.vapidKey||(R.vapidKey=yr)})).apply(this,arguments)}function co(){return(co=(0,F.Z)(function*(R,N){if(!navigator)throw $e.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $e.create("permission-blocked");return yield Ll(R,null==N?void 0:N.vapidKey),yield Mn(R,null==N?void 0:N.serviceWorkerRegistration),ai(R)})).apply(this,arguments)}function Fl(R,N,Q){return cs.apply(this,arguments)}function cs(){return(cs=(0,F.Z)(function*(R,N,Q){const he=Fr(N);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Q[Bn],message_name:Q[Ki],message_time:Q[Ui],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fr(R){switch(R){case dt.NOTIFICATION_CLICKED:return"notification_open";case dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function uo(){return(uo=(0,F.Z)(function*(R,N){const Q=N.data;if(!Q.isFirebaseMessaging)return;R.onMessageHandler&&Q.messageType===dt.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Pn(Q)):R.onMessageHandler.next(Pn(Q)));const he=Q.data;_i(he)&&"1"===he[en]&&(yield Fl(R,Q.messageType,he))})).apply(this,arguments)}const Vl="@firebase/messaging",Hs=R=>{const N=new Bs(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function wr(R,N){return uo.apply(this,arguments)}(N,Q)),N},Gc=R=>{const N=R.getProvider("messaging").getImmediate();return{getToken:he=>function br(R,N){return co.apply(this,arguments)}(N,he)}};function Qr(){return $c.apply(this,arguments)}function $c(){return($c=(0,F.Z)(function*(){try{yield(0,we.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Gp(){(0,le._registerComponent)(new Te.wA("messaging",Hs,"PUBLIC")),(0,le._registerComponent)(new Te.wA("messaging-internal",Gc,"PRIVATE")),(0,le.registerVersion)(Vl,"0.9.16"),(0,le.registerVersion)(Vl,"0.9.16","esm2017")}();var Vo=k(7982),Qc=k(4408),Ya=k(7565);const Bl=new class $p extends Ya.v{}(class Ul extends Qc.o{constructor(N,Q){super(N,Q),this.scheduler=N,this.work=Q}schedule(N,Q=0){return Q>0?super.schedule(N,Q):(this.delay=Q,this.state=N,this.scheduler.flush(this),this)}execute(N,Q){return Q>0||this.closed?super.execute(N,Q):this._execute(N,Q)}requestAsyncId(N,Q,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(N,Q,he):N.flush(this)}});var Uo=k(4986),Vr=k(8306),ya=k(8505),Qa=k(9468),Jc=k(5363);const Tn=new r.GfV("7.4.1"),Jr="__angularfire_symbol__analyticsIsSupportedValue",Hl="__angularfire_symbol__analyticsIsSupported",js="__angularfire_symbol__remoteConfigIsSupportedValue",Ja="__angularfire_symbol__remoteConfigIsSupported",Si="__angularfire_symbol__messagingIsSupportedValue",us="__angularfire_symbol__messagingIsSupported";globalThis[Hl]||(globalThis[Hl]=(0,Vo.Gb)().then(R=>globalThis[Jr]=R).catch(()=>globalThis[Jr]=!1)),globalThis[us]||(globalThis[us]=Qr().then(R=>globalThis[Si]=R).catch(()=>globalThis[Si]=!1)),globalThis[Ja]||(globalThis[Ja]=Et().then(R=>globalThis[js]=R).catch(()=>globalThis[js]=!1));const jl={async:()=>globalThis[Hl],sync:()=>{const R=globalThis[Jr];if(void 0===R)throw new Error((R=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${R} in the constructor, first ensure that ${R} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${R})\`.`)("Analytics"));return R}};function Bo(R,N,Q){if(N){if(1===N.length)return N[0];const Qe=N.filter(yt=>yt.app===Q);if(1===Qe.length)return Qe[0]}return Q.container.getProvider(R).getImmediate({optional:!0})}const Zl=(R,N)=>{const Q=N?[N]:(0,te.C6)(),he=[];return Q.forEach(ke=>{ke.container.getProvider(R).instances.forEach(yt=>{he.includes(yt)||he.push(yt)})}),he};function ds(){}class zp{constructor(N,Q=Bl){this.zone=N,this.delegate=Q}now(){return this.delegate.now()}schedule(N,Q,he){const ke=this.zone;return this.delegate.schedule(function(yt){ke.runGuarded(()=>{N.apply(this,[yt])})},Q,he)}}class Fn{constructor(N){this.zone=N,this.task=null}call(N,Q){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)),Q.pipe((0,ya.b)({next:he,complete:he,error:he})).subscribe(N).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xa=(()=>{class R{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new zp(Zone.current)),this.insideAngular=Q.run(()=>new zp(Zone.current,Uo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(Q){return new(Q||R)(r.LFG(r.R0b))},R.\u0275prov=r.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Ur(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Dn(R){return Ur().ngZone.runOutsideAngular(()=>R())}function hs(R){return Ur().ngZone.run(()=>R())}function ji(R){return Ur(),function Gl(R){return function(Q){return(Q=Q.lift(new Fn(R.ngZone))).pipe((0,Qa.R)(R.outsideAngular),(0,Jc.Q)(R.insideAngular))}}(Ur())(R)}const Ho=(R,N)=>function(){const he=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),hs(()=>R.apply(void 0,he))},Xr=(R,N)=>function(){let Q;const he=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof he[Qe]&&(N&&(Q||(Q=hs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)))),he[Qe]=Ho(he[Qe],Q));const ke=Dn(()=>R.apply(this,he));if(!N){if(ke instanceof Vr.y){const Qe=Ur();return ke.pipe((0,Qa.R)(Qe.outsideAngular),(0,Jc.Q)(Qe.insideAngular))}return hs(()=>ke)}return ke instanceof Vr.y?ke.pipe(ji):ke instanceof Promise?hs(()=>new Promise((Qe,yt)=>ke.then(Ke=>hs(()=>Qe(Ke)),Ke=>hs(()=>yt(Ke))))):"function"==typeof ke&&Q?function(){return setTimeout(()=>{Q&&"scheduled"===Q.state&&Q.invoke()},10),ke.apply(this,arguments)}:hs(()=>ke)}},2090:(ot,Ce,k)=>{k.d(Ce,{$s:()=>ei,BH:()=>Fe,G6:()=>Ze,L:()=>_e,LL:()=>oe,Mn:()=>Se,Sg:()=>Ee,UG:()=>ye,US:()=>Te,ZB:()=>Y,ZR:()=>De,b$:()=>je,d:()=>Oe,eu:()=>H,hl:()=>W,jU:()=>ve,m9:()=>Qi,ne:()=>Et,pd:()=>Vi,r3:()=>ri,ru:()=>Ve,tV:()=>me,uI:()=>He,vZ:()=>_r,w1:()=>Ge,xO:()=>Ii,xb:()=>Rt,z$:()=>Ne,zI:()=>ee,zd:()=>Ti});const le=function(j){const K=[];let U=0;for(let q=0;q<j.length;q++){let $=j.charCodeAt(q);$<128?K[U++]=$:$<2048?(K[U++]=$>>6|192,K[U++]=63&$|128):55296==(64512&$)&&q+1<j.length&&56320==(64512&j.charCodeAt(q+1))?($=65536+((1023&$)<<10)+(1023&j.charCodeAt(++q)),K[U++]=$>>18|240,K[U++]=$>>12&63|128,K[U++]=$>>6&63|128,K[U++]=63&$|128):(K[U++]=$>>12|224,K[U++]=$>>6&63|128,K[U++]=63&$|128)}return K},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,K){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let $=0;$<j.length;$+=3){const Pe=j[$],Ye=$+1<j.length,ft=Ye?j[$+1]:0,cn=$+2<j.length,rn=cn?j[$+2]:0;let Ue=(15&ft)<<2|rn>>6,$e=63&rn;cn||($e=64,Ye||(Ue=64)),q.push(U[Pe>>2],U[(3&Pe)<<4|ft>>4],U[Ue],U[$e])}return q.join("")},encodeString(j,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(j):this.encodeByteArray(le(j),K)},decodeString(j,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(j):function(j){const K=[];let U=0,q=0;for(;U<j.length;){const $=j[U++];if($<128)K[q++]=String.fromCharCode($);else if($>191&&$<224){const Pe=j[U++];K[q++]=String.fromCharCode((31&$)<<6|63&Pe)}else if($>239&&$<365){const cn=((7&$)<<18|(63&j[U++])<<12|(63&j[U++])<<6|63&j[U++])-65536;K[q++]=String.fromCharCode(55296+(cn>>10)),K[q++]=String.fromCharCode(56320+(1023&cn))}else{const Pe=j[U++],Ye=j[U++];K[q++]=String.fromCharCode((15&$)<<12|(63&Pe)<<6|63&Ye)}}return K.join("")}(this.decodeStringToByteArray(j,K))},decodeStringToByteArray(j,K){this.init_();const U=K?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let $=0;$<j.length;){const Pe=U[j.charAt($++)],ft=$<j.length?U[j.charAt($)]:0;++$;const rn=$<j.length?U[j.charAt($)]:64;++$;const pe=$<j.length?U[j.charAt($)]:64;if(++$,null==Pe||null==ft||null==rn||null==pe)throw Error();q.push(Pe<<2|ft>>4),64!==rn&&(q.push(ft<<4&240|rn>>2),64!==pe&&q.push(rn<<6&192|pe))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},_e=function(j){return function(j){const K=le(j);return Te.encodeByteArray(K,!0)}(j).replace(/\./g,"")},me=function(j){try{return Te.decodeString(j,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function Y(j,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return K}for(const U in K)!K.hasOwnProperty(U)||!re(U)||(j[U]=Y(j[U],K[U]));return j}function re(j){return"__proto__"!==j}class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,U)=>{this.resolve=K,this.reject=U})}wrapCallback(K){return(U,q)=>{U?this.reject(U):this.resolve(q),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(U):K(U,q))}}}function Ee(j,K){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=K||"demo-project",$=j.iat||0,Pe=j.sub||j.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:$,exp:$+3600,auth_time:$,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Ye)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function ve(){return"object"==typeof self&&self.self===self}function Ve(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return Ne().indexOf("Electron/")>=0}function Ge(){const j=Ne();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Se(){return Ne().indexOf("MSAppHost/")>=0}function Ze(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function H(){return new Promise((j,K)=>{try{let U=!0;const q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(q);$.onsuccess=()=>{$.result.close(),U||self.indexedDB.deleteDatabase(q),j(!0)},$.onupgradeneeded=()=>{U=!1},$.onerror=()=>{var Pe;K((null===(Pe=$.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(U){K(U)}})}function ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class De extends Error{constructor(K,U,q){super(U),this.code=K,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(K,U,q){this.service=K,this.serviceName=U,this.errors=q}create(K,...U){const q=U[0]||{},$=`${this.service}/${K}`,Pe=this.errors[K],Ye=Pe?function wt(j,K){return j.replace(Vt,(U,q)=>{const $=K[q];return null!=$?String($):`<${q}?>`})}(Pe,q):"Error";return new De($,`${this.serviceName}: ${Ye} (${$}).`,q)}}const Vt=/\{\$([^}]+)}/g;function ri(j,K){return Object.prototype.hasOwnProperty.call(j,K)}function Rt(j){for(const K in j)if(Object.prototype.hasOwnProperty.call(j,K))return!1;return!0}function _r(j,K){if(j===K)return!0;const U=Object.keys(j),q=Object.keys(K);for(const $ of U){if(!q.includes($))return!1;const Pe=j[$],Ye=K[$];if(si(Pe)&&si(Ye)){if(!_r(Pe,Ye))return!1}else if(Pe!==Ye)return!1}for(const $ of q)if(!U.includes($))return!1;return!0}function si(j){return null!==j&&"object"==typeof j}function Ii(j){const K=[];for(const[U,q]of Object.entries(j))Array.isArray(q)?q.forEach($=>{K.push(encodeURIComponent(U)+"="+encodeURIComponent($))}):K.push(encodeURIComponent(U)+"="+encodeURIComponent(q));return K.length?"&"+K.join("&"):""}function Ti(j){const K={};return j.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[$,Pe]=q.split("=");K[decodeURIComponent($)]=decodeURIComponent(Pe)}}),K}function Vi(j){const K=j.indexOf("?");if(!K)return"";const U=j.indexOf("#",K);return j.substring(K,U>0?U:void 0)}function Et(j,K){const U=new oi(j,K);return U.subscribe.bind(U)}class oi{constructor(K,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{K(this)}).catch(q=>{this.error(q)})}next(K){this.forEachObserver(U=>{U.next(K)})}error(K){this.forEachObserver(U=>{U.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,U,q){let $;if(void 0===K&&void 0===U&&void 0===q)throw new Error("Missing Observer.");$=function Hn(j,K){if("object"!=typeof j||null===j)return!1;for(const U of K)if(U in j&&"function"==typeof j[U])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:U,complete:q},void 0===$.next&&($.next=Ei),void 0===$.error&&($.error=Ei),void 0===$.complete&&($.complete=Ei);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(Ye){}}),this.observers.push($),Pe}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,K)}sendOne(K,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{U(this.observers[K])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ei(){}function ei(j,K=1e3,U=2){const q=K*Math.pow(U,j),$=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+$)}function Qi(j){return j&&j._delegate?j._delegate:j}},9062:(ot,Ce,k)=>{var r=k(5e3);let te=null;function F(){return te}const ce=new r.OlP("DocumentToken");let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return function me(){return(0,r.LFG)(Y)}()},providedIn:"platform"}),n})();const G=new r.OlP("Location Initialized");let Y=(()=>{class n extends _e{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){re()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){re()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce))},n.\u0275prov=r.Yz7({token:n,factory:function(){return function Fe(){return new Y((0,r.LFG)(ce))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Ee(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:function(){return function ve(n){const t=(0,r.LFG)(ce).location;return new je((0,r.LFG)(_e),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ve=new r.OlP("appBaseHref");let je=(()=>{class n extends ye{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ee(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,o){const u=this.prepareExternalUrl(s+He(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){const u=this.prepareExternalUrl(s+He(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(_e),r.LFG(Ve,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends ye{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ee(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,o){let u=this.prepareExternalUrl(s+He(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){let u=this.prepareExternalUrl(s+He(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(_e),r.LFG(Ve,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(e,i){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(Ze(s)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+He(i))}normalize(e){return n.stripTrailingSlash(function it(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=He,n.joinWithSlash=Ee,n.stripTrailingSlash=Ne,n.\u0275fac=function(e){return new(e||n)(r.LFG(ye),r.LFG(_e))},n.\u0275prov=r.Yz7({token:n,factory:function(){return function Se(){return new Ge((0,r.LFG)(ye),(0,r.LFG)(_e))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var H=(()=>((H=H||{})[H.Decimal=0]="Decimal",H[H.Percent=1]="Percent",H[H.Currency=2]="Currency",H[H.Scientific=3]="Scientific",H))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function Rt(n,t){const e=(0,r.cg1)(n),i=e[r.wAp.NumberSymbols][t];if(void 0===i){if(t===oe.CurrencyDecimal)return e[r.wAp.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[r.wAp.NumberSymbols][oe.Group]}return i}const jt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tn(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Vs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}let _i=(()=>{class n{constructor(e,i,s,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Us{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,o,u)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Us(s.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),Bs(h,s)}});for(let s=0,o=i.length;s<o;s++){const h=i.get(s).context;h.index=s,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{Bs(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Bs(n,t){n.context.$implicit=t.item}let Xt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Mn{constructor(){this.$implicit=null,this.ngIf=null}}function Fo(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let wr=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),uo=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),n})();function Di(n,t){return new r.vHH(2100,"")}let Bl=(()=>{class n{constructor(e){this._locale=e}transform(e,i,s){if(!function Vr(n){return!(null==n||""===n||n!=n)}(e))return null;s=s||this._locale;try{return function B(n,t,e){return function Fs(n,t,e,i,s,o,u=!1){let h="",g=!1;if(isFinite(n)){let v=function ht(n){let i,s,o,u,h,t=Math.abs(n)+"",e=0;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(s<0&&(s=o),s+=+t.slice(o+1),t=t.substring(0,o)):s<0&&(s=t.length),o=0;"0"===t.charAt(o);o++);if(o===(h=t.length))i=[0],s=1;else{for(h--;"0"===t.charAt(h);)h--;for(s-=o,i=[],u=0;o<=h;o++,u++)i[u]=Number(t.charAt(o))}return s>22&&(i=i.splice(0,21),e=s-1,s=1),{digits:i,exponent:e,integerLen:s}}(n);u&&(v=function Re(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(v));let I=t.minInt,E=t.minFrac,O=t.maxFrac;if(o){const tt=o.match(jt);if(null===tt)throw new Error(`${o} is not a valid digit info`);const nt=tt[1],Je=tt[3],Lt=tt[5];null!=nt&&(I=tn(nt)),null!=Je&&(E=tn(Je)),null!=Lt?O=tn(Lt):null!=Je&&E>O&&(O=E)}!function Wt(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,s=i.length-n.integerLen;const o=Math.min(Math.max(t,s),e);let u=o+n.integerLen,h=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let E=u;E<i.length;E++)i[E]=0}else{s=Math.max(0,s),n.integerLen=1,i.length=Math.max(1,u=o+1),i[0]=0;for(let E=1;E<u;E++)i[E]=0}if(h>=5)if(u-1<0){for(let E=0;E>u;E--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;s<Math.max(0,o);s++)i.push(0);let g=0!==o;const v=t+n.integerLen,I=i.reduceRight(function(E,O,M,V){return V[M]=(O+=E)<10?O:O-10,g&&(0===V[M]&&M>=v?V.pop():g=!1),O>=10?1:0},0);I&&(i.unshift(I),n.integerLen++)}(v,E,O);let M=v.digits,V=v.integerLen;const X=v.exponent;let ie=[];for(g=M.every(tt=>!tt);V<I;V++)M.unshift(0);for(;V<0;V++)M.unshift(0);V>0?ie=M.splice(V,M.length):(ie=M,M=[0]);const Be=[];for(M.length>=t.lgSize&&Be.unshift(M.splice(-t.lgSize,M.length).join(""));M.length>t.gSize;)Be.unshift(M.splice(-t.gSize,M.length).join(""));M.length&&Be.unshift(M.join("")),h=Be.join(Rt(e,i)),ie.length&&(h+=Rt(e,s)+ie.join("")),X&&(h+=Rt(e,oe.Exponential)+"+"+X)}else h=Rt(e,oe.Infinity);return h=n<0&&!g?t.negPre+h+t.negSuf:t.posPre+h+t.posSuf,h}(n,function ue(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),s=i[0],o=i[1],u=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],h=u[0],g=u[1]||"";e.posPre=h.substr(0,h.indexOf("#"));for(let I=0;I<g.length;I++){const E=g.charAt(I);"0"===E?e.minFrac=e.maxFrac=I+1:"#"===E?e.maxFrac=I+1:e.posSuf+=E}const v=h.split(",");if(e.gSize=v[1]?v[1].length:0,e.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,o){const I=s.length-e.posPre.length-e.posSuf.length,E=o.indexOf("#");e.negPre=o.substr(0,E).replace(/'/g,""),e.negSuf=o.substr(E+I).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Wi(n,t){return(0,r.cg1)(n)[r.wAp.NumberFormats][t]}(t,H.Decimal),Rt(t,oe.MinusSign)),t,oe.Group,oe.Decimal,e)}(function ya(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),s,i)}catch(o){throw Di()}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.soG,16))},n.\u0275pipe=r.Yjl({name:"number",type:n,pure:!0}),n})();let Qa=(()=>{class n{transform(e,i,s){if(null==e)return null;if(!this.supports(e))throw Di();return e.slice(i,s)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=r.Yjl({name:"slice",type:n,pure:!1}),n})(),Tn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const Jr="browser";function Si(n){return n===Jr}function us(n){return"server"===n}let jl=(()=>{class n{}return n.\u0275prov=(0,r.Yz7)({token:n,providedIn:"root",factory:()=>new Bo((0,r.LFG)(ce),window)}),n})();class Bo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ds(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Zl(this.window.history)||Zl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Zl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fn{}class Ur extends class Xa extends class Te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function we(n){te||(te=n)}(new Ur)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hs(){return Dn=Dn||document.querySelector("base"),Dn?Dn.getAttribute("href"):null}();return null==e?null:function va(n){ql=ql||document.createElement("a"),ql.setAttribute("href",n);const t=ql.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Vs(document.cookie,t)}}let ql,Dn=null;const ji=new r.OlP("TRANSITION_ID"),Ho=[{provide:r.ip1,useFactory:function Gl(n,t,e){return()=>{e.get(r.CZH).donePromise.then(()=>{const i=F(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<s.length;o++)i.remove(s[o])})}},deps:[ji,ce,r.zs3],multi:!0}];class Xr{static init(){(0,r.VLi)(new Xr)}addToWindow(t){r.dqk.getAngularTestability=(i,s=!0)=>{const o=t.findTestabilityInTree(i,s);if(null==o)throw new Error("Could not find testability for element.");return o},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(i=>{const s=r.dqk.getAllAngularTestabilities();let o=s.length,u=!1;const h=function(g){u=u||g,o--,0==o&&i(u)};s.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let R=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const N=new r.OlP("EventManagerPlugins");let Q=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let o=0;o<s.length;o++){const u=s[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(N),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class he{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=F().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let ke=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n extends ke{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,s.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(yt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(yt))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function yt(n){F().remove(n)}const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jn=/%COMP%/g;function Ae(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Ae(n,s,e):(s=s.replace(jn,n),e.push(s))}return e}function Zt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Rn=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Zs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case r.ifc.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Zo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case r.ifc.ShadowDom:return new $d(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Ae(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Q),r.LFG(Qe),r.LFG(r.AFp))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class Zs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ke[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const o=Ke[s];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Ke[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,i,s&r.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Zt(i)):this.eventManager.addEventListener(t,e,Zt(i))}}class Zo extends Zs{constructor(t,e,i,s){super(t),this.component=i;const o=Ae(s+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function el(n){return"_ngcontent-%COMP%".replace(jn,n)}(s+"-"+i.id),this.hostAttr=function jo(n){return"_nghost-%COMP%".replace(jn,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class $d extends Zs{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ae(s.id,s.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ub=(()=>{class n extends he{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const tu=["alt","control","meta","shift"],iu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ho={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ru=(()=>{class n extends he{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=n._normalizeKey(i.pop());let u="";if(tu.forEach(g=>{const v=i.indexOf(g);v>-1&&(i.splice(v,1),u+=g+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=s,h.fullKey=u,h}static getEventFullKey(e){let i="",s=function tl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Oi.hasOwnProperty(t)&&(t=Oi[t]))}return iu[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),tu.forEach(o=>{o!=s&&ho[o](e)&&(i+=o+".")}),i+=s,i}static eventCallback(e,i,s){return o=>{n.getEventFullKey(o)===e&&s.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const zd=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:Jr},{provide:r.g9A,useValue:function ps(){Ur.makeCurrent(),Xr.init()},multi:!0},{provide:ce,useFactory:function su(){return(0,r.RDi)(document),document},deps:[]}]),Wd=[{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function Km(){return new r.qLn},deps:[]},{provide:N,useClass:ub,multi:!0,deps:[ce,r.R0b,r.Lbi]},{provide:N,useClass:ru,multi:!0,deps:[ce]},{provide:Rn,useClass:Rn,deps:[Q,Qe,r.AFp]},{provide:r.FYo,useExisting:Rn},{provide:ke,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[ce]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Q,useClass:Q,deps:[N,r.R0b]},{provide:Fn,useClass:R,deps:[]}];let ba=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:r.AFp,useValue:e.appId},{provide:ji,useExisting:r.AFp},Ho]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n,12))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:Wd,imports:[Tn,r.hGG]}),n})(),nl=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce))},n.\u0275prov=r.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Wp(){return new nl((0,r.LFG)(ce))}(),i},providedIn:"root"}),n})();"undefined"!=typeof window&&window;var ti=k(8996),Zi=k(8306);const{isArray:Kd}=Array,{getPrototypeOf:Ql,prototype:tf,keys:fs}=Object;function Yd(n){if(1===n.length){const t=n[0];if(Kd(t))return{args:t,keys:null};if(function nf(n){return n&&"object"==typeof n&&Ql(n)===tf}(t)){const e=fs(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var qi=k(8421),rl=k(3269),Kt=k(5403),Nt=k(4004);const{isArray:sl}=Array;function ol(n){return(0,Nt.U)(t=>function mb(n,t){return sl(t)?n(...t):n(t)}(n,t))}function Qd(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}function rf(...n){const t=(0,rl.jO)(n),{args:e,keys:i}=Yd(n),s=new Zi.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let g=u,v=u;for(let I=0;I<u;I++){let E=!1;(0,qi.Xf)(e[I]).subscribe(new Kt.Q(o,O=>{E||(E=!0,v--),h[I]=O},()=>g--,void 0,()=>{(!g||!E)&&(v||o.next(i?Qd(i,h):h),o.complete())}))}});return t?s.pipe(ol(t)):s}let Jd=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),gs=(()=>{class n extends Jd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const Mi=new r.OlP("NgValueAccessor"),Ca={provide:Mi,useExisting:(0,r.Gpc)(()=>dr),multi:!0},uu=new r.OlP("CompositionEventMode");let dr=(()=>{class n extends Jd{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function e_(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(uu,8))},n.\u0275dir=r.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&r.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[r._Bn([Ca]),r.qOj]}),n})();function ms(n){return null==n||0===n.length}function Xd(n){return null!=n&&"number"==typeof n.length}const ki=new r.OlP("NgValidators"),go=new r.OlP("NgAsyncValidators"),du=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class un{static min(t){return function t_(n){return t=>{if(ms(t.value)||ms(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Go(n){return t=>{if(ms(t.value)||ms(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function eh(n){return ms(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Ia(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function th(n){return ms(n.value)||du.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function al(n){return t=>ms(t.value)||!Xd(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return hu(t)}static pattern(t){return function $o(n){if(!n)return Gs;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ms(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return Zn(t)}static composeAsync(t){return n_(t)}}function hu(n){return t=>Xd(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Gs(n){return null}function Ta(n){return null!=n}function nh(n){const t=(0,r.QGY)(n)?(0,ti.D)(n):n;return(0,r.CqO)(t),t}function Ea(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function xa(n,t){return t.map(e=>e(n))}function sf(n){return n.map(t=>function _b(n){return!n.validate}(t)?t:e=>t.validate(e))}function Zn(n){if(!n)return null;const t=n.filter(Ta);return 0==t.length?null:function(e){return Ea(xa(e,t))}}function ih(n){return null!=n?Zn(sf(n)):null}function n_(n){if(!n)return null;const t=n.filter(Ta);return 0==t.length?null:function(e){return rf(xa(e,t).map(nh)).pipe((0,Nt.U)(Ea))}}function af(n){return null!=n?n_(sf(n)):null}function i_(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function r_(n){return n._rawValidators}function lf(n){return n._rawAsyncValidators}function cf(n){return n?Array.isArray(n)?n:[n]:[]}function zo(n,t){return Array.isArray(n)?n.includes(t):n===t}function s_(n,t){const e=cf(t);return cf(n).forEach(s=>{zo(e,s)||e.push(s)}),e}function Yn(n,t){return cf(t).filter(e=>!zo(n,e))}class pu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ih(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=af(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cr extends pu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ir extends pu{get formDirective(){return null}get path(){return null}}class fu{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let yi=(()=>{class n extends fu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Cr,2))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[r.qOj]}),n})(),Tr=(()=>{class n extends fu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ir,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&r.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[r.qOj]}),n})();function cl(n,t){return[...t.path,n]}function Wo(n,t){Aa(n,t),t.valueAccessor.writeValue(n.value),function dl(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hf(n,t)})}(n,t),function oh(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function sh(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hf(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function yb(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ul(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ko(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vs(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Aa(n,t){const e=r_(n);null!==t.validator?n.setValidators(i_(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=lf(n);null!==t.asyncValidator?n.setAsyncValidators(i_(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();vs(t._rawValidators,s),vs(t._rawAsyncValidators,s)}function Ko(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=r_(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.validator);o.length!==s.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const s=lf(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.asyncValidator);o.length!==s.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return vs(t._rawValidators,i),vs(t._rawAsyncValidators,i),e}function hf(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bu(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Pa(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(o=>{o.constructor===dr?e=o:function wu(n){return Object.getPrototypeOf(n.constructor)===gs}(o)?i=o:s=o}),s||i||e||null}function Xl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const bs="VALID",$s="INVALID",Yo="PENDING",ws="DISABLED";function tc(n){return(ic(n)?n.validators:n)||null}function nc(n){return Array.isArray(n)?ih(n):n||null}function Oa(n,t){return(ic(t)?t.asyncValidators:n)||null}function ah(n){return Array.isArray(n)?af(n):n||null}function ic(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Iu=n=>n instanceof on,Qo=n=>n instanceof Er;function gf(n){return Iu(n)?n.value:n.getRawValue()}function lh(n,t){const e=Qo(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new r.vHH(1e3,"");if(!i[t])throw new r.vHH(1001,"")}function ch(n,t){Qo(n),n._forEachChild((i,s)=>{if(void 0===t[s])throw new r.vHH(1002,"")})}class uh{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=nc(this._rawValidators),this._composedAsyncValidatorFn=ah(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bs}get invalid(){return this.status===$s}get pending(){return this.status==Yo}get disabled(){return this.status===ws}get enabled(){return this.status!==ws}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ah(t)}addValidators(t){this.setValidators(s_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(s_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Yn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Yn(t,this._rawAsyncValidators))}hasValidator(t){return zo(this._rawValidators,t)}hasAsyncValidator(t){return zo(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Yo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ws,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bs,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bs||this.status===Yo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ws:bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Yo,this._hasOwnPendingAsyncValidator=!0;const e=nh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function c_(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=Qo(i)?i.controls.hasOwnProperty(s)?i.controls[s]:null:(n=>n instanceof Tu)(i)&&i.at(s)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?ws:this.errors?$s:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yo)?Yo:this._anyControlsHaveStatus($s)?$s:bs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ic(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class on extends uh{constructor(t=null,e,i){super(tc(e),Oa(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ic(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Xl(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Xl(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Er extends uh{constructor(t,e,i){super(tc(e),Oa(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ch(this,t),Object.keys(t).forEach(i=>{lh(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=gf(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,o)=>{i=e(i,s,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Tu extends uh{constructor(t,e,i){super(tc(e),Oa(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){ch(this,t),t.forEach((i,s)=>{lh(this,s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>gf(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Ma=(()=>{class n extends Ir{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const mf={provide:Cr,useExisting:(0,r.Gpc)(()=>zs)},ph=(()=>Promise.resolve(null))();let zs=(()=>{class n extends Cr{constructor(e,i,s,o,u){super(),this._changeDetectorRef=u,this.control=new on,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Pa(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),bu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ph.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,s=""===i||i&&"false"!==i;ph.then(()=>{var o;s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?cl(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ir,9),r.Y36(ki,10),r.Y36(go,10),r.Y36(Mi,10),r.Y36(r.sBO,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([mf]),r.qOj,r.TTD]}),n})(),_o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const d_={provide:Mi,useExisting:(0,r.Gpc)(()=>Eu),multi:!0};let yo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),ka=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:yo}),n})(),Eu=(()=>{class n extends gs{constructor(e,i,s,o){super(e,i),this._registry=s,this._injector=o,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Cr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(ka),r.Y36(r.zs3))},n.\u0275dir=r.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r._Bn([d_]),r.qOj]}),n})();const fh=new r.OlP("NgModelWithFormControlWarning"),bf={provide:Ir,useExisting:(0,r.Gpc)(()=>ts)};let ts=(()=>{class n extends Ir{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ko(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Wo(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ul(e.control||null,e,!1),Xl(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function Cu(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(ul(i||null,e),Iu(s)&&(Wo(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function _u(n,t){Aa(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function pf(n,t){return Ko(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Aa(this.form,this),this._oldForm&&Ko(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ki,10),r.Y36(go,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&r.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([bf]),r.qOj,r.TTD]}),n})();const wf={provide:Ir,useExisting:(0,r.Gpc)(()=>ac)};let ac=(()=>{class n extends Ma{constructor(e,i,s){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(s)}_checkParentType(){f_(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ir,13),r.Y36(ki,10),r.Y36(go,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r._Bn([wf]),r.qOj]}),n})();const p_={provide:Ir,useExisting:(0,r.Gpc)(()=>Cf)};let Cf=(()=>{class n extends Ir{constructor(e,i,s){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return cl(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){f_(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ir,13),r.Y36(ki,10),r.Y36(go,10))},n.\u0275dir=r.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r._Bn([p_]),r.qOj]}),n})();function f_(n){return!(n instanceof ac||n instanceof ts||n instanceof Cf)}const Ws={provide:Cr,useExisting:(0,r.Gpc)(()=>Cs)};let Cs=(()=>{class n extends Cr{constructor(e,i,s,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Pa(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),bu(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return cl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(r.Y36(Ir,13),r.Y36(ki,10),r.Y36(go,10),r.Y36(Mi,10),r.Y36(fh,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Ws]),r.qOj,r.TTD]}),n})();const Ks={provide:Mi,useExisting:(0,r.Gpc)(()=>vo),multi:!0};function Xo(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let vo=(()=>{class n extends gs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=Xo(this._getOptionId(e),e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function If(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Ks]),r.qOj]}),n})(),lc=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Xo(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(vo,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Tb={provide:Mi,useExisting:(0,r.Gpc)(()=>Ra),multi:!0};function mh(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Ra=(()=>{class n extends gs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(o=>this._getOptionId(o));i=(o,u)=>{o._setSelected(s.indexOf(u.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[],o=i.selectedOptions;if(void 0!==o){const u=o;for(let h=0;h<u.length;h++){const v=this._getOptionValue(u[h].value);s.push(v)}}else{const u=i.options;for(let h=0;h<u.length;h++){const g=u[h];if(g.selected){const v=this._getOptionValue(g.value);s.push(v)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Eb(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&r.NdJ("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Tb]),r.qOj]}),n})(),hl=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(mh(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(mh(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Ra,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Na=(()=>{class n{constructor(){this._validator=Gs}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Gs,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,features:[r.TTD]}),n})();const bh={provide:ki,useExisting:(0,r.Gpc)(()=>Su),multi:!0};let Su=(()=>{class n extends Na{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function g_(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>hu(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&r.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r._Bn([bh]),r.qOj]}),n})(),Af=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[yo]]}),n})(),ea=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Af]}),n})(),hr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fh,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Af]}),n})();var Dt=k(7579);class Nn{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,u,h,i=Array.isArray(t),s=Array.isArray(e);if(i&&s){if((u=t.length)!=e.length)return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=s)return!1;var g=t instanceof Date,v=e instanceof Date;if(g!=v)return!1;if(g&&v)return t.getTime()==e.getTime();var I=t instanceof RegExp,E=e instanceof RegExp;if(I!=E)return!1;if(I&&E)return t.toString()==e.toString();var O=Object.keys(t);if((u=O.length)!==Object.keys(e).length)return!1;for(o=u;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,O[o]))return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[h=O[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),s=t;for(let o=0,u=i.length;o<u;++o){if(null==s)return null;s=s[i[o]]}return s}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,s){if(i.length>0){let o=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],s)>e){i.splice(u,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let s=0;s<e.length;s++)if(e[s]==t){i=s;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var uc=0;function Mf(){return"pr_id_"+ ++uc}var La=function wh(){let n=[];const s=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:s,set:(o,u,h)=>{u&&(u.style.zIndex=String(((o,u)=>{let h=n.length>0?n[n.length-1]:{key:o,value:u},g=h.value+(h.key===o?0:u)+1;return n.push({key:o,value:g}),g})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(u=>u.value!==o)})(s(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const xr=["*"];let ni=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),ta=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[ni.STARTS_WITH,ni.CONTAINS,ni.NOT_CONTAINS,ni.ENDS_WITH,ni.EQUALS,ni.NOT_EQUALS],numeric:[ni.EQUALS,ni.NOT_EQUALS,ni.LESS_THAN,ni.LESS_THAN_OR_EQUAL_TO,ni.GREATER_THAN,ni.GREATER_THAN_OR_EQUAL_TO],date:[ni.DATE_IS,ni.DATE_IS_NOT,ni.DATE_BEFORE,ni.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Dt.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pu=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Ou=(()=>{class n{constructor(){this.filters={startsWith:(e,i,s)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Nn.removeAccents(i.toString()).toLocaleLowerCase(s);return Nn.removeAccents(e.toString()).toLocaleLowerCase(s).slice(0,o.length)===o},contains:(e,i,s)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Nn.removeAccents(i.toString()).toLocaleLowerCase(s);return-1!==Nn.removeAccents(e.toString()).toLocaleLowerCase(s).indexOf(o)},notContains:(e,i,s)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Nn.removeAccents(i.toString()).toLocaleLowerCase(s);return-1===Nn.removeAccents(e.toString()).toLocaleLowerCase(s).indexOf(o)},endsWith:(e,i,s)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Nn.removeAccents(i.toString()).toLocaleLowerCase(s),u=Nn.removeAccents(e.toString()).toLocaleLowerCase(s);return-1!==u.indexOf(o,u.length-o.length)},equals:(e,i,s)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Nn.removeAccents(e.toString()).toLocaleLowerCase(s)==Nn.removeAccents(i.toString()).toLocaleLowerCase(s)),notEquals:(e,i,s)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Nn.removeAccents(e.toString()).toLocaleLowerCase(s)==Nn.removeAccents(i.toString()).toLocaleLowerCase(s))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let s=0;s<i.length;s++)if(Nn.equals(e,i[s]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,s)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,s)=>this.filters.equals(e,i,s),isNot:(e,i,s)=>this.filters.notEquals(e,i,s),before:(e,i,s)=>this.filters.lt(e,i,s),after:(e,i,s)=>this.filters.gt(e,i,s),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,s,o,u){let h=[];if(e)for(let g of e)for(let v of i){let I=Nn.resolveFieldData(g,v);if(this.filters[o](I,s,u)){h.push(g);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ys=(()=>{class n{constructor(){this.clickSource=new Dt.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:xr,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2}),n})(),Nf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:xr,decls:1,vars:0,template:function(e,i){1&e&&(r.F$t(),r.Hsn(0))},encapsulation:2}),n})(),Qs=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.Rgc))},n.\u0275dir=r.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})(),x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn],mn]}),n})();var P=k(880);k(5867);var Ie=k(5861),pr=k(9681),qt=k(2090),Mu=k(4859);const jf="firebasestorage.googleapis.com",S_="storageBucket";class ci extends qt.ZR{constructor(t,e){super(Zf(t),`Firebase Storage: ${e} (${Zf(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ci.prototype)}_codeEquals(t){return Zf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Zf(n){return"storage/"+n}function qf(){return new ci("unknown","An unknown error occurred, please check the error payload for server response.")}function P_(){return new ci("canceled","User canceled the upload/download.")}function M_(){return new ci("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Wf(n){return new ci("invalid-argument",n)}function Kf(){return new ci("app-deleted","The Firebase app was deleted.")}function mc(n,t){return new ci("invalid-format","String does not match format '"+n+"': "+t)}function Va(n){throw new ci("internal-error","Internal error: "+n)}class Hr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Hr.makeFromUrl(t,e)}catch(s){return new Hr(t,"")}if(""===i.path)return i;throw function Lb(n){return new ci("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const s="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+s+"(/(.*))?$","i");function v(Je){Je.path_=decodeURIComponent(Je.path)}const E=e.replace(/[.]/g,"\\."),nt=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Je){"/"===Je.path.charAt(Je.path.length-1)&&(Je.path_=Je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===jf?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Je=0;Je<nt.length;Je++){const Lt=nt[Je],kt=Lt.regex.exec(t);if(kt){let zi=kt[Lt.indices.path];zi||(zi=""),i=new Hr(kt[Lt.indices.bucket],zi),Lt.postModify(i);break}}if(null==i)throw function Nb(n){return new ci("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class Vb{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function R_(n){return"string"==typeof n||n instanceof String}function N_(n){return L_()&&n instanceof Blob}function L_(){return"undefined"!=typeof Blob}function Yf(n,t,e,i){if(i<t)throw Wf(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Wf(`Invalid value for '${n}'. Expected ${e} or less.`)}function Ua(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Hb(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var er=(()=>{return(n=er||(er={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",er;var n})();class e1{constructor(t,e,i,s,o,u,h,g,v,I,E){this.url_=t,this.method_=e,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=I,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,M)=>{this.resolve_=O,this.reject_=M,this.start_()})}start_(){const e=(i,s)=>{const o=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function Ub(n){return void 0!==n}(g)?o():o(g)}catch(g){u(g)}else if(null!==h){const g=qf();g.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,g):g)}else u(s.canceled?this.appDelete_?Kf():P_():function QE(){return new ci("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new Th(!1,null,!0)):this.backoffId_=function JE(n,t,e){let i=1,s=null,o=null,u=!1,h=0;function g(){return 2===h}let v=!1;function I(...ie){v||(v=!0,t.apply(null,ie))}function E(ie){s=setTimeout(()=>{s=null,n(M,g())},ie)}function O(){o&&clearTimeout(o)}function M(ie,...Be){if(v)return void O();if(ie)return O(),void I.call(null,ie,...Be);if(g()||u)return O(),void I.call(null,ie,...Be);let nt;i<64&&(i*=2),1===h?(h=2,nt=0):nt=1e3*(i+Math.random()),E(nt)}let V=!1;function X(ie){V||(V=!0,O(),!v&&(null!==s?(ie||(h=2),clearTimeout(s),E(0)):ie||(h=1)))}return E(0),o=setTimeout(()=>{u=!0,X(!0)},e),X}((i,s)=>{if(s)return void i(!1,new Th(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===er.NO_ERROR,g=o.getStatus();if(!h||this.isRetryStatusCode_(g)){const I=o.getErrorCode()===er.ABORT;return void i(!1,new Th(!1,null,I))}const v=-1!==this.successCodes_.indexOf(g);i(!0,new Th(v,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function XE(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,s=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||s||o}}class Th{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function a1(...n){const t=function o1(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(L_())return new Blob(n);throw new ci("unsupported-environment","This browser doesn't seem to support creating Blobs")}class Qf{constructor(t,e){this.data=t,this.contentType=e||null}}function Eh(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function V_(n,t){switch(n){case"base64":{const s=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(s||o)throw mc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const s=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(s||o)throw mc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Yt(n){return atob(n)}(t)}catch(s){throw mc(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}class Zb{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw mc("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function B_(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class ia{constructor(t,e){let i=0,s="";N_(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(N_(this.data_)){const s=function l1(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===s?null:new ia(s)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ia(i,!0)}}static getBlob(...t){if(L_()){const e=t.map(i=>i instanceof ia?i.data_:i);return new ia(a1.apply(null,e))}{const e=t.map(u=>R_(u)?function F_(n,t){switch(n){case"raw":return new Qf(Eh(t));case"base64":case"base64url":return new Qf(V_(n,t));case"data_url":return new Qf(function U_(n){const t=new Zb(n);return t.base64?V_("base64",t.rest):function wo(n){let t;try{t=decodeURIComponent(n)}catch(e){throw mc("data_url","Malformed data URL.")}return Eh(t)}(t.rest)}(t),function Ba(n){return new Zb(n).contentType}(t))}throw qf()}("raw",u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)s[o++]=u[h]}),new ia(s,!0)}}uploadData(){return this.data_}}function xh(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function Bb(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function c1(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Jf(n,t){return t}class tr{constructor(t,e,i,s){this.server=t,this.local=e||t,this.writable=!!i,this.xform=s||Jf}}let ku=null;function _c(){if(ku)return ku;const n=[];n.push(new tr("bucket")),n.push(new tr("generation")),n.push(new tr("metageneration")),n.push(new tr("name","fullPath",!0));const e=new tr("name");e.xform=function t(o,u){return function H_(n){return!R_(n)||n.length<2?n:c1(n)}(u)},n.push(e);const s=new tr("size");return s.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(s),n.push(new tr("timeCreated")),n.push(new tr("updated")),n.push(new tr("md5Hash",null,!0)),n.push(new tr("cacheControl",null,!0)),n.push(new tr("contentDisposition",null,!0)),n.push(new tr("contentEncoding",null,!0)),n.push(new tr("contentLanguage",null,!0)),n.push(new tr("contentType",null,!0)),n.push(new tr("metadata","customMetadata",!0)),ku=n,ku}function Gb(n,t,e){const i=xh(t);return null===i?null:function u1(n,t,e){const i={type:"file"},s=e.length;for(let o=0;o<s;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function fM(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Hr(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function j_(n,t){const e={},i=t.length;for(let s=0;s<i;s++){const o=t[s];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class Co{constructor(t,e,i,s){this.url=t,this.method=e,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Io(n){if(!n)throw qf()}function Xf(n,t){return function e(i,s){const o=Gb(n,s,t);return Io(null!==o),o}}function Dh(n){return function t(e,i){let s;return s=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function YE(){return new ci("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Rb(){return new ci("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function kb(n){return new ci("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Gf(n){return new ci("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,s.serverResponse=i.serverResponse,s}}function eg(n){const t=Dh(n);return function e(i,s){let o=t(i,s);return 404===i.getStatus()&&(o=function gc(n){return new ci("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=s.serverResponse,o}}function Ha(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function wM(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class ng{constructor(t,e,i,s){this.current=t,this.total=e,this.finalized=!!i,this.metadata=s||null}}function ig(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(s){Io(!1)}return Io(!!e&&-1!==(t||["active"]).indexOf(e)),e}function $_(n){switch(n){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class z_{constructor(t,e,i){if(function k_(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Ru(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class y1 extends class _1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=er.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=er.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,s){if(this.sent_)throw Va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==s)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Va("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Zr(){return new y1}class Fu{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=_c(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function G_(n,t,e,i,s){const o=t.bucketOnlyServerUrl(),u=Ha(t,i,s),h={name:u.fullPath},g=Ua(o,n.host,n._protocol),I={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},E=j_(u,e),V=new Co(g,"POST",function M(X){let ie;ig(X);try{ie=X.getResponseHeader("X-Goog-Upload-URL")}catch(Be){Io(!1)}return Io(R_(ie)),ie},n.maxUploadRetryTime);return V.urlParams=h,V.headers=I,V.body=E,V.errorHandler=Dh(t),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Zr,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const s=function $b(n,t,e,i){const g=new Co(e,"POST",function o(v){const I=ig(v,["active","final"]);let E=null;try{E=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(M){Io(!1)}E||Io(!1);const O=Number(E);return Io(!isNaN(O)),new ng(O,i.size(),"final"===I)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=Dh(t),g}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(s,Zr,e,i);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new ng(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,o)=>{let u;try{u=function m1(n,t,e,i,s,o,u,h){const g=new ng(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw function $f(){return new ci("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let I=v;s>0&&(I=Math.min(I,s));const E=g.current,V={"X-Goog-Upload-Command":I===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},X=i.slice(E,E+I);if(null===X)throw M_();const nt=new Co(e,"POST",function ie(Je,Lt){const kt=ig(Je,["active","final"]),wn=g.current+I,zi=i.size();let No;return No="final"===kt?Xf(t,o)(Je,Lt):null,new ng(wn,zi,"final"===kt,No)},t.maxUploadRetryTime);return nt.headers=V,nt.body=X.uploadData(),nt.progressCallback=h||null,nt.errorHandler=Dh(n),nt}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Zr,s,o);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=function f1(n,t,e){const s=Ua(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Co(s,"GET",Xf(n,e),u);return h.errorHandler=eg(t),h}(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,Zr,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function tg(n,t,e,i,s){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let nt="";for(let Je=0;Je<2;Je++)nt+=Math.random().toString().slice(2);return nt}();u["Content-Type"]="multipart/related; boundary="+g;const v=Ha(t,i,s),I=j_(v,e),M=ia.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+I+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===M)throw M_();const V={name:v.fullPath},X=Ua(o,n.host,n._protocol),Be=n.maxUploadRetryTime,tt=new Co(X,"POST",Xf(n,e),Be);return tt.urlParams=V,tt.headers=u,tt.body=M.uploadData(),tt.errorHandler=Dh(t),tt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,Zr,t,e);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=P_(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=$_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,s){const o=new z_(e||void 0,i||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch($_(this._state)){case"success":Ru(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":Ru(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch($_(this._state)){case"running":case"paused":t.next&&Ru(t.next.bind(t,this.snapshot))();break;case"success":t.complete&&Ru(t.complete.bind(t))();break;default:t.error&&Ru(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class vc{constructor(t,e){this._service=t,this._location=e instanceof Hr?e:Hr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new vc(t,e)}get root(){const t=new Hr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c1(this._location.path)}get storage(){return this._service}get parent(){const t=function pM(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Hr(this._location.bucket,t);return new vc(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function Fb(n){return new ci("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function b1(n){n._throwIfRoot("getDownloadURL");const t=function yM(n,t,e){const s=Ua(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Co(s,"GET",function mM(n,t){return function e(i,s){const o=Gb(n,s,t);return Io(null!==o),function d1(n,t,e,i){const s=xh(t);if(null===s||!R_(s.downloadTokens))return null;const o=s.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(v=>{const E=n.fullPath;return Ua("/b/"+u(n.bucket)+"/o/"+u(E),e,i)+Hb({alt:"media",token:v})})[0]}(o,s,n.host,n._protocol)}}(n,e),u);return h.errorHandler=eg(t),h}(n.storage,n._location,_c());return n.storage.makeRequestWithTokens(t,Zr).then(e=>{if(null===e)throw function zf(){return new ci("no-download-url","The given file does not have any download URLs.")}();return e})}function tw(n,t){if(n instanceof lg){const e=n;if(null==e._bucket)throw function O_(){return new ci("no-default-bucket","No default bucket found. Did you set the '"+S_+"' property when initializing the app?")}();const i=new vc(e,e._bucket);return null!=t?tw(i,t):i}return void 0!==t?function ew(n,t){const e=function qb(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Hr(n._location.bucket,e);return new vc(n.storage,i)}(n,t):n}function I1(n,t){const e=null==t?void 0:t[S_];return null==e?null:Hr.makeFromBucketSpec(e,n)}class lg{constructor(t,e,i,s,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=jf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Hr.makeFromBucketSpec(s,this._host):I1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Hr.makeFromBucketSpec(this._url,t):I1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Yf("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Yf("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ie.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ie.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vc(this,t)}_makeRequest(t,e,i,s){if(this._deleted)return new Vb(Kf());{const o=function jb(n,t,e,i,s,o){const u=Hb(n.urlParams),h=n.url+u,g=Object.assign({},n.headers);return function r1(n,t){t&&(n["X-Firebase-GMPID"]=t)}(g,t),function t1(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(g,e),function n1(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(g,o),function s1(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(g,i),new e1(h,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(t,this._appId,i,s,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,Ie.Z)(function*(){const[s,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,s,o).getPromise()})()}}const T1="@firebase/storage",cg="storage";function x1(n,t,e){return function Y_(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Fu(n,new ia(t),e)}(n=(0,qt.m9)(n),t,e)}function A1(n){return b1(n=(0,qt.m9)(n))}function iw(n){return function Xb(n){n._throwIfRoot("deleteObject");const t=function bM(n,t){const i=Ua(t.fullServerUrl(),n.host,n._protocol),h=new Co(i,"DELETE",function u(g,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=eg(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Zr)}(n=(0,qt.m9)(n))}function rw(n,t){return function C1(n,t){if(t&&function w1(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof lg)return function Is(n,t){return new vc(n,t)}(n,t);throw Wf("To use ref(service, url), the first argument must be a Storage instance.")}return tw(n,t)}(n=(0,qt.m9)(n),t)}function ra(n=(0,pr.getApp)(),t){return n=(0,qt.m9)(n),(0,pr._getProvider)(n,cg).getImmediate({identifier:t})}function PM(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new lg(e,i,s,t,pr.SDK_VERSION)}!function ow(){(0,pr._registerComponent)(new Mu.wA(cg,PM,"PUBLIC").setMultipleInstances(!0)),(0,pr.registerVersion)(T1,"0.9.9",""),(0,pr.registerVersion)(T1,"0.9.9","esm2017")}();const dg=(0,P.u3)(iw,!0),ey=(0,P.u3)(A1,!0),Ah=(0,P.u3)(ra,!0),bc=(0,P.u3)(rw,!0),L1=(0,P.u3)(x1,!0);function gt(...n){const t=(0,rl.yG)(n);return(0,ti.D)(n,t)}var Ri=k(5577),Dr=k(576);function wc(n,t){return(0,Dr.m)(t)?(0,Ri.z)(n,t,1):(0,Ri.z)(n,1)}var nr=k(4482);function is(n,t){return(0,nr.e)((e,i)=>{let s=0;e.subscribe(new Kt.Q(i,o=>n.call(t,o,s++)&&i.next(o)))})}class ty{}class ny{}class sa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),o=s.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class iy{encodeKey(t){return Cc(t)}encodeValue(t){return Cc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const V1=/%(\d[a-f0-9])/gi,hw={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Cc(n){return encodeURIComponent(n).replace(V1,(t,e)=>{var i;return null!==(i=hw[e])&&void 0!==i?i:t})}function ry(n){return`${n}`}class gl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new iy,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F1(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[u,h]=-1==o?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],g=e.get(u)||[];g.push(h),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new gl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ry(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(ry(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Vu{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function pw(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function fw(n){return"undefined"!=typeof Blob&&n instanceof Blob}function gw(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ic{constructor(t,e,i,s){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function U1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,o=s):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new sa),this.context||(this.context=new Vu),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new gl,this.urlWithParams=e}serializeBody(){return null===this.body?null:pw(this.body)||fw(this.body)||gw(this.body)||function To(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gw(this.body)?null:fw(this.body)?this.body.type||null:pw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,I=t.params||this.params;const E=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((O,M)=>O.set(M,t.setHeaders[M]),v)),t.setParams&&(I=Object.keys(t.setParams).reduce((O,M)=>O.set(M,t.setParams[M]),I)),new Ic(i,s,u,{params:I,headers:v,context:E,reportProgress:g,responseType:o,withCredentials:h})}}var vi=(()=>((vi=vi||{})[vi.Sent=0]="Sent",vi[vi.UploadProgress=1]="UploadProgress",vi[vi.ResponseHeader=2]="ResponseHeader",vi[vi.DownloadProgress=3]="DownloadProgress",vi[vi.Response=4]="Response",vi[vi.User=5]="User",vi))();class hg{constructor(t,e=200,i="OK"){this.headers=t.headers||new sa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class pg extends hg{constructor(t={}){super(t),this.type=vi.ResponseHeader}clone(t={}){return new pg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ph extends hg{constructor(t={}){super(t),this.type=vi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ph({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mw extends hg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function sy(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fg=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let o;if(e instanceof Ic)o=e;else{let g,v;g=s.headers instanceof sa?s.headers:new sa(s.headers),s.params&&(v=s.params instanceof gl?s.params:new gl({fromObject:s.params})),o=new Ic(e,i,void 0!==s.body?s.body:null,{headers:g,context:s.context,params:v,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const u=gt(o).pipe(wc(g=>this.handler.handle(g)));if(e instanceof Ic||"events"===s.observe)return u;const h=u.pipe(is(g=>g instanceof Ph));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Nt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,Nt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,Nt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,Nt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new gl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,sy(s,i))}post(e,i,s={}){return this.request("POST",e,sy(s,i))}put(e,i,s={}){return this.request("PUT",e,sy(s,i))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ty))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class _w{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const gg=new r.OlP("HTTP_INTERCEPTORS");let VM=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const vw=/^\)\]\}',?\n/;let Xs=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Zi.y(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((M,V)=>s.setRequestHeader(M,V.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const M=e.detectContentTypeHeader();null!==M&&s.setRequestHeader("Content-Type",M)}if(e.responseType){const M=e.responseType.toLowerCase();s.responseType="json"!==M?M:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const M=s.statusText||"OK",V=new sa(s.getAllResponseHeaders()),X=function jM(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return u=new pg({headers:V,status:s.status,statusText:M,url:X}),u},g=()=>{let{headers:M,status:V,statusText:X,url:ie}=h(),Be=null;204!==V&&(Be=void 0===s.response?s.responseText:s.response),0===V&&(V=Be?200:0);let tt=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof Be){const nt=Be;Be=Be.replace(vw,"");try{Be=""!==Be?JSON.parse(Be):null}catch(Je){Be=nt,tt&&(tt=!1,Be={error:Je,text:Be})}}tt?(i.next(new Ph({body:Be,headers:M,status:V,statusText:X,url:ie||void 0})),i.complete()):i.error(new mw({error:Be,headers:M,status:V,statusText:X,url:ie||void 0}))},v=M=>{const{url:V}=h(),X=new mw({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:V||void 0});i.error(X)};let I=!1;const E=M=>{I||(i.next(h()),I=!0);let V={type:vi.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(V.total=M.total),"text"===e.responseType&&!!s.responseText&&(V.partialText=s.responseText),i.next(V)},O=M=>{let V={type:vi.UploadProgress,loaded:M.loaded};M.lengthComputable&&(V.total=M.total),i.next(V)};return s.addEventListener("load",g),s.addEventListener("error",v),s.addEventListener("timeout",v),s.addEventListener("abort",v),e.reportProgress&&(s.addEventListener("progress",E),null!==o&&s.upload&&s.upload.addEventListener("progress",O)),s.send(o),i.next({type:vi.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",g),s.removeEventListener("timeout",v),e.reportProgress&&(s.removeEventListener("progress",E),null!==o&&s.upload&&s.upload.removeEventListener("progress",O)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Fn))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const bw=new r.OlP("XSRF_COOKIE_NAME"),ww=new r.OlP("XSRF_HEADER_NAME");class oy{}let Cw=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce),r.LFG(r.Lbi),r.LFG(bw))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),mg=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(oy),r.LFG(ww))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),j1=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(gg,[]);this.chain=i.reduceRight((s,o)=>new _w(s,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ny),r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),ay=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:mg,useClass:VM}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:bw,useValue:e.cookieName}:[],e.headerName?{provide:ww,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[mg,{provide:gg,useExisting:mg,multi:!0},{provide:oy,useClass:Cw},{provide:bw,useValue:"XSRF-TOKEN"},{provide:ww,useValue:"X-XSRF-TOKEN"}]}),n})(),q1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[fg,{provide:ty,useClass:j1},Xs,{provide:ny,useExisting:Xs}],imports:[[ay.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),eo=(()=>{class n{constructor(e){this._http=e,this.deleteProfileImageCloud=i=>{let s=JSON.parse(localStorage.getItem("user")),o=s.image.split(/[#?]/)[0].split(".").pop().trim();const u="/profileImage/"+s._id+"_"+s.name+"."+o,h=Ah(),g=bc(h,u);dg(g).then(()=>{i(!1)}).catch(v=>{i(!0,v)})}}register(e){return this._http.post("/api/auth/register",e)}login(e){return this._http.post("/api/auth/login",e)}forgetPassword(e){return this._http.post("/api/auth/forgetPassword",e)}checkCode(e){return this._http.post("/api/auth/check/code",e)}setNewPassword(e){return this._http.patch("/api/auth/set/password",e)}getUser(){return this._http.get("/api/auth/me")}getAllUsers(){return this._http.get("/api/auth/all")}getUserById(e){return this._http.get(`/api/auth/getUserById/${e}`)}enableUser(e){return this._http.patch("/api/auth/enableUser",{id:e})}disableUser(e){return this._http.patch("/api/auth/disableUser",{id:e})}editProfile(e){return this._http.patch("/api/auth/edit",e)}uploadProfileImage(e){return this._http.post("/api/auth/profileImage",{link:e})}uploadProfileImageCloud(e){let s=JSON.parse(localStorage.getItem("user")),o=e.name.split(/[#?]/)[0].split(".").pop().trim();const u="/profileImage/"+s._id+"_"+s.name+"."+o,h=Ah(),g=bc(h,u);return L1(g,e,{contentType:"image/jpeg",size:2097152})}deleteProfileImage(){return this._http.delete("/api/auth/deleteProfileImage")}contactMessage(e){return this._http.post("/api/contact",e)}logout(){return this._http.delete("/api/auth/logout")}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(fg))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Eo extends Dt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Oh=k(4671),G1=k(9672);function Tc(n,t,e){n?(0,G1.f)(e,n,t):t()}function yg(n,t){const e=(0,Dr.m)(n)?n:()=>n,i=s=>s.error(e());return new Zi.y(t?s=>t.schedule(i,0,s):i)}const vg=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bg=k(8189);function rs(...n){return function ly(){return(0,bg.J)(1)}()((0,ti.D)(n,(0,rl.yG)(n)))}function ml(n){return new Zi.y(t=>{(0,qi.Xf)(n()).subscribe(t)})}var ui=k(515),qr=k(727);function kh(){return(0,nr.e)((n,t)=>{let e=null;n._refCount++;const i=new Kt.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,o=e;e=null,s&&(!o||s===o)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class to extends Zi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,nr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new qr.w0;const e=this.getSubject();t.add(this.source.subscribe(new Kt.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=qr.w0.EMPTY)}return t}refCount(){return kh()(this)}}function Qn(n,t){return(0,nr.e)((e,i)=>{let s=null,o=0,u=!1;const h=()=>u&&!s&&i.complete();e.subscribe(new Kt.Q(i,g=>{null==s||s.unsubscribe();let v=0;const I=o++;(0,qi.Xf)(n(g,I)).subscribe(s=new Kt.Q(i,E=>i.next(t?t(g,E,I,v++):E),()=>{s=null,h()}))},()=>{u=!0,h()}))})}var no=k(5698);function io(...n){const t=(0,rl.yG)(n);return(0,nr.e)((e,i)=>{(t?rs(n,e,t):rs(n,e)).subscribe(i)})}function Uu(n,t,e,i,s){return(o,u)=>{let h=e,g=t,v=0;o.subscribe(new Kt.Q(u,I=>{const E=v++;g=h?n(g,I,E):(h=!0,I),i&&u.next(g)},s&&(()=>{h&&u.next(g),u.complete()})))}}function oa(n,t){return(0,nr.e)(Uu(n,t,arguments.length>=2,!0))}function Ts(n){return(0,nr.e)((t,e)=>{let o,i=null,s=!1;i=t.subscribe(new Kt.Q(e,void 0,void 0,u=>{o=(0,qi.Xf)(n(u,Ts(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,o.subscribe(e))})}function _l(n){return n<=0?()=>ui.E:(0,nr.e)((t,e)=>{let i=[];t.subscribe(new Kt.Q(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function Ec(n=Bu){return(0,nr.e)((t,e)=>{let i=!1;t.subscribe(new Kt.Q(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function Bu(){return new vg}function xc(n){return(0,nr.e)((t,e)=>{let i=!1;t.subscribe(new Kt.Q(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function yl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?is((s,o)=>n(s,o,i)):Oh.y,(0,no.q)(1),e?xc(t):Ec(()=>new vg))}var ss=k(8505);class aa{constructor(t,e){this.id=t,this.url=e}}class wg extends aa{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hu extends aa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cy extends aa{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xw extends aa{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class z1 extends aa{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dw extends aa{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W1 extends aa{constructor(t,e,i,s,o){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sw extends aa{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aw extends aa{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pw{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ow{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mw{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K1{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kw{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rw{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nw{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dn="primary";class Y1{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vl(n){return new Y1(n)}const Cg="ngNavigationCancelingError";function uy(n){const t=Error("NavigationCancelingError: "+n);return t[Cg]=!0,t}function GM(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))s[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function la(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let o=0;o<e.length;o++)if(s=e[o],!dy(n[s],t[s]))return!1;return!0}function dy(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,o)=>i[o]===s)}return n===t}function Q1(n){return Array.prototype.concat.apply([],n)}function Lw(n){return n.length>0?n[n.length-1]:null}function fr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function xo(n){return(0,r.CqO)(n)?n:(0,r.QGY)(n)?(0,ti.D)(Promise.resolve(n)):gt(n)}const Fw={exact:function Bw(n,t,e){if(!ja(n.segments,t.segments)||!Ig(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Bw(n.children[i],t.children[i],e))return!1;return!0},subset:Hw},Nh={exact:function Uw(n,t){return la(n,t)},subset:function X1(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>dy(n[e],t[e]))},ignored:()=>!0};function Vw(n,t,e){return Fw[e.paths](n.root,t.root,e.matrixParams)&&Nh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Hw(n,t,e){return jw(n,t,t.segments,e)}function jw(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!ja(s,e)||t.hasChildren()||!Ig(s,e,i))}if(n.segments.length===e.length){if(!ja(n.segments,e)||!Ig(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!Hw(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ja(n.segments,s)&&Ig(n.segments,s,i)&&n.children[dn])&&jw(n.children[dn],t,o,i)}}function Ig(n,t,e){return t.every((i,s)=>Nh[e](n[s].parameters,i.parameters))}class bl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vl(this.queryParams)),this._queryParamMap}toString(){return WM.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fr(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wl(this)}}class ju{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vl(this.parameters)),this._parameterMap}toString(){return tx(this)}}function ja(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Tg{}class qw{parse(t){const e=new py(t);return new bl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Zu(t.root,!0)}`,i=function Dg(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${qu(e)}=${qu(s)}`).join("&"):`${qu(e)}=${qu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ex(n){return encodeURI(n)}(t.fragment)}`:""}`}}const WM=new qw;function wl(n){return n.segments.map(t=>tx(t)).join("/")}function Zu(n,t){if(!n.hasChildren())return wl(n);if(t){const e=n.children[dn]?Zu(n.children[dn],!1):"",i=[];return fr(n.children,(s,o)=>{o!==dn&&i.push(`${o}:${Zu(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function zM(n,t){let e=[];return fr(n.children,(i,s)=>{s===dn&&(e=e.concat(t(i,s)))}),fr(n.children,(i,s)=>{s!==dn&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===dn?[Zu(n.children[dn],!1)]:[`${s}:${Zu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dn]?`${wl(n)}/${e[0]}`:`${wl(n)}/(${e.join("//")})`}}function Eg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qu(n){return Eg(n).replace(/%3B/gi,";")}function Gu(n){return Eg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dc(n){return decodeURIComponent(n)}function xg(n){return Dc(n.replace(/\+/g,"%20"))}function tx(n){return`${Gu(n.path)}${function nx(n){return Object.keys(n).map(t=>`;${Gu(t)}=${Gu(n[t])}`).join("")}(n.parameters)}`}const Sg=/^[^\/()?;=#]+/;function $u(n){const t=n.match(Sg);return t?t[0]:""}const Gw=/^[^=?&#]+/,$w=/^[^&#]+/;class py{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[dn]=new fn(t,e)),i}parseSegment(){const t=$u(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ju(Dc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$u(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=$u(this.remaining);s&&(i=s,this.capture(i))}t[Dc(e)]=Dc(i)}parseQueryParam(t){const e=function hy(n){const t=n.match(Gw);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function zw(n){const t=n.match($w);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const s=xg(e),o=xg(i);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(o)}else t[s]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$u(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=dn);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[dn]:new fn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class fy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=gy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ag(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Ag(t,this._root).map(e=>e.value)}}function gy(n,t){if(n===t.value)return t;for(const e of t.children){const i=gy(n,e);if(i)return i}return null}function Ag(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ag(n,e);if(i.length)return i.unshift(t),i}return[]}class ca{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Cl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class my extends fy{constructor(t,e){super(t),this.snapshot=e,Mg(this,t)}toString(){return this.snapshot.toString()}}function Ww(n,t){const e=function Kw(n,t){const u=new Lh([],{},{},"",{},dn,t,null,n.root,-1,{});return new _y("",new ca(u,[]))}(n,t),i=new Eo([new ju("",{})]),s=new Eo({}),o=new Eo({}),u=new Eo({}),h=new Eo(""),g=new Za(i,s,u,h,o,dn,t,e.root);return g.snapshot=e.root,new my(new ca(g,[]),e)}class Za{constructor(t,e,i,s,o,u,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(t=>vl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(t=>vl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pg(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],o=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(o.component)break;i--}}return function Og(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Lh{constructor(t,e,i,s,o,u,h,g,v,I,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=h,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=I,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _y extends fy{constructor(t,e){super(e),this.url=t,Mg(this,e)}toString(){return yy(this._root)}}function Mg(n,t){t.value._routerState=n,t.children.forEach(e=>Mg(n,e))}function yy(n){const t=n.children.length>0?` { ${n.children.map(yy).join(", ")} } `:"";return`${n.value}${t}`}function kg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,la(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),la(t.params,e.params)||n.params.next(e.params),function $M(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!la(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),la(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Rg(n,t){const e=la(n.params,t.params)&&function Zw(n,t){return ja(n,t)&&n.every((e,i)=>la(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Rg(n.parent,t.parent))}function zu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function KM(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return zu(n,i,s);return zu(n,i)})}(n,t,e);return new ca(i,s)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>zu(n,h)),u}}const i=function ix(n){return new Za(new Eo(n.url),new Eo(n.params),new Eo(n.queryParams),new Eo(n.fragment),new Eo(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(o=>zu(n,o));return new ca(i,s)}}function Fh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vh(n){return"object"==typeof n&&null!=n&&n.outlets}function bi(n,t,e,i,s){let o={};if(i&&fr(i,(h,g)=>{o[g]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),n===t)return new bl(e,o,s);const u=vy(n,t,e);return new bl(u,o,s)}function vy(n,t,e){const i={};return fr(n.children,(s,o)=>{i[o]=s===t?e:vy(s,t,e)}),new fn(n.segments,i)}class Qw{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Fh(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(Vh);if(s&&s!==Lw(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ng{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Sc(n,t,e){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Lg(n,t,e);const i=function ax(n,t,e){let i=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return o;const u=n.segments[s],h=e[i];if(Vh(h))break;const g=`${h}`,v=i<e.length-1?e[i+1]:null;if(s>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!cx(g,v,u))return o;i+=2}else{if(!cx(g,{},u))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new fn(n.segments.slice(0,i.pathIndex),{});return o.children[dn]=new fn(n.segments.slice(i.pathIndex),n.children),Lg(o,0,s)}return i.match&&0===s.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?Fg(n,t,e):i.match?Lg(n,0,s):Fg(n,t,e)}function Lg(n,t,e){if(0===e.length)return new fn(n.segments,{});{const i=function Xw(n){return Vh(n[0])?n[0].outlets:{[dn]:n}}(e),s={};return fr(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[u]=Sc(n.children[u],t,o))}),fr(n.children,(o,u)=>{void 0===i[u]&&(s[u]=o)}),new fn(n.segments,s)}}function Fg(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const o=e[s];if(Vh(o)){const g=lx(o.outlets);return new fn(i,g)}if(0===s&&Fh(e[0])){i.push(new ju(n.segments[t].path,by(e[0]))),s++;continue}const u=Vh(o)?o.outlets[dn]:`${o}`,h=s<e.length-1?e[s+1]:null;u&&h&&Fh(h)?(i.push(new ju(u,by(h))),s+=2):(i.push(new ju(u,{})),s++)}return new fn(i,{})}function lx(n){const t={};return fr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Fg(new fn([],{}),0,e))}),t}function by(n){const t={};return fr(n,(e,i)=>t[i]=`${e}`),t}function cx(n,t,e){return n==e.path&&la(t,e.parameters)}class Cy{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),kg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=Cl(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,s[u],i),delete s[u]}),fr(s,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(s===o)if(s.component){const u=i.getContext(s.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,o=Cl(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],s);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,o=Cl(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=Cl(e);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new Rw(o.value.snapshot))}),t.children.length&&this.forwardEvent(new K1(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(kg(s),s===o)if(s.component){const u=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const u=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const h=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),kg(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function ua(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),g=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=s,u.resolver=g,u.outlet&&u.outlet.activateWith(s,g),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Iy{constructor(t,e){this.routes=t,this.module=e}}function qa(n){return"function"==typeof n}function gr(n){return n instanceof bl}const Uh=Symbol("INITIAL_VALUE");function Bh(){return Qn(n=>function $1(...n){const t=(0,rl.yG)(n),e=(0,rl.jO)(n),{args:i,keys:s}=Yd(n);if(0===i.length)return(0,ti.D)([],t);const o=new Zi.y(function _g(n,t,e=Oh.y){return i=>{Tc(t,()=>{const{length:s}=n,o=new Array(s);let u=s,h=s;for(let g=0;g<s;g++)Tc(t,()=>{const v=(0,ti.D)(n[g],t);let I=!1;v.subscribe(new Kt.Q(i,E=>{o[g]=E,I||(I=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,s?u=>Qd(s,u):Oh.y));return e?o.pipe(ol(e)):o}(n.map(t=>t.pipe((0,no.q)(1),io(Uh)))).pipe(oa((t,e)=>{let i=!1;return e.reduce((s,o,u)=>s!==Uh?s:(o===Uh&&(i=!0),i||!1!==o&&u!==e.length-1&&!gr(o)?s:o),t)},Uh),is(t=>t!==Uh),(0,Nt.U)(t=>gr(t)?t:!0===t),(0,no.q)(1)))}class dx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ac,this.attachRef=null}}class Ac{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new dx,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Pc=(()=>{class n{constructor(e,i,s,o,u){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.attachEvents=new r.vpe,this.detachEvents=new r.vpe,this.name=o||dn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,g=new hx(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(Ac),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class hx{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Za?this.route:t===Ac?this.childContexts:this.parent.get(t,e)}}let Vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&r._UZ(0,"router-outlet")},directives:[Pc],encapsulation:2}),n})();function nC(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];iC(i,rC(t,i))}}function iC(n,t){n.children&&nC(n.children,t)}function rC(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Wu(n){const t=n.children&&n.children.map(Wu),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==dn&&(e.component=Vg),e}function ro(n){return n.outlet||dn}function Ty(n,t){const e=n.filter(i=>ro(i)===t);return e.push(...n.filter(i=>ro(i)!==t)),e}const Ey={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ku(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ey):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||GM)(e,n,t);if(!o)return Object.assign({},Ey);const u={};fr(o.posParams,(g,v)=>{u[v]=g.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Oc(n,t,e,i,s="corrected"){if(e.length>0&&function oC(n,t,e){return e.some(i=>Yu(n,t,i)&&ro(i)!==dn)}(n,e,i)){const u=new fn(t,function sC(n,t,e,i){const s={};s[dn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ro(o)!==dn){const u=new fn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,s[ro(o)]=u}return s}(n,t,i,new fn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function aC(n,t,e){return e.some(i=>Yu(n,t,i))}(n,e,i)){const u=new fn(n.segments,function xy(n,t,e,i,s,o){const u={};for(const h of i)if(Yu(n,e,h)&&!s[ro(h)]){const g=new fn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[ro(h)]=g}return Object.assign(Object.assign({},s),u)}(n,t,e,i,n.children,s));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new fn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Yu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Dy(n,t,e,i){return!!(ro(n)===i||i!==dn&&Yu(t,e,n))&&("**"===n.path||Ku(t,n,e).matched)}function Sy(n,t,e){return 0===t.length&&!n.children[e]}class Hh{constructor(t){this.segmentGroup=t||null}}class Ay{constructor(t){this.urlTree=t}}function jh(n){return yg(new Hh(n))}function lC(n){return yg(new Ay(n))}class mx{constructor(t,e,i,s,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Oc(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,dn).pipe((0,Nt.U)(o=>this.createUrlTree(Py(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ts(o=>{if(o instanceof Ay)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Hh?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,dn).pipe((0,Nt.U)(s=>this.createUrlTree(Py(s),t.queryParams,t.fragment))).pipe(Ts(s=>{throw s instanceof Hh?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new fn([],{[dn]:t}):t;return new bl(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Nt.U)(o=>new fn([],o))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const o of Object.keys(i.children))"primary"===o?s.unshift(o):s.push(o);return(0,ti.D)(s).pipe(wc(o=>{const u=i.children[o],h=Ty(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,Nt.U)(g=>({segment:g,outlet:o})))}),oa((o,u)=>(o[u.outlet]=u.segment,o),{}),function Tw(n,t){const e=arguments.length>=2;return i=>i.pipe(n?is((s,o)=>n(s,o,i)):Oh.y,_l(1),e?xc(t):Ec(()=>new vg))}())}expandSegment(t,e,i,s,o,u){return(0,ti.D)(i).pipe(wc(h=>this.expandSegmentAgainstRoute(t,e,i,h,s,o,u).pipe(Ts(v=>{if(v instanceof Hh)return gt(null);throw v}))),yl(h=>!!h),Ts((h,g)=>{if(h instanceof vg||"EmptyError"===h.name)return Sy(e,s,o)?gt(new fn([],{})):jh(e);throw h}))}expandSegmentAgainstRoute(t,e,i,s,o,u,h){return Dy(s,e,o,u)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u):jh(e):jh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?lC(o):this.lineralizeSegments(i,o).pipe((0,Ri.z)(u=>{const h=new fn(u,{});return this.expandSegment(t,h,e,u,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:I}=Ku(e,s,o);if(!h)return jh(e);const E=this.applyRedirectCommands(g,s.redirectTo,I);return s.redirectTo.startsWith("/")?lC(E):this.lineralizeSegments(s,E).pipe((0,Ri.z)(O=>this.expandSegment(t,e,i,O.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,s,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?gt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Nt.U)(E=>(i._loadedConfig=E,new fn(s,{})))):gt(new fn(s,{}));const{matched:u,consumedSegments:h,remainingSegments:g}=Ku(e,i,s);return u?this.getChildConfig(t,i,s).pipe((0,Ri.z)(I=>{const E=I.module,O=I.routes,{segmentGroup:M,slicedSegments:V}=Oc(e,h,g,O),X=new fn(M.segments,M.children);if(0===V.length&&X.hasChildren())return this.expandChildren(E,O,X).pipe((0,Nt.U)(nt=>new fn(h,nt)));if(0===O.length&&0===V.length)return gt(new fn(h,{}));const ie=ro(i)===o;return this.expandSegment(E,X,O,V,ie?dn:o,!0).pipe((0,Nt.U)(tt=>new fn(h.concat(tt.segments),tt.children)))})):jh(e)}getChildConfig(t,e,i){return e.children?gt(new Iy(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?gt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ri.z)(s=>s?this.configLoader.load(t.injector,e).pipe((0,Nt.U)(o=>(e._loadedConfig=o,o))):function fx(n){return yg(uy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):gt(new Iy([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;return s&&0!==s.length?gt(s.map(u=>{const h=t.get(u);let g;if(function Do(n){return n&&qa(n.canLoad)}(h))g=h.canLoad(e,i);else{if(!qa(h))throw new Error("Invalid CanLoad guard");g=h(e,i)}return xo(g)})).pipe(Bh(),(0,ss.b)(u=>{if(!gr(u))return;const h=uy(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,Nt.U)(u=>!0===u)):gt(!0)}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return gt(i);if(s.numberOfChildren>1||!s.children[dn])return yg(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));s=s.children[dn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const o=this.createSegmentGroup(t,e.root,i,s);return new bl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return fr(t,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[o]=e[h]}else i[o]=s}),i}createSegmentGroup(t,e,i,s){const o=this.createSegments(t,e.segments,i,s);let u={};return fr(e.children,(h,g)=>{u[g]=this.createSegmentGroup(t,h,i,s)}),new fn(o,u)}createSegments(t,e,i,s){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,s):this.findOrReturn(o,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function Py(n){const t={};for(const i of Object.keys(n.children)){const o=Py(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function _x(n){if(1===n.numberOfChildren&&n.children[dn]){const t=n.children[dn];return new fn(n.segments.concat(t.segments),t.children)}return n}(new fn(n.segments,t))}class cC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ug{constructor(t,e){this.component=t,this.route=e}}function vx(n,t,e){const i=n._root;return Zh(i,t?t._root:null,e,[i.value])}function Bg(n,t,e){const i=function wx(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Zh(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Cl(t);return n.children.forEach(u=>{(function Cx(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function uC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ja(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ja(n.url,t.url)||!la(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rg(n,t)||!la(n.queryParams,t.queryParams);default:return!Rg(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?s.canActivateChecks.push(new cC(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Zh(n,t,o.component?h?h.children:null:e,i,s),g&&h&&h.outlet&&h.outlet.isActivated&&s.canDeactivateChecks.push(new Ug(h.outlet.component,u))}else u&&Qu(t,h,s),s.canActivateChecks.push(new cC(i)),Zh(n,null,o.component?h?h.children:null:e,i,s)})(u,o[u.value.outlet],e,i.concat([u.value]),s),delete o[u.value.outlet]}),fr(o,(u,h)=>Qu(u,e.getContext(h),s)),s}function Qu(n,t,e){const i=Cl(n),s=n.value;fr(i,(o,u)=>{Qu(o,s.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Ug(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class vC{}function Il(n){return new Zi.y(t=>t.error(n))}class Tx{constructor(t,e,i,s,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=Oc(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,dn);if(null===e)return null;const i=new Lh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ca(i,e),o=new _y(this.url,s);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=Pg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=Ty(t,o),g=this.processSegmentGroup(h,u,o);if(null===g)return null;i.push(...g)}const s=Ex(i);return function Ju(n){n.sort((t,e)=>t.value.outlet===dn?-1:e.value.outlet===dn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,s);if(null!==u)return u}return Sy(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!Dy(t,e,i,s))return null;let o,u=[],h=[];if("**"===t.path){const M=i.length>0?Lw(i).parameters:{};o=new Lh(i,M,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mt(t),ro(t),t.component,t,My(e),Dx(e)+i.length,bC(t))}else{const M=Ku(e,t,i);if(!M.matched)return null;u=M.consumedSegments,h=M.remainingSegments,o=new Lh(u,M.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mt(t),ro(t),t.component,t,My(e),Dx(e)+u.length,bC(t))}const g=function YM(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:I}=Oc(e,u,h,g.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);if(0===I.length&&v.hasChildren()){const M=this.processChildren(g,v);return null===M?null:[new ca(o,M)]}if(0===g.length&&0===I.length)return[new ca(o,[])];const E=ro(t)===s,O=this.processSegment(g,v,I,E?dn:s);return null===O?null:[new ca(o,O)]}}function Oy(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ex(n){const t=[],e=new Set;for(const i of n){if(!Oy(i)){t.push(i);continue}const s=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=Ex(i.children);t.push(new ca(i.value,s))}return t.filter(i=>!e.has(i))}function My(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Dx(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Mt(n){return n.data||{}}function bC(n){return n.resolve||{}}function qh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Jn(n){return Qn(t=>{const e=n(t);return e?(0,ti.D)(e).pipe((0,Nt.U)(()=>t)):gt(t)})}class Ox extends class wC{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ky=new r.OlP("ROUTES");class Ry{constructor(t,e,i,s){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe((0,Nt.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new Iy(Q1(u.injector.get(ky,void 0,r.XFs.Self|r.XFs.Optional)).map(Wu),u)}),Ts(o=>{throw e._loader$=void 0,o}));return e._loader$=new to(s,()=>new Dt.x).pipe(kh()),e._loader$}loadModuleFactory(t){return xo(t()).pipe((0,Ri.z)(e=>e instanceof r.YKP?gt(e):(0,ti.D)(this.compiler.compileModuleAsync(e))))}}class IC{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function TC(n){throw n}function Mx(n,t,e){return t.parse("/")}function EC(n,t){return gt(null)}const kx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class n{constructor(e,i,s,o,u,h,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=o,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Dt.x,this.errorHandler=TC,this.malformedUriErrorHandler=Mx,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:EC,afterPreactivation:EC},this.urlHandlingStrategy=new IC,this.routeReuseStrategy=new Ox,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(r.h0i),this.console=u.get(r.c2e);const E=u.get(r.R0b);this.isNgZoneEnabled=E instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function J1(){return new bl(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ry(u,h,O=>this.triggerEvent(new Pw(O)),O=>this.triggerEvent(new Ow(O))),this.routerState=Ww(this.currentUrlTree,this.rootComponentType),this.transitions=new Eo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(is(s=>0!==s.id),(0,Nt.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qn(s=>{let o=!1,u=!1;return gt(s).pipe((0,ss.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qn(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return xC(h.source)&&(this.browserUrlTree=h.extractedUrl),gt(h).pipe(Qn(E=>{const O=this.transitions.getValue();return i.next(new wg(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),O!==this.transitions.getValue()?ui.E:Promise.resolve(E)}),function yx(n,t,e,i){return Qn(s=>function gx(n,t,e,i,s){return new mx(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe((0,Nt.U)(o=>Object.assign(Object.assign({},s),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ss.b)(E=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:E.urlAfterRedirects})}),function Sx(n,t,e,i,s){return(0,Ri.z)(o=>function Ix(n,t,e,i,s="emptyOnly",o="legacy"){try{const u=new Tx(n,t,e,i,s,o).recognize();return null===u?Il(new vC):gt(u)}catch(u){return Il(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,s).pipe((0,Nt.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,E=>this.serializeUrl(E),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ss.b)(E=>{if("eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(M,E)}this.browserUrlTree=E.urlAfterRedirects}const O=new z1(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(O)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:M,source:V,restoredState:X,extras:ie}=h,Be=new wg(O,this.serializeUrl(M),V,X);i.next(Be);const tt=Ww(M,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},h),{targetSnapshot:tt,urlAfterRedirects:M,extras:Object.assign(Object.assign({},ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),ui.E}),Jn(h=>{const{targetSnapshot:g,id:v,extractedUrl:I,rawUrl:E,extras:{skipLocationChange:O,replaceUrl:M}}=h;return this.hooks.beforePreactivation(g,{navigationId:v,appliedUrlTree:I,rawUrlTree:E,skipLocationChange:!!O,replaceUrl:!!M})}),(0,ss.b)(h=>{const g=new Dw(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,Nt.U)(h=>Object.assign(Object.assign({},h),{guards:vx(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function dC(n,t){return(0,Ri.z)(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?gt(Object.assign(Object.assign({},e),{guardsResult:!0})):function hC(n,t,e,i){return(0,ti.D)(n).pipe((0,Ri.z)(s=>function yC(n,t,e,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?gt(o.map(h=>{const g=Bg(h,t,s);let v;if(function ux(n){return n&&qa(n.canDeactivate)}(g))v=xo(g.canDeactivate(n,t,e,i));else{if(!qa(g))throw new Error("Invalid CanDeactivate guard");v=xo(g(n,t,e,i))}return v.pipe(yl())})).pipe(Bh()):gt(!0)}(s.component,s.route,e,t,i)),yl(s=>!0!==s,!0))}(u,i,s,n).pipe((0,Ri.z)(h=>h&&function da(n){return"boolean"==typeof n}(h)?function pC(n,t,e,i){return(0,ti.D)(t).pipe(wc(s=>rs(function gC(n,t){return null!==n&&t&&t(new Mw(n)),gt(!0)}(s.route.parent,i),function fC(n,t){return null!==n&&t&&t(new kw(n)),gt(!0)}(s.route,i),function _C(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function bx(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>ml(()=>gt(u.guards.map(g=>{const v=Bg(g,u.node,e);let I;if(function tC(n){return n&&qa(n.canActivateChild)}(v))I=xo(v.canActivateChild(i,n));else{if(!qa(v))throw new Error("Invalid CanActivateChild guard");I=xo(v(i,n))}return I.pipe(yl())})).pipe(Bh())));return gt(o).pipe(Bh())}(n,s.path,e),function mC(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return gt(!0);const s=i.map(o=>ml(()=>{const u=Bg(o,t,e);let h;if(function eC(n){return n&&qa(n.canActivate)}(u))h=xo(u.canActivate(t,n));else{if(!qa(u))throw new Error("Invalid CanActivate guard");h=xo(u(t,n))}return h.pipe(yl())}));return gt(s).pipe(Bh())}(n,s.route,e))),yl(s=>!0!==s,!0))}(i,o,n,t):gt(h)),(0,Nt.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ss.b)(h=>{if(gr(h.guardsResult)){const v=uy(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw v.url=h.guardsResult,v}const g=new W1(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),is(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Jn(h=>{if(h.guards.canActivateChecks.length)return gt(h).pipe((0,ss.b)(g=>{const v=new Sw(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),Qn(g=>{let v=!1;return gt(g).pipe(function Ax(n,t){return(0,Ri.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return gt(e);let o=0;return(0,ti.D)(s).pipe(wc(u=>function Hg(n,t,e,i){return function Px(n,t,e,i){const s=qh(n);if(0===s.length)return gt({});const o={};return(0,ti.D)(s).pipe((0,Ri.z)(u=>function jg(n,t,e,i){const s=Bg(n,t,i);return xo(s.resolve?s.resolve(t,e):s(t,e))}(n[u],t,e,i).pipe((0,ss.b)(h=>{o[u]=h}))),_l(1),(0,Ri.z)(()=>qh(o).length===s.length?gt(o):ui.E))}(n._resolve,n,t,i).pipe((0,Nt.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),Pg(n,e).resolve),null)))}(u.route,i,n,t)),(0,ss.b)(()=>o++),_l(1),(0,Ri.z)(u=>o===s.length?gt(e):ui.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ss.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,ss.b)(g=>{const v=new Aw(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),Jn(h=>{const{targetSnapshot:g,id:v,extractedUrl:I,rawUrl:E,extras:{skipLocationChange:O,replaceUrl:M}}=h;return this.hooks.afterPreactivation(g,{navigationId:v,appliedUrlTree:I,rawUrlTree:E,skipLocationChange:!!O,replaceUrl:!!M})}),(0,Nt.U)(h=>{const g=function Yw(n,t,e){const i=zu(n,t._root,e?e._root:void 0);return new my(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:g})}),(0,ss.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,Nt.U)(i=>(new Cy(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ss.b)({next(){o=!0},complete(){o=!0}}),function Ew(n){return(0,nr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var h;o||u||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===s.id&&(this.currentNavigation=null)}),Ts(h=>{if(u=!0,function qM(n){return n&&n[Cg]}(h)){const g=gr(h.url);g||(this.navigated=!0,this.restoreHistory(s,!0));const v=new cy(s.id,this.serializeUrl(s.extractedUrl),h.message);i.next(v),g?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xC(s.source)};this.scheduleNavigation(I,"imperative",null,E,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const g=new xw(s.id,this.serializeUrl(s.extractedUrl),h);i.next(g);try{s.resolve(this.errorHandler(h))}catch(v){s.reject(v)}}return ui.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var s;const o={replaceUrl:!0},u=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){nC(e),this.config=e.map(Wu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,v=s||this.routerState.root,I=g?this.currentUrlTree.fragment:u;let E=null;switch(h){case"merge":E=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),function rx(n,t,e,i,s){if(0===e.length)return bi(t.root,t.root,t.root,i,s);const o=function sx(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Qw(!0,0,n);let t=0,e=!1;const i=n.reduce((s,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return fr(o.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...s,{outlets:h}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===u?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&s.push(h))}),s):[...s,o]},[]);return new Qw(e,t,i)}(e);if(o.toRoot())return bi(t.root,t.root,new fn([],{}),i,s);const u=function ox(n,t,e){if(n.isAbsolute)return new Ng(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new Ng(o,o===t.root,0)}const i=Fh(n.commands[0])?0:1;return function Jw(n,t,e){let i=n,s=t,o=e;for(;o>s;){if(o-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new Ng(i,!1,s-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?Lg(u.segmentGroup,u.index,o.commands):Sc(u.segmentGroup,u.index,o.commands);return bi(t.root,u.segmentGroup,h,i,s)}(v,this.currentUrlTree,e,E,null!=I?I:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=gr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Rx(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},kx):!1===i?Object.assign({},Gh):i,gr(e))return Vw(this.currentUrlTree,e,s);const o=this.parseUrl(e);return Vw(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const o=e[s];return null!=o&&(i[s]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Hu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,o,u){var h,g;if(this.disposed)return Promise.resolve(!1);let v,I,E;u?(v=u.resolve,I=u.reject,E=u.promise):E=new Promise((V,X)=>{v=V,I=X});const O=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),M=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):M=0,this.setTransition({id:O,targetPageId:M,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:v,reject:I,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(e,i=!1){var s,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new cy(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){r.$Z()},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function xC(n){return"imperative"!==n}let Ga=(()=>{class n{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Dt.x,this.subscription=e.events.subscribe(o=>{o instanceof Hu&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,o,u){if(0!==e||i||s||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Mc(this.skipLocationChange),replaceUrl:Mc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36($n),r.Y36(Za),r.Y36(ye))},n.\u0275dir=r.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&r.uIk("target",i.target)("href",i.href,r.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[r.TTD]}),n})();function Mc(n){return""===n||!!n}class ed{}class SC{preload(t,e){return gt(null)}}let AC=(()=>{class n{constructor(e,i,s,o){this.router=e,this.injector=s,this.preloadingStrategy=o,this.loader=new Ry(s,i,g=>e.triggerEvent(new Pw(g)),g=>e.triggerEvent(new Ow(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(is(e=>e instanceof Hu),wc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;s.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?s.push(this.preloadConfig(e,o)):o.children&&s.push(this.processRoutes(e,o.children));return(0,ti.D)(s).pipe((0,bg.J)(),(0,Nt.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?gt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ri.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG($n),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(ed))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Ny=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Nw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Nw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){r.$Z()},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const Tl=new r.OlP("ROUTER_CONFIGURATION"),Ly=new r.OlP("ROUTER_FORROOT_GUARD"),Fx=[Ge,{provide:Tg,useClass:qw},{provide:$n,useFactory:function ek(n,t,e,i,s,o,u={},h,g){const v=new $n(null,n,t,e,i,s,Q1(o));return h&&(v.urlHandlingStrategy=h),g&&(v.routeReuseStrategy=g),function OC(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(I=>{var E,O;null===(E=console.group)||void 0===E||E.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(O=console.groupEnd)||void 0===O||O.call(console)}),v},deps:[Tg,Ac,Ge,r.zs3,r.Sil,ky,Tl,[class CC{},new r.FiY],[class QM{},new r.FiY]]},Ac,{provide:Za,useFactory:function qg(n){return n.routerState.root},deps:[$n]},AC,SC,class $h{preload(t,e){return e().pipe(Ts(()=>gt(null)))}},{provide:Tl,useValue:{enableTracing:!1}}];function PC(){return new r.PXZ("Router",$n)}let Zg=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Fx,Ux(e),{provide:Ly,useFactory:XM,deps:[[$n,new r.FiY,new r.tp0]]},{provide:Tl,useValue:i||{}},{provide:ye,useFactory:JM,deps:[_e,[new r.tBr(Ve),new r.FiY],Tl]},{provide:Ny,useFactory:Vx,deps:[$n,jl,Tl]},{provide:ed,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:SC},{provide:r.PXZ,multi:!0,useFactory:PC},[Fy,{provide:r.ip1,multi:!0,useFactory:Bx,deps:[Fy]},{provide:td,useFactory:MC,deps:[Fy]},{provide:r.tb,multi:!0,useExisting:td}]]}}static forChild(e){return{ngModule:n,providers:[Ux(e)]}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ly,8),r.LFG($n,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function Vx(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ny(n,t,e)}function JM(n,t,e={}){return e.useHash?new Oe(n,t):new je(n,t)}function XM(n){return"guarded"}function Ux(n){return[{provide:r.deG,multi:!0,useValue:n},{provide:ky,multi:!0,useValue:n}]}let Fy=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Dt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(h=>i=h),o=this.injector.get($n),u=this.injector.get(Tl);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(Tl),s=this.injector.get(AC),o=this.injector.get(Ny),u=this.injector.get($n),h=this.injector.get(r.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),s.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.zs3))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Bx(n){return n.appInitializer.bind(n)}function MC(n){return n.bootstrapListener.bind(n)}const td=new r.OlP("Router Initializer");let jx=(()=>{class n{constructor(e,i){this._user=e,this._route=i}canActivate(e,i){return this._user.getUser().toPromise().then(s=>{if(s.apiStatus){let o=s.data;if("adf0c9ad82601330d46ec62a"===s.data.role)return o=Object.assign({isAdmin:!0},o),delete o.role,localStorage.setItem("user",JSON.stringify(o)),this._user.profileImage=s.data.image,!0;this._route.navigateByUrl("/")}else this._route.navigateByUrl("/")}).catch(s=>(this._route.navigateByUrl("/"),!1))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(eo),r.LFG($n))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zx(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",7),r.NdJ("click",function(s){r.CHM(e);const o=r.oxw().$implicit,u=r.oxw();return s.preventDefault(),u.removeTab(o)}),r._uU(1," \u274c"),r.qZA()}}const qx=function(n){return["nav-item",n]};function kC(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"li",3),r.NdJ("keydown",function(s){const u=r.CHM(e).index;return r.oxw().keyNavActions(s,u)}),r.TgZ(1,"a",4),r.NdJ("click",function(){return r.CHM(e).$implicit.active=!0}),r.TgZ(2,"span",5),r._uU(3),r.qZA(),r.YNc(4,Zx,2,0,"span",6),r.qZA()()}if(2&n){const e=t.$implicit;r.ekj("active",e.active)("disabled",e.disabled),r.Q6J("ngClass",r.VKq(15,qx,e.customClass||"")),r.xp6(1),r.ekj("active",e.active)("disabled",e.disabled),r.uIk("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),r.xp6(1),r.Q6J("ngTransclude",e.headingRef),r.xp6(1),r.Oqu(e.heading),r.xp6(1),r.Q6J("ngIf",e.removable)}}const Gx=["*"];let $x=(()=>{class n{constructor(e){this.viewRef=e}set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b))},n.\u0275dir=r.lG2({type:n,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),n})(),nd=(()=>{class n{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RC=(()=>{class n{constructor(e,i,s){this.renderer=i,this.elementRef=s,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=1===this.tabs.length&&!e.active}removeTab(e,i={reselect:!0,emit:!0}){const s=this.tabs.indexOf(e);if(-1!==s&&!this.isDestroyed){if(i.reselect&&e.active&&this.hasAvailableTabs(s)){const o=this.getClosestTabIndex(s);this.tabs[o].active=!0}i.emit&&e.removed.emit(e),this.tabs.splice(s,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,i){if(!this.isKeysAllowed)return;const s=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void s[i%s.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[i].removable){if(this.removeTab(this.tabs[i]),s[i+1])return void s[(i+1)%s.length].focus();s[s.length-1]&&s[0].focus()}}else{e.preventDefault();let o,u=1,h=i;do{h-u<0?(h=s.length-1,o=s[h],u=0):o=s[h-u],u++}while(o.classList.contains("disabled"));o.focus()}else{e.preventDefault();let o,u=0;do{o=s[u%s.length],u++}while(o.classList.contains("disabled"));o.focus()}else{let o,u=1,h=i;do{h-u<0?(h=s.length-1,o=s[h],u=0):o=s[h-u],u++}while(o.classList.contains("disabled"));o.focus()}else{let o,u=1;do{o=s[(i+u)%s.length],u++}while(o.classList.contains("disabled"));o.focus()}}getClosestTabIndex(e){const i=this.tabs.length;if(!i)return-1;for(let s=1;s<=i;s+=1){const o=e-s,u=e+s;if(this.tabs[o]&&!this.tabs[o].disabled)return o;if(this.tabs[u]&&!this.tabs[u].disabled)return u}return-1}hasAvailableTabs(e){const i=this.tabs.length;if(!i)return!1;for(let s=0;s<i;s+=1)if(!this.tabs[s].disabled&&s!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(nd),r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275cmp=r.Xpm({type:n,selectors:[["tabset"]],hostVars:2,hostBindings:function(e,i){2&e&&r.ekj("tab-container",i.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:Gx,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"ul",0),r.NdJ("click",function(o){return o.preventDefault()}),r.YNc(1,kC,5,17,"li",1),r.qZA(),r.TgZ(2,"div",2),r.Hsn(3),r.qZA()),2&e&&(r.Q6J("ngClass",i.classMap),r.uIk("aria-label",i.ariaLabel),r.xp6(1),r.Q6J("ngForOf",i.tabs))},directives:[_i,On,$x,Xt],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),n})(),NC=(()=>{class n{constructor(e,i,s){this.elementRef=i,this.renderer=s,this.disabled=!1,this.removable=!1,this.selectTab=new r.vpe,this.deselect=new r.vpe,this.removed=new r.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.removeClass(this.elementRef.nativeElement,i)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.addClass(this.elementRef.nativeElement,i)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e)return void(this._active&&!e&&(this.deselect.emit(this),this._active=e));this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(i=>{i!==this&&(i.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(RC),r.Y36(r.SBq),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(e,i){2&e&&(r.uIk("id",i.id)("role",i.role)("aria-labelledby",i.ariaLabelledby),r.ekj("active",i.active)("tab-pane",i.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),n})(),LC=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})();function zx(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",12),r.NdJ("keyup.enter",function(){return r.CHM(e),r.oxw(3),r.MAs(1).previous()})("click",function(){return r.CHM(e),r.oxw(3),r.MAs(1).previous()}),r._uU(1),r.TgZ(2,"span",13),r._uU(3),r.qZA()()}if(2&n){const e=r.oxw(3);r.xp6(1),r.hij(" ",e.previousLabel," "),r.xp6(2),r.Oqu(e.screenReaderPageLabel)}}function FC(n,t){if(1&n&&(r.TgZ(0,"span",14),r._uU(1),r.TgZ(2,"span",13),r._uU(3),r.qZA()()),2&n){const e=r.oxw(3);r.xp6(1),r.hij(" ",e.previousLabel," "),r.xp6(2),r.Oqu(e.screenReaderPageLabel)}}function Wx(n,t){if(1&n&&(r.TgZ(0,"li",9),r.YNc(1,zx,4,2,"a",10),r.YNc(2,FC,4,2,"span",11),r.qZA()),2&n){r.oxw(2);const e=r.MAs(1);r.ekj("disabled",e.isFirstPage()),r.xp6(1),r.Q6J("ngIf",1<e.getCurrent()),r.xp6(1),r.Q6J("ngIf",e.isFirstPage())}}function Vy(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",12),r.NdJ("keyup.enter",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2),r.MAs(1).setCurrent(s.value)})("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw(2),r.MAs(1).setCurrent(s.value)}),r.TgZ(1,"span",13),r._uU(2),r.qZA(),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"number"),r.qZA()()}if(2&n){const e=r.oxw().$implicit,i=r.oxw(2);r.xp6(2),r.hij("",i.screenReaderPageLabel," "),r.xp6(2),r.Oqu("..."===e.label?e.label:r.xi3(5,2,e.label,""))}}function Kx(n,t){if(1&n&&(r.ynx(0),r.TgZ(1,"span",16)(2,"span",13),r._uU(3),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.ALo(6,"number"),r.qZA()(),r.BQk()),2&n){const e=r.oxw().$implicit,i=r.oxw(2);r.xp6(3),r.hij("",i.screenReaderCurrentLabel," "),r.xp6(2),r.Oqu("..."===e.label?e.label:r.xi3(6,2,e.label,""))}}function VC(n,t){if(1&n&&(r.TgZ(0,"li"),r.YNc(1,Vy,6,5,"a",10),r.YNc(2,Kx,7,5,"ng-container",15),r.qZA()),2&n){const e=t.$implicit;r.oxw(2);const i=r.MAs(1);r.ekj("current",i.getCurrent()===e.value)("ellipsis","..."===e.label),r.xp6(1),r.Q6J("ngIf",i.getCurrent()!==e.value),r.xp6(1),r.Q6J("ngIf",i.getCurrent()===e.value)}}function UC(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",12),r.NdJ("keyup.enter",function(){return r.CHM(e),r.oxw(3),r.MAs(1).next()})("click",function(){return r.CHM(e),r.oxw(3),r.MAs(1).next()}),r._uU(1),r.TgZ(2,"span",13),r._uU(3),r.qZA()()}if(2&n){const e=r.oxw(3);r.xp6(1),r.hij(" ",e.nextLabel," "),r.xp6(2),r.Oqu(e.screenReaderPageLabel)}}function Yx(n,t){if(1&n&&(r.TgZ(0,"span",14),r._uU(1),r.TgZ(2,"span",13),r._uU(3),r.qZA()()),2&n){const e=r.oxw(3);r.xp6(1),r.hij(" ",e.nextLabel," "),r.xp6(2),r.Oqu(e.screenReaderPageLabel)}}function Qx(n,t){if(1&n&&(r.TgZ(0,"li",17),r.YNc(1,UC,4,2,"a",10),r.YNc(2,Yx,4,2,"span",11),r.qZA()),2&n){r.oxw(2);const e=r.MAs(1);r.ekj("disabled",e.isLastPage()),r.xp6(1),r.Q6J("ngIf",!e.isLastPage()),r.xp6(1),r.Q6J("ngIf",e.isLastPage())}}function Jx(n,t){if(1&n&&(r.TgZ(0,"ul",4),r.YNc(1,Wx,3,4,"li",5),r.TgZ(2,"li",6),r._uU(3),r.qZA(),r.YNc(4,VC,3,6,"li",7),r.YNc(5,Qx,3,4,"li",8),r.qZA()),2&n){const e=r.oxw(),i=r.MAs(1);r.ekj("responsive",e.responsive),r.xp6(1),r.Q6J("ngIf",e.directionLinks),r.xp6(2),r.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),r.xp6(1),r.Q6J("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),r.xp6(1),r.Q6J("ngIf",e.directionLinks)}}class zh{constructor(){this.change=new r.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}}const Xx=Number.MAX_SAFE_INTEGER;let Uy=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let E=i.id||this.service.defaultId();return this.state[E]?this.state[E].slice:e}let h,g,s=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),u=o.id,v=o.itemsPerPage,I=this.service.register(o);if(!s&&e instanceof Array){if(v=+v||Xx,h=(o.currentPage-1)*v,g=h+v,this.stateIsIdentical(u,e,h,g))return this.state[u].slice;{let O=e.slice(h,g);return this.saveState(u,e,O,h,g),this.service.change.emit(u),O}}return I&&this.service.change.emit(u),this.saveState(u,e,e,h,g),e}createInstance(e,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){const s=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<s.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${s.join(", ")}`)}saveState(e,i,s,o,u){this.state[e]={collection:i,size:i.length,slice:s,start:o,end:u}}stateIsIdentical(e,i,s,o){let u=this.state[e];return!(!u||u.size!==i.length||u.start!==s||u.end!==o)&&u.slice.every((g,v)=>g===i[s+v])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zh,16))},n.\u0275pipe=r.Yjl({name:"paginate",type:n,pure:!1}),n})(),eD=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new r.vpe,this.pageBoundsCorrection=new r.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(s=>{this.id===s&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){const i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,s,o){o=+o;let u=[];const h=Math.max(Math.ceil(s/i),1),g=Math.ceil(o/2),v=e<=g,I=h-g<e,E=!v&&!I;let O=o<h,M=1;for(;M<=h&&M<=o;){let V,X=this.calculatePageNumber(M,e,o,h),ie=2===M&&(E||I),Be=M===o-1&&(E||v);V=O&&(ie||Be)?"...":X,u.push({label:V,value:X}),M++}return u}calculatePageNumber(e,i,s,o){let u=Math.ceil(s/2);return e===s?o:1===e?e:s<o?o-u<i?o-s+e:u<i?i-u+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(zh),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.TTD]}),n})();function By(n){return!!n&&"false"!==n}let BC=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.vpe,this.pageBoundsCorrection=new r.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=By(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=By(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=By(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(1&e&&(r.TgZ(0,"pagination-template",0,1),r.NdJ("pageChange",function(o){return i.pageChange.emit(o)})("pageBoundsCorrection",function(o){return i.pageBoundsCorrection.emit(o)}),r.TgZ(2,"nav",2),r.YNc(3,Jx,6,8,"ul",3),r.qZA()()),2&e){const s=r.MAs(1);r.Q6J("id",i.id)("maxSize",i.maxSize),r.xp6(2),r.uIk("aria-label",i.screenReaderPaginationLabel),r.xp6(1),r.Q6J("ngIf",!(i.autoHide&&s.pages.length<=1))}},directives:[eD,Xt,On],pipes:[Bl],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[zh],imports:[[Tn]]}),n})();function $a(n){return!!n&&(n instanceof Zi.y||(0,Dr.m)(n.lift)&&(0,Dr.m)(n.subscribe))}var nD=k(6063);class HC extends Dt.x{constructor(t=1/0,e=1/0,i=nD.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!s&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:s}=this,o=s.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:s}=this,o=(s?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!s){const u=e.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var jC=k(3099);function id(n,t,e){var i,s;let o,u=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(s=n.windowTime)&&void 0!==s?s:1/0,u=!!n.refCount,e=n.scheduler):o=null!=n?n:1/0,(0,jC.B)({connector:()=>new HC(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}class Wh{}let Hy=(()=>{class n extends Wh{getTranslation(e){return gt({})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class jy{}let ZC=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();function Gg(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;let s,o,u,e=typeof n;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(o in u=Object.create(null),n){if(!Gg(n[o],t[o]))return!1;u[o]=!0}for(o in t)if(!(o in u)&&void 0!==t[o])return!1;return!0}if(!Array.isArray(t))return!1;if((s=n.length)==t.length){for(o=0;o<s;o++)if(!Gg(n[o],t[o]))return!1;return!0}}return!1}function ha(n){return null!=n}function Kh(n){return n&&"object"==typeof n&&!Array.isArray(n)}function Zy(n,t){let e=Object.assign({},n);return Kh(n)&&Kh(t)&&Object.keys(t).forEach(i=>{Kh(t[i])?i in n?e[i]=Zy(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}class rd{}let qC=(()=>{class n extends rd{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,i){let s;return s="string"==typeof e?this.interpolateString(e,i):"function"==typeof e?this.interpolateFunction(e,i):e,s}getValue(e,i){let s="string"==typeof i?i.split("."):[i];i="";do{i+=s.shift(),!ha(e)||!ha(e[i])||"object"!=typeof e[i]&&s.length?s.length?i+=".":e=void 0:(e=e[i],i="")}while(s.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(s,o)=>{let u=this.getValue(i,o);return ha(u)?u:s}):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class $g{}let zg=(()=>{class n extends $g{compile(e,i){return e}compileTranslations(e,i){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=r.n5z(n)))(i||n)}}(),n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class GC{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.vpe,this.onLangChange=new r.vpe,this.onDefaultLangChange=new r.vpe}}const Wg=new r.OlP("USE_STORE"),qy=new r.OlP("USE_DEFAULT_LANG"),Kg=new r.OlP("DEFAULT_LANGUAGE"),Gy=new r.OlP("USE_EXTEND");let sd=(()=>{class n{constructor(e,i,s,o,u,h=!0,g=!1,v=!1,I){this.store=e,this.currentLoader=i,this.compiler=s,this.parser=o,this.missingTranslationHandler=u,this.useDefaultLang=h,this.isolate=g,this.extend=v,this.pending=!1,this._onTranslationChange=new r.vpe,this._onLangChange=new r.vpe,this._onDefaultLangChange=new r.vpe,this._langs=[],this._translations={},this._translationRequests={},I&&this.setDefaultLang(I)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);void 0!==i?(null==this.defaultLang&&(this.defaultLang=e),i.pipe((0,no.q)(1)).subscribe(s=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return gt(this.translations[e]);let i=this.retrieveTranslations(e);return void 0!==i?(this.currentLang||(this.currentLang=e),i.pipe((0,no.q)(1)).subscribe(s=>{this.changeLang(e)}),i):(this.changeLang(e),gt(this.translations[e]))}retrieveTranslations(e){let i;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;const i=this.currentLoader.getTranslation(e).pipe(id(1),(0,no.q)(1));return this.loadingTranslations=i.pipe((0,Nt.U)(s=>this.compiler.compileTranslations(s,e)),id(1),(0,no.q)(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},s),this.translations[e]):s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),i}setTranslation(e,i,s=!1){i=this.compiler.compileTranslations(i,e),this.translations[e]=(s||this.extend)&&this.translations[e]?Zy(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{-1===this.langs.indexOf(i)&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,s){let o;if(i instanceof Array){let u={},h=!1;for(let g of i)u[g]=this.getParsedResult(e,g,s),$a(u[g])&&(h=!0);return h?rf(i.map(v=>$a(u[v])?u[v]:gt(u[v]))).pipe((0,Nt.U)(v=>{let I={};return v.forEach((E,O)=>{I[i[O]]=E}),I})):u}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,i),s)),void 0===o&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),s)),void 0===o){let u={key:i,translateService:this};void 0!==s&&(u.interpolateParams=s),o=this.missingTranslationHandler.handle(u)}return void 0!==o?o:i}get(e,i){if(!ha(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(wc(s=>$a(s=this.getParsedResult(s,e,i))?s:gt(s)));{let s=this.getParsedResult(this.translations[this.currentLang],e,i);return $a(s)?s:gt(s)}}getStreamOnTranslationChange(e,i){if(!ha(e)||!e.length)throw new Error('Parameter "key" required');return rs(ml(()=>this.get(e,i)),this.onTranslationChange.pipe(Qn(s=>{const o=this.getParsedResult(s.translations,e,i);return"function"==typeof o.subscribe?o:gt(o)})))}stream(e,i){if(!ha(e)||!e.length)throw new Error('Parameter "key" required');return rs(ml(()=>this.get(e,i)),this.onLangChange.pipe(Qn(s=>{const o=this.getParsedResult(s.translations,e,i);return $a(o)?o:gt(o)})))}instant(e,i){if(!ha(e)||!e.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],e,i);if($a(s)){if(e instanceof Array){let o={};return e.forEach((u,h)=>{o[e[h]]=e[h]}),o}return e}return s}set(e,i,s=this.currentLang){this.translations[s][e]=this.compiler.compile(i,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(GC),r.LFG(Wh),r.LFG($g),r.LFG(rd),r.LFG(jy),r.LFG(qy),r.LFG(Wg),r.LFG(Gy),r.LFG(Kg))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Ni=(()=>{class n{constructor(e,i){this.translate=e,this._ref=i,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,i,s){let o=u=>{this.value=void 0!==u?u:e,this.lastKey=e,this._ref.markForCheck()};if(s){let u=this.translate.getParsedResult(s,e,i);$a(u.subscribe)?u.subscribe(o):o(u)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(Gg(e,this.lastKey)&&Gg(i,this.lastParams))return this.value;let s;if(ha(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{s=JSON.parse(o)}catch(u){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(s=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,s,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(sd,16),r.Y36(r.sBO,16))},n.\u0275pipe=r.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Yg=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:Wh,useClass:Hy},e.compiler||{provide:$g,useClass:zg},e.parser||{provide:rd,useClass:qC},e.missingTranslationHandler||{provide:jy,useClass:ZC},GC,{provide:Wg,useValue:e.isolate},{provide:qy,useValue:e.useDefaultLang},{provide:Gy,useValue:e.extend},{provide:Kg,useValue:e.defaultLanguage},sd]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:Wh,useClass:Hy},e.compiler||{provide:$g,useClass:zg},e.parser||{provide:rd,useClass:qC},e.missingTranslationHandler||{provide:jy,useClass:ZC},{provide:Wg,useValue:e.isolate},{provide:qy,useValue:e.useDefaultLang},{provide:Gy,useValue:e.extend},{provide:Kg,useValue:e.defaultLanguage},sd]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();function iD(n,t){if(1&n&&(r.TgZ(0,"option",23),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e),r.xp6(1),r.hij(" ",e," ")}}function od(n,t){1&n&&(r.TgZ(0,"span",29),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.disabled")))}function Yh(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",30),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().enableUser(s._id)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}if(2&n){const e=r.oxw().$implicit;r.Q6J("hidden","adf0c9ad82601330d46ec62a"===e.role),r.xp6(1),r.Oqu(r.lcZ(2,2,"admin.enable"))}}function rD(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",31),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().disableUser(s._id)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}if(2&n){const e=r.oxw().$implicit;r.Q6J("hidden","adf0c9ad82601330d46ec62a"===e.role),r.xp6(1),r.Oqu(r.lcZ(2,2,"admin.disable"))}}function sk(n,t){1&n&&(r.TgZ(0,"span",32),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.admin")))}function $C(n,t){if(1&n&&(r.TgZ(0,"tr")(1,"td"),r._UZ(2,"img",24),r._uU(3),r.YNc(4,od,3,3,"span",25),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r.YNc(12,Yh,3,4,"button",26),r.YNc(13,rD,3,4,"button",27),r.YNc(14,sk,3,3,"span",28),r.qZA()()),2&n){const e=t.$implicit;r.xp6(2),r.Q6J("src",e.image?"../../../../assets/uploads/profile/"+e.image:"assets/img/avatars/avatar1.jpeg",r.LSH),r.xp6(1),r.hij(" ",e.name,""),r.xp6(1),r.Q6J("ngIf",!e.status),r.xp6(2),r.Oqu(e.email),r.xp6(2),r.Oqu(e.mobile),r.xp6(2),r.Oqu(e.createdAt),r.xp6(2),r.Q6J("ngIf",!e.status),r.xp6(1),r.Q6J("ngIf",e.status),r.xp6(1),r.Q6J("ngIf","adf0c9ad82601330d46ec62a"===e.role)}}const sD=function(n,t){return{itemsPerPage:n,currentPage:t}};let oD=(()=>{class n{constructor(e){this._user=e,this.loading=!1,this.limits=[5,10,20],this.p=1,this.selectedLimit=5,this.users=[],this.copyUsers=[],this._user.getAllUsers().subscribe(i=>{this.users=i.data,this.copyUsers=this.users},i=>console.log(i.error),()=>{this.loading=!0})}get limit(){return this.selectedLimit}get page(){return this.p}enableUser(e){this._user.enableUser(e).subscribe(i=>{if(i.apiStatus){for(let s of this.users)s._id==e&&(s.status=!0);this.msg=i.msg}},i=>this.msg=i.error)}disableUser(e){this._user.disableUser(e).subscribe(i=>{if(i.apiStatus){for(let s of this.users)s._id==e&&(s.status=!1);this.msg=i.msg}},i=>this.msg=i.error)}handleSearch(){let e=this.users.filter(i=>i.name.includes(this.search_term));this.users=e}ngAfterContentChecked(){""==this.search_term&&(this.users=this.copyUsers)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(eo))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-all-users"]],decls:58,vars:46,consts:[[1,"container"],[1,"row"],[1,"container-fluid"],[1,"card","shadow"],[1,"card-header","py-3"],[1,"text-primary","m-0","fw-bold"],[1,"card-body"],[1,"col-md-6","text-nowrap"],["id","dataTable_length","aria-controls","dataTable",1,"dataTables_length"],[1,"form-label"],[1,"d-inline-block","form-select","form-select-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6"],["id","dataTable_filter",1,"text-md-end","dataTables_filter"],["type","search","aria-controls","dataTable",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange"],["id","dataTable","role","grid","aria-describedby","dataTable_info",1,"table-responsive","table","mt-2"],["id","dataTable",1,"table","my-0"],[4,"ngFor","ngForOf"],[1,"col-md-6","align-self-center"],["id","dataTable_info","role","status","aria-live","polite",1,"dataTables_info"],[1,"d-lg-flex","justify-content-lg-end","dataTables_paginate","paging_simple_numbers"],[1,"pagination"],[3,"pageChange"],[3,"value"],["width","30","height","30",1,"rounded-circle","me-2",3,"src"],["class","disable",4,"ngIf"],["class","btn btn-primary btn-sm",3,"hidden","click",4,"ngIf"],["class","btn btn-outline-danger btn-sm",3,"hidden","click",4,"ngIf"],["class","text-info",4,"ngIf"],[1,"disable"],[1,"btn","btn-primary","btn-sm",3,"hidden","click"],[1,"btn","btn-outline-danger","btn-sm",3,"hidden","click"],[1,"text-info"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),r._uU(7),r.ALo(8,"translate"),r.qZA()(),r.TgZ(9,"div",6)(10,"div",1)(11,"div",7)(12,"div",8)(13,"label",9),r._uU(14),r.ALo(15,"translate"),r.TgZ(16,"select",10),r.NdJ("ngModelChange",function(o){return i.selectedLimit=o}),r.YNc(17,iD,2,2,"option",11),r.qZA(),r._uU(18," \xa0 "),r.qZA()()(),r.TgZ(19,"div",12)(20,"div",13)(21,"label",9)(22,"input",14),r.NdJ("ngModelChange",function(o){return i.search_term=o})("ngModelChange",function(){return i.handleSearch()}),r.ALo(23,"translate"),r.qZA()()()()(),r.TgZ(24,"div",15)(25,"table",16)(26,"thead")(27,"tr")(28,"th"),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.TgZ(31,"th"),r._uU(32),r.ALo(33,"translate"),r.qZA(),r.TgZ(34,"th"),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.TgZ(37,"th"),r._uU(38),r.ALo(39,"translate"),r.qZA(),r.TgZ(40,"th"),r._uU(41),r.ALo(42,"translate"),r.qZA()()(),r.TgZ(43,"tbody"),r.YNc(44,$C,15,9,"tr",17),r.ALo(45,"paginate"),r.qZA(),r._UZ(46,"tfoot"),r.qZA()(),r.TgZ(47,"div",1)(48,"div",18)(49,"p",19),r._uU(50),r.ALo(51,"translate"),r.ALo(52,"translate"),r.ALo(53,"translate"),r.qZA()(),r.TgZ(54,"div",12)(55,"nav",20)(56,"div",21)(57,"pagination-controls",22),r.NdJ("pageChange",function(o){return i.p=o}),r.qZA()()()()()()()()()()()),2&e&&(r.xp6(7),r.Oqu(r.lcZ(8,18,"admin.userInfo")),r.xp6(7),r.hij("",r.lcZ(15,20,"admin.show"),"\xa0 "),r.xp6(2),r.Q6J("ngModel",i.selectedLimit),r.xp6(1),r.Q6J("ngForOf",i.limits),r.xp6(5),r.s9C("placeholder",r.lcZ(23,22,"admin.search")),r.Q6J("ngModel",i.search_term),r.xp6(7),r.Oqu(r.lcZ(30,24,"user.name")),r.xp6(3),r.Oqu(r.lcZ(33,26,"user.email")),r.xp6(3),r.Oqu(r.lcZ(36,28,"user.mobile")),r.xp6(3),r.Oqu(r.lcZ(39,30,"user.createdAt")),r.xp6(3),r.Oqu(r.lcZ(42,32,"admin.modify")),r.xp6(3),r.Q6J("ngForOf",r.xi3(45,34,i.users,r.WLB(43,sD,i.selectedLimit,i.p))),r.xp6(6),r.gL8("",r.lcZ(51,37,"admin.showing")," ",i.p," ",r.lcZ(52,39,"admin.to")," ",i.selectedLimit," ",r.lcZ(53,41,"admin.of")," ",i.users.length,""))},directives:[vo,yi,zs,On,lc,hl,dr,Xt,BC],pipes:[Ni,Uy],styles:[".disable[_ngcontent-%COMP%]{color:#b8bbbb;border:#b8b6b6 1px solid;margin-left:10px}"]}),n})(),El=(()=>{class n{constructor(e){this._http=e,this.uploadProductImagesCloud=function(){var i=(0,Ie.Z)(function*(s,o,u,h){try{const g={contentType:"image/jpeg",size:2097152};let v=JSON.parse(localStorage.getItem("user")),I=s.name.split(/[#?]/)[0].split(".").pop().trim();const E="/products/"+v._id+"_"+o+"_"+u+"."+I,O=Ah(),M=bc(O,E),V=yield L1(M,s,g);ey(V.ref).then(X=>{h(!1,X)}).catch(X=>{h(!0,X)})}catch(g){h(!0,g)}});return function(s,o,u,h){return i.apply(this,arguments)}}(),this.deleteProductImageCloud=(i,s,o,u)=>{let h=JSON.parse(localStorage.getItem("user")),g=s.split(/[#?]/)[0].split(".").pop().trim();const v="/products/"+h._id+"_"+i+"_"+o+"."+g,I=Ah(),E=bc(I,v);dg(E).then(()=>{u(!1)}).catch(O=>{u(!0,O)})}}getAllCategories(){return this._http.get("/api/category/allcategories")}addCategory(e){return this._http.post("/api/category/addCategory",e)}getAllProducts(){return this._http.get("/api/product/allProducts")}getAllProductsForAdmin(){return this._http.get("/api/product/getAllProductsForAdmin")}getLast10Products(){return this._http.get("/api/product/allProducts?limit=10")}getProductById(e){return this._http.get(`/api/product/getProductById/${e}`)}getAllProductByUserId(){return this._http.get("/api/product/getAllProductByUserId")}searchProductByName(e){return this._http.get(`/api/product/searchProductByName/${e}`)}editProduct(e){return this._http.patch("/api/product/editProduct",e)}enableProduct(e){return this._http.patch("/api/product/enableProduct",{id:e})}disableProduct(e){return this._http.patch("/api/product/disableProduct",{id:e})}addProduct(e){return this._http.post("/api/product/addProduct",e)}deleteProduct(e){return this._http.delete(`/api/product/deleteProduct/${e}`)}uploadProductImages(e,i){return this._http.post(`/api/product/productImages/${i}`,e)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(fg))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aD(n,t){if(1&n&&(r.TgZ(0,"option",24),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e),r.xp6(1),r.hij(" ",e," ")}}function zC(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",31),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().enableProduct(s._id)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.show")))}function WC(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",32),r.NdJ("click",function(){r.CHM(e);const s=r.oxw().$implicit;return r.oxw().disableProduct(s._id)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"admin.hide")))}const $y=function(n){return[n]};function Qg(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"tr")(1,"td"),r._UZ(2,"img",25),r.TgZ(3,"a",26),r._uU(4),r.qZA()(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td")(12,"button",27),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().deleteProduct(o._id)}),r._UZ(13,"i",28),r.qZA()(),r.TgZ(14,"td"),r.YNc(15,zC,3,3,"button",29),r.YNc(16,WC,3,3,"button",30),r.qZA()()}if(2&n){const e=t.$implicit,i=r.oxw();r.xp6(2),r.Q6J("src","../../../../assets/uploads/products/"+e.images[0],r.LSH),r.xp6(1),r.Q6J("routerLink",r.VKq(8,$y,"/product/"+e._id)),r.xp6(1),r.Oqu(e.name),r.xp6(2),r.Oqu(e.type),r.xp6(2),r.Oqu(e.status),r.xp6(2),r.Oqu(i.convertDate(e.createdAt)),r.xp6(5),r.Q6J("ngIf",!e.status),r.xp6(1),r.Q6J("ngIf",e.status)}}const Qh=function(n,t){return{itemsPerPage:n,currentPage:t}};let lD=(()=>{class n{constructor(e){this._product=e,this.loading=!1,this.limits=[5,10,20],this.p=1,this.selectedLimit=5,this.products=[],this.copyProducts=[],this.addRouteForm=!1,e.getAllProductsForAdmin().subscribe(i=>{this.products=i.data.reverse(),this.copyProducts=this.products},i=>console.log(i.error),()=>{this.loading=!0})}addRoute(){this.addRouteForm=!0}enCoded(e){return encodeURIComponent(btoa(e))}handleSearch(){let e=this.products.filter(i=>i.name.includes(this.search_term));this.products=e}ngAfterContentChecked(){""==this.search_term&&(this.products=this.copyProducts)}deleteProduct(e){confirm("Do you really want to delete this product?")&&this._product.deleteProduct(e).subscribe(i=>{if(i.apiStatus)return this.products=this.products.filter(s=>s._id!==e)},i=>alert(i.error.msg))}enableProduct(e){this._product.enableProduct(e).subscribe(i=>{if(i.apiStatus){for(let s of this.products)s._id==e&&(s.status=!0);this.msg=i.msg}},i=>this.msg=i.error)}disableProduct(e){this._product.disableProduct(e).subscribe(i=>{if(i.apiStatus){for(let s of this.products)s._id==e&&(s.status=!1);this.msg=i.msg}},i=>this.msg=i.error)}convertDate(e){var i=new Date(e);return[i.getMonth()+1,i.getDate(),i.getFullYear()].join("/")+" "+[i.getHours(),i.getMinutes(),i.getSeconds()].join(":")}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(El))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-all-products"]],decls:63,vars:49,consts:[[1,"container"],[1,"col"],[1,"container-fluid"],[1,"card","shadow"],[1,"card-header","py-3"],[1,"text-primary","m-0","fw-bold"],[1,"card-body"],[1,"row"],[1,"col-md-6","text-nowrap"],["id","dataTable_length","aria-controls","dataTable",1,"dataTables_length"],[1,"form-label"],[1,"d-inline-block","form-select","form-select-sm",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6"],["id","dataTable_filter",1,"text-md-end","dataTables_filter"],["type","search","aria-controls","dataTable",1,"form-control","form-control-sm",3,"placeholder","ngModel","ngModelChange"],["id","dataTable","role","grid","aria-describedby","dataTable_info",1,"table-responsive","table","mt-2"],["id","dataTable",1,"table","my-0"],[4,"ngFor","ngForOf"],[1,"col-md-6","align-self-center"],["id","dataTable_info","role","status","aria-live","polite",1,"dataTables_info"],[1,"d-lg-flex","justify-content-lg-end","dataTables_paginate","paging_simple_numbers"],[1,"pagination"],[3,"pageChange"],[3,"value"],["width","30","height","30",1,"rounded-circle","me-2",3,"src"],[3,"routerLink"],[1,"btn","btn-danger","mx-2",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-outline-danger btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),r._uU(7),r.ALo(8,"translate"),r.qZA()(),r.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",7)(14,"div",1)(15,"label",10),r._uU(16),r.ALo(17,"translate"),r.TgZ(18,"select",11),r.NdJ("ngModelChange",function(o){return i.selectedLimit=o}),r.YNc(19,aD,2,2,"option",12),r.qZA(),r._uU(20," \xa0 "),r.qZA()()()()(),r.TgZ(21,"div",13)(22,"div",14)(23,"label",10)(24,"input",15),r.NdJ("ngModelChange",function(o){return i.search_term=o})("ngModelChange",function(){return i.handleSearch()}),r.ALo(25,"translate"),r.qZA()()()()(),r.TgZ(26,"div",16)(27,"table",17)(28,"thead")(29,"tr")(30,"th"),r._uU(31),r.ALo(32,"translate"),r.qZA(),r.TgZ(33,"th"),r._uU(34),r.ALo(35,"translate"),r.qZA(),r.TgZ(36,"th"),r._uU(37),r.ALo(38,"translate"),r.qZA(),r.TgZ(39,"th"),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.TgZ(42,"th"),r._uU(43),r.ALo(44,"translate"),r.qZA(),r.TgZ(45,"th"),r._uU(46),r.ALo(47,"translate"),r.qZA()()(),r.TgZ(48,"tbody"),r.YNc(49,Qg,17,10,"tr",18),r.ALo(50,"paginate"),r.qZA(),r._UZ(51,"tfoot"),r.qZA()(),r.TgZ(52,"div",7)(53,"div",19)(54,"p",20),r._uU(55),r.ALo(56,"translate"),r.ALo(57,"translate"),r.ALo(58,"translate"),r.qZA()(),r.TgZ(59,"div",13)(60,"nav",21)(61,"div",22)(62,"pagination-controls",23),r.NdJ("pageChange",function(o){return i.p=o}),r.qZA()()()()()()()()()()()),2&e&&(r.xp6(7),r.Oqu(r.lcZ(8,19,"admin.adsInfo")),r.xp6(9),r.hij("",r.lcZ(17,21,"admin.show"),"\xa0 "),r.xp6(2),r.Q6J("ngModel",i.selectedLimit),r.xp6(1),r.Q6J("ngForOf",i.limits),r.xp6(5),r.s9C("placeholder",r.lcZ(25,23,"admin.search")),r.Q6J("ngModel",i.search_term),r.xp6(7),r.Oqu(r.lcZ(32,25,"viewProducts.name")),r.xp6(3),r.Oqu(r.lcZ(35,27,"addNewProduct.Category")),r.xp6(3),r.Oqu(r.lcZ(38,29,"viewProducts.status")),r.xp6(3),r.Oqu(r.lcZ(41,31,"viewProducts.createdDate")),r.xp6(3),r.Oqu(r.lcZ(44,33,"viewProducts.delete")),r.xp6(3),r.Oqu(r.lcZ(47,35,"viewProducts.display")),r.xp6(3),r.Q6J("ngForOf",r.xi3(50,37,i.products,r.WLB(46,Qh,i.selectedLimit,i.p))),r.xp6(6),r.gL8("",r.lcZ(56,40,"admin.showing")," ",i.p," ",r.lcZ(57,42,"admin.to")," ",i.selectedLimit," ",r.lcZ(58,44,"admin.of")," ",i.products.length,""))},directives:[vo,yi,zs,On,lc,hl,dr,Ga,Xt,BC],pipes:[Ni,Uy],styles:[""]}),n})(),KC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-dashboard"]],decls:8,vars:6,consts:[[1,"container","mt-5",2,"padding-bottom","430px"],[3,"heading"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"tabset")(2,"tab",1),r.ALo(3,"translate"),r._UZ(4,"app-all-users"),r.qZA(),r.TgZ(5,"tab",1),r.ALo(6,"translate"),r._UZ(7,"app-all-products"),r.qZA()()()),2&e&&(r.xp6(2),r.s9C("heading",r.lcZ(3,2,"admin.users")),r.xp6(3),r.s9C("heading",r.lcZ(6,4,"admin.ads")))},directives:[RC,NC,oD,lD],pipes:[Ni],styles:[""]}),n})();function zy(n){return null!=n&&"false"!=`${n}`}function Jg(n,t=0){return function cD(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function so(n){return n instanceof r.SBq?n.nativeElement:n}var uD=k(1144);const ad=["addListener","removeListener"],QC=["addEventListener","removeEventListener"],ld=["on","off"];function Wy(n,t,e,i){if((0,Dr.m)(e)&&(i=e,e=void 0),i)return Wy(n,t,e).pipe(ol(i));const[s,o]=function JC(n){return(0,Dr.m)(n.addEventListener)&&(0,Dr.m)(n.removeEventListener)}(n)?QC.map(u=>h=>n[u](t,h,e)):function dD(n){return(0,Dr.m)(n.addListener)&&(0,Dr.m)(n.removeListener)}(n)?ad.map(Ky(n,t)):function lk(n){return(0,Dr.m)(n.on)&&(0,Dr.m)(n.off)}(n)?ld.map(Ky(n,t)):[];if(!s&&(0,uD.z)(n))return(0,Ri.z)(u=>Wy(u,t,e))((0,qi.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new Zi.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return s(h),()=>o(h)})}function Ky(n,t){return e=>i=>n[e](t,i)}var hD=k(4408);const cd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cd;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(o=>{e=void 0,n(o)});return new qr.w0(()=>null==e?void 0:e(s))},requestAnimationFrame(...n){const{delegate:t}=cd;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cd;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var Qy=k(7565);const Jy=new class XC extends Qy.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class Yy extends hD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(s=>s.id===e)||(cd.cancelAnimationFrame(e),t._scheduled=void 0)}});let Xy,eI=1;const Xg={};function tI(n){return n in Xg&&(delete Xg[n],!0)}const fD={setImmediate(n){const t=eI++;return Xg[t]=!0,Xy||(Xy=Promise.resolve()),Xy.then(()=>tI(t)&&n()),t},clearImmediate(n){tI(n)}},{setImmediate:Jh,clearImmediate:nI}=fD,Xh={setImmediate(...n){const{delegate:t}=Xh;return((null==t?void 0:t.setImmediate)||Jh)(...n)},clearImmediate(n){const{delegate:t}=Xh;return((null==t?void 0:t.clearImmediate)||nI)(n)},delegate:void 0},sI=new class rI extends Qy.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class iI extends hD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Xh.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(s=>s.id===e)||(Xh.clearImmediate(e),t._scheduled=void 0)}});function ev(n,t=Oh.y){return n=null!=n?n:oI,(0,nr.e)((e,i)=>{let s,o=!0;e.subscribe(new Kt.Q(i,u=>{const h=t(u);(o||!n(s,h))&&(o=!1,s=h,i.next(u))}))})}function oI(n,t){return n===t}var ep=k(4986),mD=k(3532);function ud(n=0,t,e=ep.P){let i=-1;return null!=t&&((0,mD.K)(t)?e=t:i=t),new Zi.y(s=>{let o=function _D(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){s.closed||(s.next(u++),0<=i?this.schedule(void 0,i):s.complete())},o)})}function tv(n,t=ep.P){return function aI(n){return(0,nr.e)((t,e)=>{let i=!1,s=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const v=s;s=null,e.next(v)}u&&e.complete()},g=()=>{o=null,u&&e.complete()};t.subscribe(new Kt.Q(e,v=>{i=!0,s=v,o||(0,qi.Xf)(n(v)).subscribe(o=new Kt.Q(e,h,g))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>ud(n,t))}var nv=k(5032);function Es(n){return(0,nr.e)((t,e)=>{(0,qi.Xf)(n).subscribe(new Kt.Q(e,()=>e.complete(),nv.Z)),!e.closed&&t.subscribe(e)})}function tp(){return(0,nr.e)((n,t)=>{let e,i=!1;n.subscribe(new Kt.Q(t,s=>{const o=e;e=s,i&&t.next([o,s]),i=!0}))})}let np;try{np="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){np=!1}let xl,rp,Dl,sv,dd=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Si(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!np)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.Lbi))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ip(n){return function yD(){if(null==xl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xl=!0}))}finally{xl=xl||!1}return xl}()?n:!!n.capture}function pd(){if("object"!=typeof document||!document)return 0;if(null==rp){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),rp=0,0===n.scrollLeft&&(n.scrollLeft=1,rp=0===n.scrollLeft?1:2),n.remove()}return rp}function bD(n){if(function vD(){if(null==sv){const n="undefined"!=typeof document?document.head:null;sv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sv}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function fd(n){return n.composedPath?n.composedPath()[0]:n.target}const ov=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function av(){return(0,r.f3M)(ce)}}),CD=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let uI=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function ID(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?CD.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ov,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();class hI extends class cv{}{constructor(t){super(),this._data=t}connect(){return $a(this._data)?this._data:gt(this._data)}disconnect(){}}class pI{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,s,o){t.forEachOperation((u,h,g)=>{let v,I;null==u.previousIndex?(v=this._insertView(()=>i(u,h,g),g,e,s(u)),I=v?1:0):null==g?(this._detachAndCacheView(h,e),I=3):(v=this._moveView(h,g,e,s(u)),I=2),o&&o({context:null==v?void 0:v.context,operation:I,record:u})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,s){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=s);const u=t();return i.createEmbeddedView(u.templateRef,u.context,u.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,s){const o=i.get(t);return i.move(o,e),o.context.$implicit=s,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const fI=new r.OlP("_ViewRepeater"),gI=["contentWrapper"],mI=["*"],Sr=new r.OlP("VIRTUAL_SCROLL_STRATEGY");class gd{constructor(t,e,i){this._scrolledIndexChange=new Dt.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(ev()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),s=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),u=this._itemSize>0?o/this._itemSize:0;if(e.end>s){const g=Math.ceil(i/this._itemSize),v=Math.max(0,Math.min(u,s-g));u!=v&&(u=v,o=v*this._itemSize,e.start=Math.floor(u)),e.end=Math.max(0,Math.min(s,e.start+g))}const h=o-e.start*this._itemSize;if(h<this._minBufferPx&&0!=e.start){const g=Math.ceil((this._maxBufferPx-h)/this._itemSize);e.start=Math.max(0,e.start-g),e.end=Math.min(s,Math.ceil(u+(i+this._minBufferPx)/this._itemSize))}else{const g=e.end*this._itemSize-(o+i);if(g<this._minBufferPx&&e.end!=s){const v=Math.ceil((this._maxBufferPx-g)/this._itemSize);v>0&&(e.end=Math.min(s,e.end+v),e.start=Math.max(0,Math.floor(u-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(u))}}function DD(n){return n._scrollStrategy}let SD=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new gd(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Jg(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Jg(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Jg(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=r.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r._Bn([{provide:Sr,useFactory:DD,deps:[(0,r.Gpc)(()=>n)]}]),r.TTD]}),n})(),md=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Dt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Zi.y(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(tv(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):gt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(is(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=so(i),o=e.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wy(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(dd),r.LFG(ce,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_I=(()=>{class n{constructor(e,i,s,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=o,this._destroyed=new Dt.x,this._elementScrolled=new Zi.y(u=>this.ngZone.runOutsideAngular(()=>Wy(this.elementRef.nativeElement,"scroll").pipe(Es(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&0!=pd()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==pd()?e.left=e.right:1==pd()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function rv(){if(null==Dl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dl=!1,Dl;if("scrollBehavior"in document.documentElement.style)Dl=!0;else{const n=Element.prototype.scrollTo;Dl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Dl}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",s="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?s:i:"end"==e&&(e=u?i:s),u&&2==pd()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==pd()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(md),r.Y36(r.R0b),r.Y36(uI,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),yI=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Dt.x,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(tv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(dd),r.LFG(r.R0b),r.LFG(ce,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AD="undefined"!=typeof requestAnimationFrame?Jy:sI;let dv=(()=>{class n extends _I{constructor(e,i,s,o,u,h,g){super(e,h,s,u),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new Dt.x,this._renderedRangeSubject=new Dt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Zi.y(v=>this._scrollStrategy.scrolledIndexChange.subscribe(I=>Promise.resolve().then(()=>this.ngZone.run(()=>v.next(I))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=qr.w0.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=zy(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(io(null),tv(0,AD)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Es(this._detachedSubject)).subscribe(i=>{const s=i.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function vI(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,u=o?"X":"Y";let g=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(g+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const s={behavior:i};"horizontal"===this.orientation?s.start=e:s.top=e,this.scrollTo(s)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(Sr,8),r.Y36(uI,8),r.Y36(md),r.Y36(yI))},n.\u0275cmp=r.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&r.Gf(gI,7),2&e){let s;r.iGM(s=r.CRH())&&(i._contentWrapper=s.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[r._Bn([{provide:_I,useExisting:n}]),r.qOj],ngContentSelectors:mI,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.Hsn(2),r.qZA(),r._UZ(3,"div",2)),2&e&&(r.xp6(3),r.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function em(n,t,e){if(!e.getBoundingClientRect)return 0;const s=e.getBoundingClientRect();return"horizontal"===n?"start"===t?s.left:s.right:"start"===t?s.top:s.bottom}let bI=(()=>{class n{constructor(e,i,s,o,u,h){this._viewContainerRef=e,this._template=i,this._differs=s,this._viewRepeater=o,this._viewport=u,this.viewChange=new Dt.x,this._dataSourceChanges=new Dt.x,this.dataStream=this._dataSourceChanges.pipe(io(null),tp(),Qn(([g,v])=>this._changeDataSource(g,v)),id(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Dt.x,this.dataStream.subscribe(g=>{this._data=g,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Es(this._destroyed)).subscribe(g=>{this._renderedRange=g,h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function dI(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new hI($a(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,s)=>e(i+(this._renderedRange?this._renderedRange.start:0),s):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=Jg(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const s=e.start-this._renderedRange.start,o=e.end-e.start;let u,h;for(let g=0;g<o;g++){const v=this._viewContainerRef.get(g+s);if(v&&v.rootNodes.length){u=h=v.rootNodes[0];break}}for(let g=o-1;g>-1;g--){const v=this._viewContainerRef.get(g+s);if(v&&v.rootNodes.length){h=v.rootNodes[v.rootNodes.length-1];break}}return u&&h?em(i,"end",h)-em(i,"start",u):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):gt()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const s=this._viewContainerRef.get(i);s.context.index=this._renderedRange.start+i,s.context.count=e,this._updateComputedContextProperties(s.context),s.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,u,h)=>this._getEmbeddedViewArgs(o,h),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const o=this._viewContainerRef.get(s);o.context.index=this._renderedRange.start+s,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4),r.Y36(fI),r.Y36(dv,4),r.Y36(r.R0b))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[r._Bn([{provide:fI,useClass:pI}])]}),n})(),tm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),sp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[lv,tm],lv,tm]}),n})();class nm{}const pa="*";function PD(n,t){return{type:7,name:n,definitions:t,options:{}}}function op(n,t=null){return{type:4,styles:t,timings:n}}function pv(n,t=null){return{type:2,steps:n,options:t}}function _d(n){return{type:6,styles:n,offset:null}}function OD(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function II(n,t=null){return{type:8,animation:n,options:t}}function fv(n){Promise.resolve(null).then(n)}class yd{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class TI{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const o=this.players.length;0==o?fv(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let At=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let s=i.trim().split(" ");for(let o=0;o<s.length;o++)e.classList.add(s[o])}else{let s=i.split(" ");for(let o=0;o<s.length;o++)e.className+=" "+s[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,s=0;for(var o=0;o<i.length;o++){if(i[o]==e)return s;1==i[o].nodeType&&s++}return-1}static indexWithinGroup(e,i){let s=e.parentNode?e.parentNode.childNodes:[],o=0;for(var u=0;u<s.length;u++){if(s[u]==e)return o;s[u].attributes&&s[u].attributes[i]&&1==s[u].nodeType&&o++}return-1}static relativePosition(e,i){let s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,u=i.getBoundingClientRect(),h=this.getViewport();let g,v;u.top+o+s.height>h.height?(g=-1*s.height,e.style.transformOrigin="bottom",u.top+g<0&&(g=-1*u.top)):(g=o,e.style.transformOrigin="top"),v=s.width>h.width?-1*u.left:u.left+s.width>h.width?-1*(u.left+s.width-h.width):0,e.style.top=g+"px",e.style.left=v+"px"}static absolutePosition(e,i){let M,V,s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,u=s.width,h=i.offsetHeight,g=i.offsetWidth,v=i.getBoundingClientRect(),I=this.getWindowScrollTop(),E=this.getWindowScrollLeft(),O=this.getViewport();v.top+h+o>O.height?(M=v.top+I-o,e.style.transformOrigin="bottom",M<0&&(M=I)):(M=h+v.top+I,e.style.transformOrigin="top"),V=v.left+u>O.width?Math.max(0,v.left+E+g-u):v.left+E,e.style.top=M+"px",e.style.left=V+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let s=this.getParents(e);const o=/(auto|scroll)/,u=h=>{let g=window.getComputedStyle(h,null);return o.test(g.getPropertyValue("overflow"))||o.test(g.getPropertyValue("overflowX"))||o.test(g.getPropertyValue("overflowY"))};for(let h of s){let g=1===h.nodeType&&h.dataset.scrollselectors;if(g){let v=g.split(",");for(let I of v){let E=this.findSingle(h,I);E&&u(E)&&i.push(E)}}9!==h.nodeType&&u(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let s=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=s?parseFloat(s):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),h=u?parseFloat(u):0,g=e.getBoundingClientRect(),I=i.getBoundingClientRect().top+document.body.scrollTop-(g.top+document.body.scrollTop)-o-h,E=e.scrollTop,O=e.clientHeight,M=this.getOuterHeight(i);I<0?e.scrollTop=E+I:I+M>O&&(e.scrollTop=E+I-O+M)}static fadeIn(e,i){e.style.opacity=0;let s=+new Date,o=0,u=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-s)/i,e.style.opacity=o,s=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,i){var s=1,h=50/i;let g=setInterval(()=>{(s-=h)<=0&&(s=0,clearInterval(g)),e.style.opacity=s},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var s=Element.prototype;return(s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(e,i)}static getOuterWidth(e,i){let s=e.offsetWidth;if(i){let o=getComputedStyle(e);s+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return s}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,s=getComputedStyle(e);return i+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static width(e){let i=e.offsetWidth,s=getComputedStyle(e);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,s=getComputedStyle(e);return i+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),i}static getOuterHeight(e,i){let s=e.offsetHeight;if(i){let o=getComputedStyle(e);s+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return s}static getHeight(e){let i=e.offsetHeight,s=getComputedStyle(e);return i-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,s=getComputedStyle(e);return i-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),i}static getViewport(){let e=window,i=document,s=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||s.clientWidth||o.clientWidth,height:e.innerHeight||s.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let s=e.parentNode;if(!s)throw"Can't replace element";return s.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=s,s}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,s){e[i].apply(e,s)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),s=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&s.push(o);return s}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class EI{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=At.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let xI=(()=>{class n{constructor(e,i,s){this.el=e,this.zone=i,this.config=s,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?At.appendChild(this.container,this.el.nativeElement):At.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),At.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?La.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&La.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+At.getWindowScrollLeft(),top:e.top+At.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+At.getOuterWidth(this.el.nativeElement),s=e.top+(At.getOuterHeight(this.el.nativeElement)-At.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-At.getOuterWidth(this.container),s=e.top+(At.getOuterHeight(this.el.nativeElement)-At.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(At.getOuterWidth(this.el.nativeElement)-At.getOuterWidth(this.container))/2,s=e.top-At.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(At.getOuterWidth(this.el.nativeElement)-At.getOuterWidth(this.container))/2,s=e.top+At.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,s=e.left,o=At.getOuterWidth(this.container),u=At.getOuterHeight(this.container),h=At.getViewport();return s+o>h.width||s<0||i<0||i+u>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new EI(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):At.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&La.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(ta))},n.\u0275dir=r.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[r.TTD]}),n})(),im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})(),rm=(()=>{class n{constructor(e,i,s){this.el=e,this.zone=i,this.config=s}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(At.removeClass(i,"p-ink-active"),!At.getHeight(i)&&!At.getWidth(i)){let h=Math.max(At.getOuterWidth(this.el.nativeElement),At.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let s=At.getOffset(this.el.nativeElement),o=e.pageX-s.left+document.body.scrollTop-At.getWidth(i)/2,u=e.pageY-s.top+document.body.scrollLeft-At.getHeight(i)/2;i.style.top=u+"px",i.style.left=o+"px",At.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&At.removeClass(e,"p-ink-active")}onAnimationEnd(e){At.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),At.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(ta,8))},n.\u0275dir=r.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),xs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})();function RD(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.label||"empty")}}function ND(n,t){1&n&&r.GkF(0)}const LD=function(n){return{height:n}},DI=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},SI=function(n){return{$implicit:n}},_k=["container"],yk=["filter"],vk=["in"],bk=["editableInput"];function wk(n,t){if(1&n&&(r.ynx(0),r._uU(1),r.BQk()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.label||"empty")}}function Ck(n,t){1&n&&r.GkF(0)}const Ik=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function sm(n,t){if(1&n&&(r.TgZ(0,"span",12),r.YNc(1,wk,2,1,"ng-container",13),r.YNc(2,Ck,1,0,"ng-container",14),r.qZA()),2&n){const e=r.oxw();r.Q6J("ngClass",r.VKq(9,Ik,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),r.uIk("id",e.labelId),r.xp6(1),r.Q6J("ngIf",!e.selectedItemTemplate),r.xp6(1),r.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",r.VKq(11,SI,e.selectedOption))}}const Tk=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function AI(n,t){if(1&n&&(r.TgZ(0,"span",15),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Q6J("ngClass",r.VKq(2,Tk,null==e.placeholder||0===e.placeholder.length)),r.xp6(1),r.Oqu(e.placeholder||"empty")}}function mv(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"input",16,17),r.NdJ("click",function(){return r.CHM(e),r.oxw().onEditableInputClick()})("input",function(s){return r.CHM(e),r.oxw().onEditableInputChange(s)})("focus",function(s){return r.CHM(e),r.oxw().onEditableInputFocus(s)})("blur",function(s){return r.CHM(e),r.oxw().onInputBlur(s)}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("disabled",e.disabled),r.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function PI(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"i",18),r.NdJ("click",function(s){return r.CHM(e),r.oxw().clear(s)}),r.qZA()}}function OI(n,t){1&n&&r.GkF(0)}function Ek(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",26)(1,"div",27),r.NdJ("click",function(s){return s.stopPropagation()}),r.TgZ(2,"input",28,29),r.NdJ("keydown.enter",function(s){return s.preventDefault()})("keydown",function(s){return r.CHM(e),r.oxw(2).onKeydown(s,!1)})("input",function(s){return r.CHM(e),r.oxw(2).onFilterInputChange(s)}),r.qZA(),r._UZ(4,"span",30),r.qZA()()}if(2&n){const e=r.oxw(2);r.xp6(2),r.Q6J("value",e.filterValue||""),r.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function _v(n,t){if(1&n&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&n){const e=r.oxw().$implicit,i=r.oxw(3);r.xp6(1),r.Oqu(i.getOptionGroupLabel(e)||"empty")}}function MI(n,t){1&n&&r.GkF(0)}function kI(n,t){1&n&&r.GkF(0)}const yv=function(n,t){return{$implicit:n,selectedOption:t}};function xk(n,t){if(1&n&&(r.TgZ(0,"li",32),r.YNc(1,_v,2,1,"span",13),r.YNc(2,MI,1,0,"ng-container",14),r.qZA(),r.YNc(3,kI,1,0,"ng-container",14)),2&n){const e=t.$implicit;r.oxw(2);const i=r.MAs(8),s=r.oxw();r.xp6(1),r.Q6J("ngIf",!s.groupTemplate),r.xp6(1),r.Q6J("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",r.VKq(5,SI,e)),r.xp6(1),r.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",r.WLB(7,yv,s.getOptionGroupChildren(e),s.selectedOption))}}function RI(n,t){if(1&n&&(r.ynx(0),r.YNc(1,xk,4,10,"ng-template",31),r.BQk()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",e.optionsToDisplay)}}function FD(n,t){1&n&&r.GkF(0)}function vv(n,t){if(1&n&&(r.ynx(0),r.YNc(1,FD,1,0,"ng-container",14),r.BQk()),2&n){r.oxw();const e=r.MAs(8),i=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",r.WLB(2,yv,i.optionsToDisplay,i.selectedOption))}}function VD(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"p-dropdownItem",35),r.NdJ("onClick",function(s){return r.CHM(e),r.oxw(4).onItemClick(s)}),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw(2).selectedOption,s=r.oxw(2);r.Q6J("option",e)("selected",i==e)("label",s.getOptionLabel(e))("disabled",s.isOptionDisabled(e))("template",s.itemTemplate)}}function Dk(n,t){if(1&n&&(r.ynx(0),r.YNc(1,VD,1,5,"ng-template",31),r.BQk()),2&n){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("ngForOf",e)}}function Sk(n,t){if(1&n){const e=r.EpF();r.ynx(0),r.TgZ(1,"p-dropdownItem",35),r.NdJ("onClick",function(s){return r.CHM(e),r.oxw(5).onItemClick(s)}),r.qZA(),r.BQk()}if(2&n){const e=t.$implicit,i=r.oxw(3).selectedOption,s=r.oxw(2);r.xp6(1),r.Q6J("option",e)("selected",i==e)("label",s.getOptionLabel(e))("disabled",s.isOptionDisabled(e))("template",s.itemTemplate)}}function Ak(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"cdk-virtual-scroll-viewport",37,38),r.NdJ("scrolledIndexChange",function(){return r.CHM(e),r.oxw(4).scrollToSelectedVirtualScrollElement()}),r.YNc(2,Sk,2,5,"ng-container",39),r.qZA()}if(2&n){const e=r.oxw(2).$implicit,i=r.oxw(2);r.Q6J("ngStyle",r.VKq(3,LD,i.scrollHeight))("itemSize",i.itemSize),r.xp6(2),r.Q6J("cdkVirtualForOf",e)}}function UD(n,t){if(1&n&&r.YNc(0,Ak,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=r.oxw(3);r.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function BD(n,t){if(1&n&&(r.YNc(0,Dk,2,1,"ng-container",33),r.YNc(1,UD,1,1,"ng-template",null,34,r.W1O)),2&n){const e=r.MAs(2),i=r.oxw(2);r.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function HD(n,t){if(1&n&&(r.ynx(0),r._uU(1),r.BQk()),2&n){const e=r.oxw(3);r.xp6(1),r.hij(" ",e.emptyFilterMessageLabel," ")}}function Pk(n,t){1&n&&r.GkF(0,null,41)}function jD(n,t){if(1&n&&(r.TgZ(0,"li",40),r.YNc(1,HD,2,1,"ng-container",33),r.YNc(2,Pk,2,0,"ng-container",20),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),r.xp6(1),r.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function bv(n,t){if(1&n&&(r.ynx(0),r._uU(1),r.BQk()),2&n){const e=r.oxw(3);r.xp6(1),r.hij(" ",e.emptyMessageLabel," ")}}function ZD(n,t){1&n&&r.GkF(0,null,42)}function So(n,t){if(1&n&&(r.TgZ(0,"li",40),r.YNc(1,bv,2,1,"ng-container",33),r.YNc(2,ZD,2,0,"ng-container",20),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),r.xp6(1),r.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function qD(n,t){1&n&&r.GkF(0)}const wv=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},GD=function(n){return{value:"visible",params:n}},$D=function(n){return{"p-dropdown-virtualscroll":n}};function Cv(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",19),r.NdJ("click",function(s){return r.CHM(e),r.oxw().onOverlayClick(s)})("@overlayAnimation.start",function(s){return r.CHM(e),r.oxw().onOverlayAnimationStart(s)})("@overlayAnimation.start",function(s){return r.CHM(e),r.oxw().onOverlayAnimationEnd(s)}),r.YNc(1,OI,1,0,"ng-container",20),r.YNc(2,Ek,5,4,"div",21),r.TgZ(3,"div",22)(4,"ul",23),r.YNc(5,RI,2,1,"ng-container",13),r.YNc(6,vv,2,5,"ng-container",13),r.YNc(7,BD,3,2,"ng-template",null,24,r.W1O),r.YNc(9,jD,3,3,"li",25),r.YNc(10,So,3,3,"li",25),r.qZA()(),r.YNc(11,qD,1,0,"ng-container",20),r.qZA()}if(2&n){const e=r.oxw();r.Tol(e.panelStyleClass),r.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",r.VKq(19,GD,r.WLB(16,wv,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),r.xp6(1),r.Q6J("ngTemplateOutlet",e.headerTemplate),r.xp6(1),r.Q6J("ngIf",e.filter),r.xp6(1),r.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),r.xp6(1),r.Q6J("ngClass",r.VKq(21,$D,e.virtualScroll)),r.uIk("id",e.listId),r.xp6(1),r.Q6J("ngIf",e.group),r.xp6(1),r.Q6J("ngIf",!e.group),r.xp6(3),r.Q6J("ngIf",e.filterValue&&e.isEmpty()),r.xp6(1),r.Q6J("ngIf",!e.filterValue&&e.isEmpty()),r.xp6(1),r.Q6J("ngTemplateOutlet",e.footerTemplate)}}const NI=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},LI={provide:Mi,useExisting:(0,r.Gpc)(()=>vd),multi:!0};let zD=(()=>{class n{constructor(){this.onClick=new r.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(r.TgZ(0,"li",0),r.NdJ("click",function(o){return i.onOptionClick(o)}),r.YNc(1,RD,2,1,"span",1),r.YNc(2,ND,1,0,"ng-container",2),r.qZA()),2&e&&(r.Q6J("ngStyle",r.VKq(8,LD,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",r.WLB(10,DI,i.selected,i.disabled)),r.uIk("aria-label",i.label)("aria-selected",i.selected),r.xp6(1),r.Q6J("ngIf",!i.template),r.xp6(1),r.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",r.VKq(13,SI,i.option)))},directives:[rm,wr,_i,Xt,uo],encapsulation:2}),n})(),vd=(()=>{class n{constructor(e,i,s,o,u,h,g){this.el=e,this.renderer=i,this.cd=s,this.zone=o,this.filterService=u,this.config=h,this.overlayService=g,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new r.vpe,this.onFilter=new r.vpe,this.onFocus=new r.vpe,this.onBlur=new r.vpe,this.onClick=new r.vpe,this.onShow=new r.vpe,this.onHide=new r.vpe,this.onClear=new r.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=Mf()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Pu.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Pu.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?Nn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?Nn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?Nn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?Nn.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Nn.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}At.findSingle(this.overlay,"li.p-highlight")&&At.scrollInView(this.itemsWrapper,At.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return At.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=At.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&La.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let s=At.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");s&&s.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&La.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):At.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=At.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?At.absolutePosition(this.overlay,this.containerViewChild.nativeElement):At.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let s=e-1;0<=s;s--){let o=this.optionsToDisplay[s];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let s=this.optionsToDisplay.length-1;s>=e;s--){let o=this.optionsToDisplay[s];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let s=e+1;s<this.optionsToDisplay.length;s++){let o=this.optionsToDisplay[s];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let s=0;s<e;s++){let o=this.optionsToDisplay[s];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==s){let o=s.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[s.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[s.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[s.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[s.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(s);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==s){let o=s.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[s.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let u=this.optionsToDisplay[s.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(s);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let s;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};s=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;s=this.searchOption(++o)}s&&!this.isOptionDisabled(s)&&(this.selectItem(e,s),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let s=e;s<i;s++){let o=this.optionsToDisplay[s];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let s=e.groupIndex;s<this.optionsToDisplay.length;s++)for(let o=e.groupIndex===s?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[s]).length;o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[s])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let s=0;s<=e.groupIndex;s++)for(let o=0;o<(e.groupIndex===s?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[s]).length);o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[s])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(e,i){let s=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||Nn.equals(e,this.getOptionValue(i[o]),this.dataKey)){s=o;break}return s}findOptionGroupIndex(e,i){let s,o;if(i)for(let u=0;u<i.length&&(s=u,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===o);u++);return-1!==o?{groupIndex:s,itemIndex:o}:-1}findOption(e,i,s){if(this.group&&!s){let o;if(i&&i.length)for(let u of i)if(o=this.findOption(e,this.getOptionGroupChildren(u),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let s of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(s),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push(Object.assign(Object.assign({},s),{[this.optionGroupChildren]:o}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?At.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():At.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!At.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new EI(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&La.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(Ou),r.Y36(ta),r.Y36(Ys))},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,s){if(1&e&&r.Suo(s,Qs,4),2&e){let o;r.iGM(o=r.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(r.Gf(_k,5),r.Gf(yk,5),r.Gf(vk,5),r.Gf(dv,5),r.Gf(bk,5)),2&e){let s;r.iGM(s=r.CRH())&&(i.containerViewChild=s.first),r.iGM(s=r.CRH())&&(i.filterViewChild=s.first),r.iGM(s=r.CRH())&&(i.accessibleViewChild=s.first),r.iGM(s=r.CRH())&&(i.viewPort=s.first),r.iGM(s=r.CRH())&&(i.editableInputViewChild=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[r._Bn([LI])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(r.TgZ(0,"div",0,1),r.NdJ("click",function(o){return i.onMouseclick(o)}),r.TgZ(2,"div",2)(3,"input",3,4),r.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),r.qZA()(),r.YNc(5,sm,3,13,"span",5),r.YNc(6,AI,2,4,"span",6),r.YNc(7,mv,2,4,"input",7),r.YNc(8,PI,1,0,"i",8),r.TgZ(9,"div",9),r._UZ(10,"span",10),r.qZA(),r.YNc(11,Cv,12,23,"div",11),r.qZA()),2&e&&(r.Tol(i.styleClass),r.Q6J("ngClass",r.l5B(20,NI,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),r.xp6(3),r.Q6J("disabled",i.disabled),r.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),r.xp6(2),r.Q6J("ngIf",!i.editable&&null!=i.label),r.xp6(1),r.Q6J("ngIf",!i.editable&&null==i.label),r.xp6(1),r.Q6J("ngIf",i.editable),r.xp6(1),r.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),r.xp6(1),r.uIk("aria-expanded",i.overlayVisible),r.xp6(1),r.Q6J("ngClass",i.dropdownIcon),r.xp6(1),r.Q6J("ngIf",i.overlayVisible))},directives:[zD,dv,_i,wr,Xt,xI,uo,On,SD,bI],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[PD("overlayAnimation",[OD(":enter",[_d({opacity:0,transform:"scaleY(0.8)"}),op("{{showTransitionParams}}")]),OD(":leave",[op("{{hideTransitionParams}}",_d({opacity:0}))])])]},changeDetection:0}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,mn,sp,im,xs],mn,sp]}),n})(),am=(()=>{class n{constructor(e,i,s){this.el=e,this.ngModel=i,this.cd=s}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(zs,8),r.Y36(r.sBO))},n.\u0275dir=r.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&r.NdJ("input",function(o){return i.onInput(o)}),2&e&&r.ekj("p-filled",i.filled)}}),n})(),FI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})(),KD=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,At.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&At.addClass(e,i);let s=this.getIconClass();s&&At.addMultipleClasses(e,s);let o=At.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=At.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=At.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(At.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,xs]]}),n})();const Rk=["input"],Iv=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},Tv=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function QD(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",5)(1,"button",6),r.NdJ("mousedown",function(s){return r.CHM(e),r.oxw().onUpButtonMouseDown(s)})("mouseup",function(){return r.CHM(e),r.oxw().onUpButtonMouseUp()})("mouseleave",function(){return r.CHM(e),r.oxw().onUpButtonMouseLeave()})("keydown",function(s){return r.CHM(e),r.oxw().onUpButtonKeyDown(s)})("keyup",function(){return r.CHM(e),r.oxw().onUpButtonKeyUp()}),r.qZA(),r.TgZ(2,"button",6),r.NdJ("mousedown",function(s){return r.CHM(e),r.oxw().onDownButtonMouseDown(s)})("mouseup",function(){return r.CHM(e),r.oxw().onDownButtonMouseUp()})("mouseleave",function(){return r.CHM(e),r.oxw().onDownButtonMouseLeave()})("keydown",function(s){return r.CHM(e),r.oxw().onDownButtonKeyDown(s)})("keyup",function(){return r.CHM(e),r.oxw().onDownButtonKeyUp()}),r.qZA()()}if(2&n){const e=r.oxw();r.xp6(1),r.Tol(e.incrementButtonClass),r.Q6J("ngClass",r.DdM(10,Iv))("icon",e.incrementButtonIcon)("disabled",e.disabled),r.xp6(1),r.Tol(e.decrementButtonClass),r.Q6J("ngClass",r.DdM(11,Tv))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function JD(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",6),r.NdJ("mousedown",function(s){return r.CHM(e),r.oxw().onUpButtonMouseDown(s)})("mouseup",function(){return r.CHM(e),r.oxw().onUpButtonMouseUp()})("mouseleave",function(){return r.CHM(e),r.oxw().onUpButtonMouseLeave()})("keydown",function(s){return r.CHM(e),r.oxw().onUpButtonKeyDown(s)})("keyup",function(){return r.CHM(e),r.oxw().onUpButtonKeyUp()}),r.qZA()}if(2&n){const e=r.oxw();r.Tol(e.incrementButtonClass),r.Q6J("ngClass",r.DdM(5,Iv))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function UI(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",6),r.NdJ("mousedown",function(s){return r.CHM(e),r.oxw().onDownButtonMouseDown(s)})("mouseup",function(){return r.CHM(e),r.oxw().onDownButtonMouseUp()})("mouseleave",function(){return r.CHM(e),r.oxw().onDownButtonMouseLeave()})("keydown",function(s){return r.CHM(e),r.oxw().onDownButtonKeyDown(s)})("keyup",function(){return r.CHM(e),r.oxw().onDownButtonKeyUp()}),r.qZA()}if(2&n){const e=r.oxw();r.Tol(e.decrementButtonClass),r.Q6J("ngClass",r.DdM(5,Tv))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Ev=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},xv={provide:Mi,useExisting:(0,r.Gpc)(()=>Dv),multi:!0};let Dv=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.onInput=new r.vpe,this.onFocus=new r.vpe,this.onBlur=new r.vpe,this.onKeyDown=new r.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(s=>!!e[s])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((s,o)=>[s,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=s=>i.get(s)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let s=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(s=this.prefix+s),this.suffix&&(s+=this.suffix),s}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let s=+i;return isNaN(s)?null:s}return null}repeat(e,i,s){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,s)},o),this.spin(e,s)}spin(e,i){let s=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,u=this.validateValue(o+s);this.maxlength&&this.maxlength<this.formatValue(u).length||(this.updateInput(u,null,"spin",null),this.updateModel(e,u),this.handleOnInput(e,o,u))}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,s=e.target.selectionEnd,o=e.target.value,u=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:u=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(u),this.input.nativeElement.setAttribute("aria-valuenow",u),this.updateModel(e,u);break;case 8:if(e.preventDefault(),i===s){const h=o.charAt(i-1),{decimalCharIndex:g,decimalCharIndexWithoutPrefix:v}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const I=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,I?this.input.nativeElement.setSelectionRange(i-1,i-1):u=o.slice(0,i-1)+o.slice(i);else if(g>0&&i>g){const E=this.isDecimalMode()&&(this.minFractionDigits||0)<I?"":"0";u=o.slice(0,i-1)+E+o.slice(i)}else 1===v?(u=o.slice(0,i-1)+"0"+o.slice(i),u=this.parseValue(u)>0?u:""):u=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,u,null,"delete-single")}else u=this.deleteRange(o,i,s),this.updateValue(e,u,null,"delete-range");break;case 46:if(e.preventDefault(),i===s){const h=o.charAt(i),{decimalCharIndex:g,decimalCharIndexWithoutPrefix:v}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const I=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,I?this.input.nativeElement.setSelectionRange(i+1,i+1):u=o.slice(0,i)+o.slice(i+1);else if(g>0&&i>g){const E=this.isDecimalMode()&&(this.minFractionDigits||0)<I?"":"0";u=o.slice(0,i)+E+o.slice(i+1)}else 1===v?(u=o.slice(0,i)+"0"+o.slice(i+1),u=this.parseValue(u)>0?u:""):u=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,u,null,"delete-back-single")}else u=this.deleteRange(o,i,s),this.updateValue(e,u,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let i=e.which||e.keyCode,s=String.fromCharCode(i);const o=this.isDecimalSign(s),u=this.isMinusSign(s);(48<=i&&i<=57||u||o)&&this.insert(e,s,{isDecimalSign:o,isMinusSign:u})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let s=this.parseValue(i);null!=s&&this.insert(e,s.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const s=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const u=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:s,suffixCharIndex:o,currencyCharIndex:u}}insert(e,i,s={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let u=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,g=this.input.nativeElement.value.trim();const{decimalCharIndex:v,minusCharIndex:I,suffixCharIndex:E,currencyCharIndex:O}=this.getCharIndexes(g);let M;if(s.isMinusSign)0===u&&(M=g,(-1===I||0!==h)&&(M=this.insertText(g,i,0,h)),this.updateValue(e,M,i,"insert"));else if(s.isDecimalSign)v>0&&u===v?this.updateValue(e,g,i,"insert"):(v>u&&v<h||-1===v&&this.maxFractionDigits)&&(M=this.insertText(g,i,u,h),this.updateValue(e,M,i,"insert"));else{const V=this.numberFormat.resolvedOptions().maximumFractionDigits,X=u!==h?"range-insert":"insert";if(v>0&&u>v){if(u+i.length-(v+1)<=V){const ie=O>=u?O-1:E>=u?E:g.length;M=g.slice(0,u)+i+g.slice(u+i.length,ie)+g.slice(ie),this.updateValue(e,M,i,X)}}else M=this.insertText(g,i,u,h),this.updateValue(e,M,i,X)}}insertText(e,i,s,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(s,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,s)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-s===e.length?this.formatValue(i):0===s?i+e.slice(o):o===e.length?e.slice(0,s)+i:e.slice(0,s)+i+e.slice(o)}deleteRange(e,i,s){let o;return o=s-i===e.length?"":0===i?e.slice(s):s===e.length?e.slice(0,i):e.slice(0,i)+e.slice(s),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,s=i.length,o=null,u=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=u;let h=i.charAt(e);if(this.isNumeralChar(h))return e+u;let g=e-1;for(;g>=0;){if(h=i.charAt(g),this.isNumeralChar(h)){o=g+u;break}g--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(g=e;g<s;){if(h=i.charAt(g),this.isNumeralChar(h)){o=g+u;break}g++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,s,o){let u=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,s,o,i),this.handleOnInput(e,u,h))}handleOnInput(e,i,s){this.isValueChanged(i,s)&&this.onInput.emit({originalEvent:e,value:s})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,s,o){i=i||"";let u=this.input.nativeElement.value,h=this.formatValue(e),g=u.length;if(h!==o&&(h=this.concatValues(h,o)),0===g){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const I=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(I,I)}else{let v=this.input.nativeElement.selectionStart,I=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let E=h.length;if("range-insert"===s){const O=this.parseValue((u||"").slice(0,v)),V=(null!==O?O.toString():"").split("").join(`(${this.groupChar})?`),X=new RegExp(V,"g");X.test(h);const ie=i.split("").join(`(${this.groupChar})?`),Be=new RegExp(ie,"g");Be.test(h.slice(X.lastIndex)),I=X.lastIndex+Be.lastIndex,this.input.nativeElement.setSelectionRange(I,I)}else if(E===g)"insert"===s||"delete-back-single"===s?this.input.nativeElement.setSelectionRange(I+1,I+1):"delete-single"===s?this.input.nativeElement.setSelectionRange(I-1,I-1):("delete-range"===s||"spin"===s)&&this.input.nativeElement.setSelectionRange(I,I);else if("delete-back-single"===s){let O=u.charAt(I-1),M=u.charAt(I),V=g-E,X=this._group.test(M);X&&1===V?I+=1:!X&&this.isNumeralChar(O)&&(I+=-1*V+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(I,I)}else if("-"===u&&"insert"===s){this.input.nativeElement.setSelectionRange(0,0);const M=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(M,M)}else I+=E-g,this.input.nativeElement.setSelectionRange(I,I)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let s=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==s?e.split(this._decimal)[0]+i.slice(s):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&r.Gf(Rk,5),2&e){let s;r.iGM(s=r.CRH())&&(i.input=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&r.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[r._Bn([xv]),r.TTD],decls:6,vars:31,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(r.TgZ(0,"span",0)(1,"input",1,2),r.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),r.qZA(),r.YNc(3,QD,3,12,"span",3),r.YNc(4,JD,1,6,"button",4),r.YNc(5,UI,1,6,"button",4),r.qZA()),2&e&&(r.Tol(i.styleClass),r.Q6J("ngClass",r.kEZ(27,Ev,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),r.xp6(1),r.Tol(i.inputStyleClass),r.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),r.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),r.xp6(2),r.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),r.xp6(1),r.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),r.xp6(1),r.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[_i,wr,am,Xt,KD],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),BI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,FI,bd]]}),n})();function HI(n,t){1&n&&r.GkF(0)}const lm=function(n){return{$implicit:n}};function XD(n,t){if(1&n&&(r.TgZ(0,"div",15),r.YNc(1,HI,1,0,"ng-container",16),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",r.VKq(2,lm,e.paginatorState))}}function eS(n,t){if(1&n&&(r.TgZ(0,"span",17),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Oqu(e.currentPageReport)}}const Sv=function(n){return{"p-disabled":n}};function Nk(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",18),r.NdJ("click",function(s){return r.CHM(e),r.oxw(2).changePageToFirst(s)}),r._UZ(1,"span",19),r.qZA()}if(2&n){const e=r.oxw(2);r.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",r.VKq(2,Sv,e.isFirstPage()||e.empty()))}}const jI=function(n){return{"p-highlight":n}};function tS(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",22),r.NdJ("click",function(s){const u=r.CHM(e).$implicit;return r.oxw(3).onPageLinkClick(s,u-1)}),r._uU(1),r.qZA()}if(2&n){const e=t.$implicit,i=r.oxw(3);r.Q6J("ngClass",r.VKq(2,jI,e-1==i.getPage())),r.xp6(1),r.Oqu(e)}}function nS(n,t){if(1&n&&(r.TgZ(0,"span",20),r.YNc(1,tS,2,4,"button",21),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",e.pageLinks)}}function iS(n,t){if(1&n&&r._uU(0),2&n){const e=r.oxw(3);r.Oqu(e.currentPageReport)}}function Lk(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"p-dropdown",23),r.NdJ("onChange",function(s){return r.CHM(e),r.oxw(2).onPageDropdownChange(s)}),r.YNc(1,iS,1,1,"ng-template",24),r.qZA()}if(2&n){const e=r.oxw(2);r.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function Fk(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",25),r.NdJ("click",function(s){return r.CHM(e),r.oxw(2).changePageToLast(s)}),r._UZ(1,"span",26),r.qZA()}if(2&n){const e=r.oxw(2);r.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",r.VKq(2,Sv,e.isLastPage()||e.empty()))}}function Vk(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"p-inputNumber",27),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw(2).changePage(s-1)}),r.qZA()}if(2&n){const e=r.oxw(2);r.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function Uk(n,t){1&n&&r.GkF(0)}function Bk(n,t){if(1&n&&r.YNc(0,Uk,1,0,"ng-container",16),2&n){const e=t.$implicit,i=r.oxw(4);r.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",r.VKq(2,lm,e))}}function rS(n,t){1&n&&(r.ynx(0),r.YNc(1,Bk,1,4,"ng-template",30),r.BQk())}function cm(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"p-dropdown",28),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw(2).rows=s})("onChange",function(s){return r.CHM(e),r.oxw(2).onRppChange(s)}),r.YNc(1,rS,2,0,"ng-container",29),r.qZA()}if(2&n){const e=r.oxw(2);r.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),r.xp6(1),r.Q6J("ngIf",e.dropdownItemTemplate)}}function sS(n,t){1&n&&r.GkF(0)}function oS(n,t){if(1&n&&(r.TgZ(0,"div",31),r.YNc(1,sS,1,0,"ng-container",16),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",r.VKq(2,lm,e.paginatorState))}}function ZI(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",1),r.YNc(1,XD,2,4,"div",2),r.YNc(2,eS,2,1,"span",3),r.YNc(3,Nk,2,4,"button",4),r.TgZ(4,"button",5),r.NdJ("click",function(s){return r.CHM(e),r.oxw().changePageToPrev(s)}),r._UZ(5,"span",6),r.qZA(),r.YNc(6,nS,2,1,"span",7),r.YNc(7,Lk,2,5,"p-dropdown",8),r.TgZ(8,"button",9),r.NdJ("click",function(s){return r.CHM(e),r.oxw().changePageToNext(s)}),r._UZ(9,"span",10),r.qZA(),r.YNc(10,Fk,2,4,"button",11),r.YNc(11,Vk,1,2,"p-inputNumber",12),r.YNc(12,cm,2,6,"p-dropdown",13),r.YNc(13,oS,2,4,"div",14),r.qZA()}if(2&n){const e=r.oxw();r.Tol(e.styleClass),r.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),r.xp6(1),r.Q6J("ngIf",e.templateLeft),r.xp6(1),r.Q6J("ngIf",e.showCurrentPageReport),r.xp6(1),r.Q6J("ngIf",e.showFirstLastIcon),r.xp6(1),r.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",r.VKq(17,Sv,e.isFirstPage()||e.empty())),r.xp6(2),r.Q6J("ngIf",e.showPageLinks),r.xp6(1),r.Q6J("ngIf",e.showJumpToPageDropdown),r.xp6(1),r.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",r.VKq(19,Sv,e.isLastPage()||e.empty())),r.xp6(2),r.Q6J("ngIf",e.showFirstLastIcon),r.xp6(1),r.Q6J("ngIf",e.showJumpToPageInput),r.xp6(1),r.Q6J("ngIf",e.rowsPerPageOptions),r.xp6(1),r.Q6J("ngIf",e.templateRight)}}let kc=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new r.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),s=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,s+i-1);return s=Math.max(0,s-(this.pageLinkSize-(o-s+1))),[s,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),s=e[1];for(let o=e[0];o<=s;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var s={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(s),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[r.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&r.YNc(0,ZI,14,21,"div",0),2&e&&r.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[vd,Dv,Xt,wr,_i,uo,rm,On,yi,zs,Qs],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),Av=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,om,BI,ea,mn,xs],om,BI,ea,mn]}),n})();function Pv(n,t){if(1&n&&(r.TgZ(0,"div",10)(1,"div",11),r._UZ(2,"i"),r.qZA()()),2&n){const e=r.oxw();r.xp6(2),r.Tol("p-dataview-loading-icon pi-spin "+e.loadingIcon)}}function Ov(n,t){1&n&&r.GkF(0)}function aS(n,t){if(1&n&&(r.TgZ(0,"div",12),r.Hsn(1),r.YNc(2,Ov,1,0,"ng-container",13),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Mv(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"p-paginator",14),r.NdJ("onPageChange",function(s){return r.CHM(e),r.oxw().paginate(s)}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function kv(n,t){1&n&&r.GkF(0)}const um=function(n,t){return{$implicit:n,rowIndex:t}};function Hk(n,t){if(1&n&&r.YNc(0,kv,1,0,"ng-container",15),2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",r.WLB(2,um,e,i))}}function jk(n,t){if(1&n&&(r.ynx(0),r._uU(1),r.BQk()),2&n){const e=r.oxw(2);r.xp6(1),r.hij(" ",e.emptyMessageLabel," ")}}function Zk(n,t){1&n&&r.GkF(0,null,19)}function qk(n,t){if(1&n&&(r.TgZ(0,"div",16)(1,"div",17),r.YNc(2,jk,2,1,"ng-container",18),r.YNc(3,Zk,2,0,"ng-container",13),r.qZA()()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),r.xp6(1),r.Q6J("ngTemplateOutlet",e.emptyMessageTemplate)}}function qI(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"p-paginator",20),r.NdJ("onPageChange",function(s){return r.CHM(e),r.oxw().paginate(s)}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function lS(n,t){1&n&&r.GkF(0)}function cS(n,t){if(1&n&&(r.TgZ(0,"div",21),r.Hsn(1,1),r.YNc(2,lS,1,0,"ng-container",13),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngTemplateOutlet",e.footerTemplate)}}const uS=[[["p-header"]],[["p-footer"]]],dS=function(n,t){return{"p-dataview p-component":!0,"p-dataview-list":n,"p-dataview-grid":t}},GI=["p-header","p-footer"],Rv=function(n){return{"p-highlight":n}};let ap=(()=>{class n{constructor(e,i,s,o){this.el=e,this.cd=i,this.filterService=s,this.config=o,this.pageLinks=5,this.paginatorPosition="bottom",this.alwaysShowPaginator=!0,this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.emptyMessage="",this.onLazyLoad=new r.vpe,this.trackBy=(u,h)=>h,this.loadingIcon="pi pi-spinner",this.first=0,this.onPage=new r.vpe,this.onSort=new r.vpe,this.onChangeLayout=new r.vpe,this._layout="list"}get layout(){return this._layout}set layout(e){this._layout=e,this.initialized&&this.changeLayout(e)}ngOnInit(){this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(e.sortField||e.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"listItem":this.listItemTemplate=e.template;break;case"gridItem":this.gridItemTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"empty":this.emptyMessageTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}}),this.updateItemTemplate()}updateItemTemplate(){switch(this.layout){case"list":this.itemTemplate=this.listItemTemplate;break;case"grid":this.itemTemplate=this.gridItemTemplate}}changeLayout(e){this._layout=e,this.onChangeLayout.emit({layout:this.layout}),this.updateItemTemplate(),this.cd.markForCheck()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((e,i)=>{let s=Nn.resolveFieldData(e,this.sortField),o=Nn.resolveFieldData(i,this.sortField),u=null;return u=null==s&&null!=o?-1:null!=s&&null==o?1:null==s&&null==o?0:"string"==typeof s&&"string"==typeof o?s.localeCompare(o):s<o?-1:s>o?1:0,this.sortOrder*u}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Pu.EMPTY_MESSAGE)}filter(e,i="contains"){if(this.filterValue=e,this.value&&this.value.length){let s=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,s,e,i,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Ou),r.Y36(ta))},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-dataView"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,dc,5),r.Suo(s,Nf,5),r.Suo(s,Qs,4)),2&e){let o;r.iGM(o=r.CRH())&&(i.header=o.first),r.iGM(o=r.CRH())&&(i.footer=o.first),r.iGM(o=r.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{paginator:"paginator",rows:"rows",totalRecords:"totalRecords",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",alwaysShowPaginator:"alwaysShowPaginator",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",lazy:"lazy",emptyMessage:"emptyMessage",style:"style",styleClass:"styleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:"loading",loadingIcon:"loadingIcon",first:"first",sortField:"sortField",sortOrder:"sortOrder",value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[r.TTD],ngContentSelectors:GI,decls:11,vars:19,consts:[[3,"ngClass","ngStyle"],["class","p-dataview-loading",4,"ngIf"],["class","p-dataview-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-dataview-content"],[1,"p-grid","p-nogutter","grid","grid-nogutter"],["ngFor","",3,"ngForOf","ngForTrackBy"],["class","p-col col",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-dataview-footer",4,"ngIf"],[1,"p-dataview-loading"],[1,"p-dataview-loading-overlay","p-component-overlay"],[1,"p-dataview-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-col","col"],[1,"p-dataview-emptymessage"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-dataview-footer"]],template:function(e,i){1&e&&(r.F$t(uS),r.TgZ(0,"div",0),r.YNc(1,Pv,3,2,"div",1),r.YNc(2,aS,3,1,"div",2),r.YNc(3,Mv,1,16,"p-paginator",3),r.TgZ(4,"div",4)(5,"div",5),r.YNc(6,Hk,1,5,"ng-template",6),r.ALo(7,"slice"),r.YNc(8,qk,4,3,"div",7),r.qZA()(),r.YNc(9,qI,1,16,"p-paginator",8),r.YNc(10,cS,3,1,"div",9),r.qZA()),2&e&&(r.Tol(i.styleClass),r.Q6J("ngClass",r.WLB(16,dS,"list"===i.layout,"grid"===i.layout))("ngStyle",i.style),r.xp6(1),r.Q6J("ngIf",i.loading),r.xp6(1),r.Q6J("ngIf",i.header||i.headerTemplate),r.xp6(1),r.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),r.xp6(3),r.Q6J("ngForOf",i.paginator?r.Dn7(7,12,i.filteredValue||i.value,i.lazy?0:i.first,(i.lazy?0:i.first)+i.rows):i.filteredValue||i.value)("ngForTrackBy",i.trackBy),r.xp6(2),r.Q6J("ngIf",i.isEmpty()),r.xp6(1),r.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),r.xp6(1),r.Q6J("ngIf",i.footer||i.footerTemplate))},directives:[kc,_i,wr,Xt,uo,On],pipes:[Qa],styles:[".p-dataview{position:relative}.p-dataview .p-dataview-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}\n"],encapsulation:2,changeDetection:0}),n})(),Nv=(()=>{class n{constructor(e){this.dv=e}changeLayout(e,i){this.dv.changeLayout(i),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(ap))},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-dataViewLayoutOptions"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},decls:5,vars:10,consts:[[3,"ngClass","ngStyle"],["type","button",1,"p-button","p-button-icon-only",3,"ngClass","click","keydown.enter"],[1,"pi","pi-bars"],[1,"pi","pi-th-large"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"button",1),r.NdJ("click",function(o){return i.changeLayout(o,"list")})("keydown.enter",function(o){return i.changeLayout(o,"list")}),r._UZ(2,"i",2),r.qZA(),r.TgZ(3,"button",1),r.NdJ("click",function(o){return i.changeLayout(o,"grid")})("keydown.enter",function(o){return i.changeLayout(o,"grid")}),r._UZ(4,"i",3),r.qZA()()),2&e&&(r.Tol(i.styleClass),r.Q6J("ngClass","p-dataview-layout-options p-selectbutton p-buttonset")("ngStyle",i.style),r.xp6(1),r.Q6J("ngClass",r.VKq(6,Rv,"list"===i.dv.layout)),r.xp6(2),r.Q6J("ngClass",r.VKq(8,Rv,"grid"===i.dv.layout)))},directives:[_i,wr],encapsulation:2}),n})(),$I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,mn,Av],mn]}),n})();const zI=["dt"];function Lv(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Gre("alert alert-",e.alert,""),r.xp6(1),r.Oqu(e.msg)}}function Gk(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",8)(1,"span",9),r._UZ(2,"i",10),r.TgZ(3,"input",11),r.NdJ("input",function(s){r.CHM(e);const o=r.oxw();return r.MAs(4).filter(o.getTarget(s))}),r.ALo(4,"translate"),r.qZA()(),r.TgZ(5,"p-dropdown",12),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw().sortKey=s})("onChange",function(s){return r.CHM(e),r.oxw().onSortChange(s)}),r.ALo(6,"translate"),r.qZA(),r._UZ(7,"p-dataViewLayoutOptions"),r.qZA()}if(2&n){const e=r.oxw();r.xp6(3),r.s9C("placeholder",r.lcZ(4,4,"viewProducts.searchByName")),r.xp6(2),r.s9C("placeholder",r.lcZ(6,6,"viewProducts.searchByCategory")),r.Q6J("options",e.sortCategoryOptions)("ngModel",e.sortKey)}}function WI(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",13)(1,"div",14)(2,"div"),r._UZ(3,"i",15),r.TgZ(4,"span",16),r._uU(5),r.qZA()()(),r.TgZ(6,"div",17),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().openProductView(o._id)}),r._UZ(7,"img",18),r.TgZ(8,"div",19)(9,"div",20),r._uU(10),r.qZA(),r.TgZ(11,"div",21),r._uU(12),r.qZA(),r.TgZ(13,"div",21),r._uU(14),r.ALo(15,"translate"),r.TgZ(16,"strong"),r._uU(17),r.ALo(18,"translate"),r.qZA()()()()()}if(2&n){const e=t.$implicit;r.xp6(5),r.Oqu(e.type),r.xp6(2),r.Q6J("src",e.images[0],r.LSH)("alt","..."),r.xp6(3),r.Oqu(e.name),r.xp6(2),r.Oqu(e.description),r.xp6(2),r.hij("",r.lcZ(15,7,"viewProducts.createdBy"),": "),r.xp6(3),r.Oqu(r.lcZ(18,9,"viewProducts.You"))}}function Fv(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",22)(1,"div",23)(2,"div",14)(3,"div"),r._UZ(4,"i",15),r.TgZ(5,"span",16),r._uU(6),r.qZA()()(),r.TgZ(7,"div",24),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().openProductView(o._id)}),r._UZ(8,"img",18),r.TgZ(9,"div",20),r._uU(10),r.qZA(),r.TgZ(11,"div",21),r._uU(12),r.qZA(),r.TgZ(13,"div",21),r._uU(14),r.ALo(15,"translate"),r.TgZ(16,"strong"),r._uU(17),r.ALo(18,"translate"),r.qZA()()()()()}if(2&n){const e=t.$implicit;r.xp6(6),r.Oqu(e.type),r.xp6(2),r.Q6J("src",e.images[0],r.LSH)("alt","..."),r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.description),r.xp6(2),r.hij("",r.lcZ(15,7,"viewProducts.createdBy"),": "),r.xp6(3),r.Oqu(r.lcZ(18,9,"viewProducts.You"))}}const hS=function(){return[18,36,54]};let pS=(()=>{class n{constructor(e,i,s,o){this.productService=e,this.primengConfig=i,this._route=s,this.route=o,this.rows=9,this.first=0,this.loading=!0,this.user=JSON.parse(localStorage.getItem("user"))}ngOnInit(){this.productService.searchProductByName(this._route.snapshot.params.search_term).subscribe(e=>{e.apiStatus&&(this.products=e.data,this.sortedProdect=this.products,this.productService.getAllCategories().subscribe(i=>{if(i.apiStatus)for(let s of i.data)this.loading=!1,this.sortCategoryOptions.push({label:s.name,value:s.name})},i=>{this.alert="danger",this.msg=i.error.msg,setTimeout(()=>{this.msg=""},2e3)}),this.loading=!1,setTimeout(()=>{this.msg=""},2e3))},e=>{this.alert="danger",this.msg=e.error.msg,this.loading=!0,setTimeout(()=>{this.msg=""},2e3)}),this.sortCategoryOptions=[],this.primengConfig.ripple=!0}getTarget(e){return e.target.value}onSortChange(e){let i=e.value;0===i.indexOf("!")?(this.sortOrder=-1,this.sortField=i.substring(1,i.length)):(this.sortOrder=1,this.sortField=i,this.sortedProdect=this.products,this.sortedProdect=this.sortedProdect.filter(s=>s.type==i))}deleteProduct(e){this.productService.deleteProduct(e).subscribe(i=>{i.apiStatus&&(this.products=this.products.filter(s=>s._id!=e),this.count=i.length,this.loading=!1)},i=>{this.loading=!0},()=>{this.loading=!1})}openProductView(e){this.route.navigateByUrl("/product/"+e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(El),r.Y36(ta),r.Y36(Za),r.Y36($n))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-search-products"]],viewQuery:function(e,i){if(1&e&&r.Gf(zI,5),2&e){let s;r.iGM(s=r.CRH())&&(i.dt=s.first)}},decls:8,vars:10,consts:[[1,"card","m-5"],[1,"m-5"],[3,"class",4,"ngIf"],["filterBy","name","layout","grid",1,"grid-view",3,"value","paginator","first","rows","rowsPerPageOptions","totalRecords","sortField","sortOrder"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"flex","flex-column","md:flex-row","md:justify-content-between"],[1,"p-input-icon-left","p-m-2","p-mb-md-0"],[1,"pi","pi-search"],["type","search","pInputText","",3,"placeholder","input"],["id","cat",1,"p-mb-2","p-mb-md-0","p-m-5",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"col-12"],[1,"product-grid-item-top"],[1,"pi","pi-tag","product-category-icon"],[1,"product-category"],[1,"product-list-item",3,"click"],[3,"src","alt"],[1,"product-list-detail"],[1,"product-name"],[1,"product-description"],[1,"col-12","md:col-4"],[1,"product-grid-item","card"],[1,"product-grid-item-content",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1),r.YNc(2,Lv,2,4,"div",2),r.qZA(),r.TgZ(3,"p-dataView",3,4),r.YNc(5,Gk,8,8,"ng-template",5),r.YNc(6,WI,19,11,"ng-template",6),r.YNc(7,Fv,19,11,"ng-template",7),r.qZA()()),2&e&&(r.xp6(2),r.Q6J("ngIf",i.msg),r.xp6(1),r.Q6J("value",i.sortedProdect)("paginator",!0)("first",i.first)("rows",i.rows)("rowsPerPageOptions",r.DdM(9,hS))("totalRecords",i.count)("sortField",i.sortField)("sortOrder",i.sortOrder))},directives:[Xt,ap,Qs,am,vd,yi,zs,Nv],pipes:[Ni],styles:["[_nghost-%COMP%]     .p-dropdown{width:14rem;font-weight:400}[_nghost-%COMP%]     .product-name{font-size:1.5rem;font-weight:700}[_nghost-%COMP%]     .product-description{margin:0 0 1rem}[_nghost-%COMP%]     .product-owner{margin:0 0 1rem}[_nghost-%COMP%]     .product-category-icon{vertical-align:middle;margin-right:.5rem}[_nghost-%COMP%]     .product-category{font-weight:600;vertical-align:middle}[_nghost-%COMP%]     .product-list-item{display:flex;align-items:center;padding:1rem;width:100%;cursor:pointer}[_nghost-%COMP%]     .product-list-item img{width:150px;height:200px;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin-right:2rem}[_nghost-%COMP%]     .product-list-item .product-list-detail{flex:1 1 0}[_nghost-%COMP%]     .product-list-item .p-rating{margin:0 0 .5rem}[_nghost-%COMP%]     .product-list-item .product-price{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;align-self:flex-end}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .p-button{margin-bottom:.5rem}[_nghost-%COMP%]     .product-list-item:hover{background-color:#1a5f484d;border-radius:5%}[_nghost-%COMP%]     .product-description{margin:0 0 1rem;overflow:hidden;max-width:100%;height:70px}[_nghost-%COMP%]     .product-grid-item{margin:.5em;border:1px solid #dee2e6}[_nghost-%COMP%]     .product-grid-item .product-grid-item-top, [_nghost-%COMP%]     .product-grid-item .product-grid-item-bottom{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .product-grid-item img{width:75%;height:200px;max-height:100%!important;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin:2rem 0;border-radius:5%}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content{text-align:center;cursor:pointer}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content:hover{background-color:#1a5f484d;border-radius:5%}[_nghost-%COMP%]     .product-grid-item .product-price{font-size:1.5rem;font-weight:600}.card[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;margin-bottom:2rem}@media screen and (max-width: 576px){[_nghost-%COMP%]     .product-list-item{flex-direction:column;align-items:center}[_nghost-%COMP%]     .product-list-item img{width:75%;margin:2rem 0}[_nghost-%COMP%]     .product-list-item .product-list-detail{text-align:center}[_nghost-%COMP%]     .product-list-item .product-price{align-self:center}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .product-list-action{margin-top:2rem;flex-direction:row;justify-content:space-between;align-items:center;width:100%}}"]}),n})();const $k=["dt"];function zk(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Gre("alert alert-",e.alert,""),r.xp6(1),r.Oqu(e.msg)}}function Wk(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",8)(1,"span",9),r._UZ(2,"i",10),r.TgZ(3,"input",11),r.NdJ("input",function(s){r.CHM(e);const o=r.oxw();return r.MAs(4).filter(o.getTarget(s))}),r.ALo(4,"translate"),r.qZA()(),r.TgZ(5,"p-dropdown",12),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw().sortKey=s})("onChange",function(s){return r.CHM(e),r.oxw().onSortChange(s)}),r.ALo(6,"translate"),r.qZA(),r._UZ(7,"p-dataViewLayoutOptions"),r.qZA()}if(2&n){const e=r.oxw();r.xp6(3),r.s9C("placeholder",r.lcZ(4,4,"viewProducts.searchByName")),r.xp6(2),r.s9C("placeholder",r.lcZ(6,6,"viewProducts.searchByCategory")),r.Q6J("options",e.sortCategoryOptions)("ngModel",e.sortKey)}}function fS(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",13)(1,"div",14)(2,"div"),r._UZ(3,"i",15),r.TgZ(4,"span",16),r._uU(5),r.qZA()()(),r.TgZ(6,"div",17),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().openProductView(o._id)}),r._UZ(7,"img",18),r.TgZ(8,"div",19)(9,"div",20),r._uU(10),r.qZA(),r.TgZ(11,"div",21),r._uU(12),r.qZA(),r.TgZ(13,"div",21),r._uU(14),r.ALo(15,"translate"),r.TgZ(16,"strong"),r._uU(17),r.ALo(18,"translate"),r.qZA()()()(),r.TgZ(19,"button",22),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().deleteProduct(o._id)}),r._uU(20,"Delete"),r.qZA()()}if(2&n){const e=t.$implicit;r.xp6(5),r.Oqu(e.type),r.xp6(2),r.Q6J("src",e.images[0],r.LSH)("alt","..."),r.xp6(3),r.Oqu(e.name),r.xp6(2),r.Oqu(e.description),r.xp6(2),r.hij("",r.lcZ(15,7,"viewProducts.createdBy"),": "),r.xp6(3),r.Oqu(r.lcZ(18,9,"viewProducts.you"))}}function gS(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",23)(1,"div",24)(2,"div",14)(3,"div"),r._UZ(4,"i",15),r.TgZ(5,"span",16),r._uU(6),r.qZA()()(),r.TgZ(7,"div",25),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().openProductView(o._id)}),r._UZ(8,"img",18),r.TgZ(9,"div",20),r._uU(10),r.qZA(),r.TgZ(11,"div",21),r._uU(12),r.qZA(),r.TgZ(13,"div",21),r._uU(14),r.ALo(15,"translate"),r.TgZ(16,"strong"),r._uU(17),r.ALo(18,"translate"),r.qZA()()(),r.TgZ(19,"button",22),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().deleteProduct(o)}),r._uU(20,"Delete"),r.qZA()()()}if(2&n){const e=t.$implicit;r.xp6(6),r.Oqu(e.type),r.xp6(2),r.Q6J("src",e.images[0],r.LSH)("alt","..."),r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.description),r.xp6(2),r.hij("",r.lcZ(15,7,"viewProducts.createdBy"),": "),r.xp6(3),r.Oqu(r.lcZ(18,9,"viewProducts.you"))}}const Kk=function(){return[18,36,54]};let Yk=(()=>{class n{constructor(e,i,s){this.productService=e,this.primengConfig=i,this._route=s,this.rows=9,this.first=0,this.loading=!0,this.user=JSON.parse(localStorage.getItem("user"))}ngOnInit(){this.productService.getAllProductByUserId().subscribe(e=>{e.apiStatus&&(this.products=e.data,this.sortedProdect=this.products,this.productService.getAllCategories().subscribe(i=>{if(i.apiStatus){for(let s of i.data)this.sortCategoryOptions.push({label:s.name,value:s.name});this.loading=!1}},i=>{this.alert="danger",this.msg=i.error.msg,setTimeout(()=>{this.msg=""},2e3)}),this.loading=!1,setTimeout(()=>{this.msg=""},2e3))},e=>{this.alert="danger",this.msg=e.error.msg,this.loading=!0,setTimeout(()=>{this.msg=""},2e3)}),this.sortCategoryOptions=[],this.primengConfig.ripple=!0}getTarget(e){return e.target.value}onSortChange(e){let i=e.value;0===i.indexOf("!")?(this.sortOrder=-1,this.sortField=i.substring(1,i.length)):(this.sortOrder=1,this.sortField=i,this.sortedProdect=this.products,this.sortedProdect=this.sortedProdect.filter(s=>s.type==i))}deleteProduct(e){confirm("Do you really want to delete this product?")&&this.productService.deleteProduct(e._id).subscribe(i=>{if(i.apiStatus){let s=e.images.length;for(let o of e.images)this.productService.deleteProductImageCloud(e._id,o,s,(u,h)=>{u?(this.alert="danger",this.msg="Something Wrong!",this.loading=!0,setTimeout(()=>{this.msg=""},2e3)):(s--,0===s&&(this.products=this.products.filter(g=>g._id!=e._id),this.sortedProdect=this.products,this.count=i.length,this.loading=!1))})}})}openProductView(e){this._route.navigateByUrl("/product/"+e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(El),r.Y36(ta),r.Y36($n))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-my-products"]],viewQuery:function(e,i){if(1&e&&r.Gf($k,5),2&e){let s;r.iGM(s=r.CRH())&&(i.dt=s.first)}},decls:8,vars:10,consts:[[1,"card","m-5"],[1,"m-5"],[3,"class",4,"ngIf"],["filterBy","name","layout","grid",1,"grid-view",3,"value","paginator","first","rows","rowsPerPageOptions","totalRecords","sortField","sortOrder"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"flex","flex-column","md:flex-row","md:justify-content-between"],[1,"p-input-icon-left","p-m-2","p-mb-md-0"],[1,"pi","pi-search"],["type","search","pInputText","",3,"placeholder","input"],["id","cat",1,"p-mb-2","p-mb-md-0","p-m-5",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"col-12"],[1,"product-grid-item-top"],[1,"pi","pi-tag","product-category-icon"],[1,"product-category"],[1,"product-list-item",3,"click"],[3,"src","alt"],[1,"product-list-detail"],[1,"product-name"],[1,"product-description"],[1,"btn","btn-danger","m-5",3,"click"],[1,"col-12","md:col-4"],[1,"product-grid-item","card"],[1,"product-grid-item-content",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1),r.YNc(2,zk,2,4,"div",2),r.qZA(),r.TgZ(3,"p-dataView",3,4),r.YNc(5,Wk,8,8,"ng-template",5),r.YNc(6,fS,21,11,"ng-template",6),r.YNc(7,gS,21,11,"ng-template",7),r.qZA()()),2&e&&(r.xp6(2),r.Q6J("ngIf",i.msg),r.xp6(1),r.Q6J("value",i.sortedProdect)("paginator",!0)("first",i.first)("rows",i.rows)("rowsPerPageOptions",r.DdM(9,Kk))("totalRecords",i.count)("sortField",i.sortField)("sortOrder",i.sortOrder))},directives:[Xt,ap,Qs,am,vd,yi,zs,Nv],pipes:[Ni],styles:["[_nghost-%COMP%]     .p-dropdown{width:14rem;font-weight:400}[_nghost-%COMP%]     .product-name{font-size:1.5rem;font-weight:700}[_nghost-%COMP%]     .product-description{margin:0 0 1rem}[_nghost-%COMP%]     .product-owner{margin:0 0 1rem}[_nghost-%COMP%]     .product-category-icon{vertical-align:middle;margin-right:.5rem}[_nghost-%COMP%]     .product-category{font-weight:600;vertical-align:middle}[_nghost-%COMP%]     .product-list-item{display:flex;align-items:center;padding:1rem;width:100%;cursor:pointer}[_nghost-%COMP%]     .product-list-item img{width:150px;height:200px;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin-right:2rem}[_nghost-%COMP%]     .product-list-item .product-list-detail{flex:1 1 0}[_nghost-%COMP%]     .product-list-item .p-rating{margin:0 0 .5rem}[_nghost-%COMP%]     .product-list-item .product-price{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;align-self:flex-end}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .p-button{margin-bottom:.5rem}[_nghost-%COMP%]     .product-list-item:hover{background-color:#1a5f484d;border-radius:5%}[_nghost-%COMP%]     .product-description{margin:0 0 1rem;overflow:hidden;max-width:100%;height:70px}[_nghost-%COMP%]     .product-grid-item{margin:.5em;border:1px solid #dee2e6}[_nghost-%COMP%]     .product-grid-item .product-grid-item-top, [_nghost-%COMP%]     .product-grid-item .product-grid-item-bottom{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .product-grid-item img{width:75%;height:200px;max-height:100%!important;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin:2rem 0;border-radius:5%}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content{text-align:center;cursor:pointer}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content:hover{background-color:#1a5f484d;border-radius:5%}[_nghost-%COMP%]     .product-grid-item .product-price{font-size:1.5rem;font-weight:600}.card[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;margin-bottom:2rem}@media screen and (max-width: 576px){[_nghost-%COMP%]     .product-list-item{flex-direction:column;align-items:center}[_nghost-%COMP%]     .product-list-item img{width:75%;margin:2rem 0}[_nghost-%COMP%]     .product-list-item .product-list-detail{text-align:center}[_nghost-%COMP%]     .product-list-item .product-price{align-self:center}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .product-list-action{margin-top:2rem;flex-direction:row;justify-content:space-between;align-items:center;width:100%}}"]}),n})();const Qk=["itemsContainer"];function Jk(n,t){1&n&&r.GkF(0)}function Xk(n,t){if(1&n&&(r.TgZ(0,"div",11),r.Hsn(1),r.YNc(2,Jk,1,0,"ng-container",12),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngTemplateOutlet",e.headerTemplate)}}const mS=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},eR=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":t}};function tR(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",13),r.NdJ("click",function(s){return r.CHM(e),r.oxw().navBackward(s)}),r._UZ(1,"span",2),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("ngClass",r.VKq(3,mS,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),r.xp6(1),r.Q6J("ngClass",r.WLB(5,eR,!e.isVertical(),e.isVertical()))}}function nR(n,t){1&n&&r.GkF(0)}const _S=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},a=function(n){return{$implicit:n}};function l(n,t){if(1&n&&(r.TgZ(0,"div",2),r.YNc(1,nR,1,0,"ng-container",14),r.qZA()),2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.Q6J("ngClass",r.kEZ(3,_S,-1*s.totalShiftedItems===s.value.length,0===i,s.clonedItemsForStarting.length-1===i)),r.xp6(1),r.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",r.VKq(7,a,e))}}function c(n,t){1&n&&r.GkF(0)}const d=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function p(n,t){if(1&n&&(r.TgZ(0,"div",2),r.YNc(1,c,1,0,"ng-container",14),r.qZA()),2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.Q6J("ngClass",r.kEZ(3,d,s.firstIndex()<=i&&s.lastIndex()>=i,s.firstIndex()===i,s.lastIndex()===i)),r.xp6(1),r.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",r.VKq(7,a,e))}}function m(n,t){1&n&&r.GkF(0)}function b(n,t){if(1&n&&(r.TgZ(0,"div",2),r.YNc(1,m,1,0,"ng-container",14),r.qZA()),2&n){const e=t.$implicit,i=t.index,s=r.oxw();r.Q6J("ngClass",r.kEZ(3,_S,-1*s.totalShiftedItems===s.numVisible,0===i,s.clonedItemsForFinishing.length-1===i)),r.xp6(1),r.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",r.VKq(7,a,e))}}const C=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},T=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":t}};function D(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",13),r.NdJ("click",function(s){return r.CHM(e),r.oxw().navForward(s)}),r._UZ(1,"span",2),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("ngClass",r.VKq(3,C,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),r.xp6(1),r.Q6J("ngClass",r.WLB(5,T,!e.isVertical(),e.isVertical()))}}const S=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function L(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"li",2)(1,"button",15),r.NdJ("click",function(s){const u=r.CHM(e).index;return r.oxw(2).onDotClick(s,u)}),r.qZA()()}if(2&n){const e=t.index,i=r.oxw(2);r.Q6J("ngClass",r.VKq(5,S,i._page===e)),r.xp6(1),r.Tol(i.indicatorStyleClass),r.Q6J("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function z(n,t){if(1&n&&(r.TgZ(0,"ul",0),r.YNc(1,L,2,7,"li",8),r.qZA()),2&n){const e=r.oxw();r.Tol(e.indicatorsContentClass),r.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),r.xp6(1),r.Q6J("ngForOf",e.totalDotsArray())}}function ne(n,t){1&n&&r.GkF(0)}function xe(n,t){if(1&n&&(r.TgZ(0,"div",16),r.Hsn(1,1),r.YNc(2,ne,1,0,"ng-container",12),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Q6J("ngTemplateOutlet",e.footerTemplate)}}const We=[[["p-header"]],[["p-footer"]]],et=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},pt=function(n){return{height:n}},Me=["p-header","p-footer"];let St=(()=>{class n{constructor(e,i,s){this.el=e,this.zone=i,this.cd=s,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new r.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=Mf(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let s=this._page;0!==this.totalDots()&&s>=this.totalDots()&&(s=this.totalDots()-1,this._page=s,this.onPage.emit({page:this.page})),i=s*this._numScroll*-1,e&&(i-=this._numVisible),s===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,s)=>{const o=i.breakpoint,u=s.breakpoint;let h=null;return h=null==o&&null!=u?-1:null!=o&&null==u?1:null==o&&null==u?0:"string"==typeof o&&"string"==typeof u?o.localeCompare(u,void 0,{numeric:!0}):o<u?-1:o>u?1:0,-1*h});for(let i=0;i<this.responsiveOptions.length;i++){let s=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${s.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/s.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e=window.innerWidth,i={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let s=0;s<this.responsiveOptions.length;s++){let o=this.responsiveOptions[s];parseInt(o.breakpoint,10)>=e&&(i=o)}if(this._numScroll!==i.numScroll){let s=this._page;s=Math.floor(s*this._numScroll/i.numScroll);let o=i.numScroll*this.page*-1;this.isCircular()&&(o-=i.numVisible),this.totalShiftedItems=o,this._numScroll=i.numScroll,this._page=s,this.onPage.emit({page:this.page})}this._numVisible!==i.numVisible&&(this._numVisible=i.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let s=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>s?this.navForward(e,i):i<s&&this.navBackward(e,i)}step(e,i){let s=this.totalShiftedItems;const o=this.isCircular();null!=i?(s=this._numScroll*i*-1,o&&(s-=this._numVisible),this.isRemainingItemsAdded=!1):(s+=this._numScroll*e,this.isRemainingItemsAdded&&(s+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((o?s+this._numVisible:s)/this._numScroll))),o&&this.page===this.totalDots()-1&&-1===e?(s=-1*(this.value.length+this._numVisible),i=0):o&&0===this.page&&1===e?(s=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(s+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${s*(100/this._numVisible)}%, 0)`:`translate3d(${s*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=s,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-carousel"]],contentQueries:function(e,i,s){if(1&e&&(r.Suo(s,dc,5),r.Suo(s,Nf,5),r.Suo(s,Qs,4)),2&e){let o;r.iGM(o=r.CRH())&&(i.headerFacet=o.first),r.iGM(o=r.CRH())&&(i.footerFacet=o.first),r.iGM(o=r.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&r.Gf(Qk,5),2&e){let s;r.iGM(s=r.CRH())&&(i.itemsContainer=s.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[r.TTD],ngContentSelectors:Me,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,i){1&e&&(r.F$t(We),r.TgZ(0,"div",0),r.YNc(1,Xk,3,1,"div",1),r.TgZ(2,"div",2)(3,"div",3),r.YNc(4,tR,2,8,"button",4),r.TgZ(5,"div",5)(6,"div",6,7),r.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchend",function(o){return i.onTouchEnd(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchmove",function(o){return i.onTouchMove(o)}),r.YNc(8,l,2,9,"div",8),r.YNc(9,p,2,9,"div",8),r.YNc(10,b,2,9,"div",8),r.qZA()(),r.YNc(11,D,2,8,"button",4),r.qZA(),r.YNc(12,z,2,5,"ul",9),r.qZA(),r.YNc(13,xe,3,1,"div",10),r.qZA()),2&e&&(r.Tol(i.styleClass),r.Q6J("ngClass",r.WLB(17,et,i.isVertical(),!i.isVertical()))("ngStyle",i.style),r.uIk("id",i.id),r.xp6(1),r.Q6J("ngIf",i.headerFacet||i.headerTemplate),r.xp6(1),r.Tol(i.contentClass),r.Q6J("ngClass","p-carousel-content"),r.xp6(2),r.Q6J("ngIf",i.showNavigators),r.xp6(1),r.Q6J("ngStyle",r.VKq(20,pt,i.isVertical()?i.verticalViewPortHeight:"auto")),r.xp6(3),r.Q6J("ngForOf",i.clonedItemsForStarting),r.xp6(1),r.Q6J("ngForOf",i.value),r.xp6(1),r.Q6J("ngForOf",i.clonedItemsForFinishing),r.xp6(1),r.Q6J("ngIf",i.showNavigators),r.xp6(1),r.Q6J("ngIf",i.showIndicators),r.xp6(1),r.Q6J("ngIf",i.footerFacet||i.footerTemplate))},directives:[_i,wr,Xt,uo,rm,On],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),hn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,mn,xs],Tn,mn]}),n})();function Ln(n,t){}function Ds(n,t){if(1&n&&(r.TgZ(0,"div",9)(1,"div",10)(2,"div",11),r._UZ(3,"img",12),r.qZA()()()),2&n){const e=t.$implicit;r.xp6(3),r.Q6J("src",e,r.LSH)("alt","...")}}let Rc=(()=>{class n{constructor(e,i,s){this._productService=e,this._route=i,this._user=s,this.images=[],this.loading=!1,this.responsiveOptions=[],this._productService.getProductById(this._route.snapshot.params.id).subscribe(u=>{u.apiStatus&&this._user.getUserById(u.data.uploadedWith.userId).subscribe(h=>{this.product=u.data,this.images=u.data.images,this.user=h.data,this.loading=!1},h=>{this.loading=!0})},u=>{this.loading=!0},()=>{this.loading=!1}),this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(El),r.Y36(Za),r.Y36(eo))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-product-view"]],decls:24,vars:21,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-lg-12"],[1,"mt-5",3,"value","numVisible","numScroll","circular","responsiveOptions"],["pTemplate","header"],["pTemplate","item"],[1,"product-grid-item-content"],[1,"product-name"],[1,"product-description"],[1,"product-item"],[1,"product-item-content"],[1,"mb-3"],[1,"product-image",3,"src","alt"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-carousel",3),r.YNc(4,Ln,0,0,"ng-template",4),r.YNc(5,Ds,4,2,"ng-template",5),r.qZA()(),r.TgZ(6,"div",2)(7,"div",6)(8,"div",7),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"div",8),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"div",8),r._uU(15),r.ALo(16,"translate"),r.TgZ(17,"strong"),r._uU(18),r.qZA()(),r.TgZ(19,"div",8),r._uU(20),r.ALo(21,"translate"),r.TgZ(22,"strong"),r._uU(23),r.qZA()()()()()()),2&e&&(r.xp6(3),r.Q6J("value",i.images)("numVisible",3)("numScroll",3)("circular",!1)("responsiveOptions",i.responsiveOptions),r.xp6(6),r.AsE("",r.lcZ(10,13,"addNewProduct.name"),": ",null==i.product?null:i.product.name,""),r.xp6(3),r.AsE("",r.lcZ(13,15,"viewProducts.description"),": ",null==i.product?null:i.product.description,""),r.xp6(3),r.hij("",r.lcZ(16,17,"viewProducts.createdBy"),": "),r.xp6(3),r.Oqu(null==i.product||null==i.product.uploadedWith?null:i.product.uploadedWith.name),r.xp6(2),r.hij("",r.lcZ(21,19,"viewProducts.phone"),": "),r.xp6(3),r.Oqu(null==i.user?null:i.user.mobile))},directives:[St,Qs],pipes:[Ni],styles:[".product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:.3rem;text-align:center;padding:2rem 0;transition:.5s;cursor:pointer}.product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]:hover{background-color:#1a5f484d;border-radius:5%}.product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:50%;height:300px;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.product-grid-item-content[_ngcontent-%COMP%]{text-align:center;cursor:pointer}.product-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.product-description[_ngcontent-%COMP%]{margin:0 0 1rem;overflow:hidden;max-width:100%;height:70px}.product-description[_ngcontent-%COMP%]{margin:0 0 1rem}"]}),n})();function Vv(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",58),r.NdJ("click",function(){return r.CHM(e),r.oxw().handleDeleteProfileImage()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"profile.delete")))}function Uv(n,t){1&n&&(r.TgZ(0,"div",44),r._UZ(1,"progress",59)(2,"input",60),r.qZA())}function Bv(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Gre("alert alert-",e.alert,""),r.xp6(1),r.Oqu(e.msg)}}const Hv=function(n){return{"background-image":n,"background-size":"cover",cursor:"pointer"}};let jv=(()=>{class n{constructor(e){var i,s,o,u,h,g,v,I,E,O,M,V,X,ie,Be,tt,nt;this._user=e,this.progress=0,this.aboutFormStatus=!1,this.userForm=new Er({name:new on("",un.required),mobile:new on("",un.required),about:new on(""),country:new on(""),gender:new on(""),address:new Er({city:new on(""),state:new on(""),street:new on(""),zipCode:new on("")}),oldPassword:new on(""),password:new on("")}),this.progressForm=new Er({progress:new on(0)}),this.handleDeleteProfileImage=()=>{this._user.deleteProfileImageCloud((Je,Lt)=>{Je?(this.alert="danger",this.msg="SomeThing wrong!",setTimeout(()=>{this.msg=""},2e3)):this._user.deleteProfileImage().subscribe(kt=>{kt.apiStatus&&(this.alert="success",this.msg=kt.msg,localStorage.setItem("user",JSON.stringify(kt.data._user)),setTimeout(()=>{this.msg=""},2e3))},kt=>{this.alert="danger",this.msg=kt.error.msg,setTimeout(()=>{this.msg=""},2e3)})})},this.user=JSON.parse(localStorage.getItem("user")),null===(i=this.userForm.get("name"))||void 0===i||i.setValue(this.user.name),null===(s=this.userForm.get("mobile"))||void 0===s||s.setValue(this.user.mobile),null===(o=this.userForm.get("about"))||void 0===o||o.setValue(this.user.about),null===(u=this.userForm.get("country"))||void 0===u||u.setValue(this.user.country),null===(h=this.userForm.get("gender"))||void 0===h||h.setValue(this.user.gender),null===(g=this.userForm.controls.address.get("state"))||void 0===g||g.setValue(null===(I=null===(v=this.user)||void 0===v?void 0:v.address)||void 0===I?void 0:I.state),null===(E=this.userForm.controls.address.get("city"))||void 0===E||E.setValue(null===(M=null===(O=this.user)||void 0===O?void 0:O.address)||void 0===M?void 0:M.city),null===(V=this.userForm.controls.address.get("street"))||void 0===V||V.setValue(null===(ie=null===(X=this.user)||void 0===X?void 0:X.address)||void 0===ie?void 0:ie.street),null===(Be=this.userForm.controls.address.get("zipCode"))||void 0===Be||Be.setValue(null===(nt=null===(tt=this.user)||void 0===tt?void 0:tt.address)||void 0===nt?void 0:nt.zipCode)}get _userData(){var e,i,s,o,u,h,g,v,I,E,O;return{name:null===(e=this.userForm.get("name"))||void 0===e?void 0:e.value,mobile:null===(i=this.userForm.get("mobile"))||void 0===i?void 0:i.value,country:null===(s=this.userForm.get("country"))||void 0===s?void 0:s.value,gender:null===(o=this.userForm.get("gender"))||void 0===o?void 0:o.value,oldPassword:null===(u=this.userForm.get("oldPassword"))||void 0===u?void 0:u.value,password:null===(h=this.userForm.get("password"))||void 0===h?void 0:h.value,about:null===(g=this.userForm.get("about"))||void 0===g?void 0:g.value,address:{state:null===(v=this.userForm.controls.address.get("state"))||void 0===v?void 0:v.value,street:null===(I=this.userForm.controls.address.get("street"))||void 0===I?void 0:I.value,city:null===(E=this.userForm.controls.address.get("city"))||void 0===E?void 0:E.value,zipCode:null===(O=this.userForm.controls.address.get("zipCode"))||void 0===O?void 0:O.value}}}get isUserImage(){return!!JSON.parse(localStorage.getItem("user")).image}ngOnChanges(){}handleFile(e){this.file=e.target.files[0],this.fileName=e.target.files[0].name}get getProfileIamge(){return JSON.parse(localStorage.getItem("user")).image||"../../../../assets/img/avatars/profile.png"}upFile(e){if(this.file){let i;this.progressForm.controls.progress.disable(),this._user.uploadProfileImageCloud(this.file).on("state_changed",s=>{var o;i=s.ref,null===(o=this.progressForm.controls.progress)||void 0===o||o.setValue(Math.round(s.bytesTransferred/s.totalBytes*100)+"%")},s=>{switch(s.code){case"storage/unauthorized":this.alert="danger",this.msg=" User doesn't have permission to access the object",setTimeout(()=>{this.msg=""},2e3);break;case"storage/canceled":this.alert="danger",this.msg=" User canceled the upload",setTimeout(()=>{this.msg=""},2e3);break;case"storage/unknown":this.alert="danger",this.msg="Unknown error occurred, inspect error.serverResponse",setTimeout(()=>{this.msg=""},2e3)}},()=>{ey(i).then(s=>{this._user.uploadProfileImage(s).subscribe(o=>{o.apiStatus&&(localStorage.setItem("user",JSON.stringify(o.data._user)),this.alert="success",this.msg=o.msg,setTimeout(()=>{this.msg=""},2e3))},o=>{this.alert="danger",this.msg=o.error.msg,setTimeout(()=>{this.msg=""},2e3)})}),this.file=!1})}}handleUpdate(e){e.preventDefault(),this._user.editProfile(this._userData).subscribe(i=>{var s,o;i.apiStatus&&(localStorage.setItem("user",JSON.stringify(i.data._user)),null===(s=this.userForm.get("oldPassword"))||void 0===s||s.setValue(""),null===(o=this.userForm.get("password"))||void 0===o||o.setValue(""),this.alert="success",this.msg=i.msg,setTimeout(()=>{this.msg=""},2e3))},i=>{this.alert="danger",this.msg=i.error.msg,setTimeout(()=>{this.msg=""},2e3)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(eo))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-profile"]],features:[r.TTD],decls:140,vars:88,consts:[[1,"container"],[1,"row","gutters"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12","col-12"],[1,"card","h-100"],[1,"card-body"],[1,"account-settings"],[1,"user-profile"],[1,"user-avatar"],[3,"formGroup"],["uploaded","ngForm"],["type","file","accept",".png, .jpg, .jpeg, .jfif","name","uploadfile","id","img",2,"display","none",3,"change"],["for","img",1,"image",3,"ngStyle"],[1,"fas","fa-camera","icon"],["class","btn\n                      btn-outline-danger btn-sm",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"user-name","text-dark"],[1,"user-email","text-secondary"],[1,"about"],[1,"alert","alert-secondary"],[1,"col-xl-9","col-lg-9","col-md-12","col-sm-12","col-12"],[1,"card-body",3,"formGroup"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"mb-2","text-primary","alert","alert-secondary"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","fullName"],["type","text","id","fullName","formControlName","name",1,"form-control",3,"placeholder"],["for","eMail"],["type","email","id","eMail","disabled","",1,"form-control",3,"placeholder"],["for","phone"],["type","text","id","phone","formControlName","mobile",1,"form-control",3,"placeholder"],["for","Country"],["type","text","id","Country","formControlName","country",1,"form-control",3,"placeholder"],["formGroupName","address",1,"row","gutters"],[1,"mt-3","mb-2","text-primary"],["for","Street"],["type","name","id","Street","formControlName","street",1,"form-control",3,"placeholder"],["for","ciTy"],["type","name","id","ciTy","formControlName","city",1,"form-control",3,"placeholder"],["for","sTate"],["type","text","id","sTate","formControlName","state",1,"form-control",3,"placeholder"],["for","zIp"],["type","text","id","zIp","formControlName","zipCode",1,"form-control",3,"placeholder"],[1,"row","my-3"],[1,"row"],[1,"col","mb-3"],["rows","3","placeholder","My\n                    Bio","maxlength","150","formControlName","about",1,"form-control"],["val",""],[1,"input-group-text","form-control-user"],[1,"md-check","m-2"],["type","radio","value","female","name","gender","formControlName","gender"],["type","radio","value","male","name","gender","formControlName","gender"],[1,"mb-2"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","oldPassword",1,"form-control"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"form-control"],[1,"text-center","m-3"],["type","button","id","submit","name","submit",1,"btn","btn-primary","ms-2",3,"click"],[3,"class",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"col-9"],["formControlName","progress",1,"col-3",2,"background-color","rgb(246, 248, 247)","border","none"]],template:function(e,i){if(1&e){const s=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"form",8,9)(10,"input",10),r.NdJ("change",function(u){return i.handleFile(u)})("change",function(){r.CHM(s);const u=r.MAs(9);return i.upFile(u)}),r.qZA(),r.TgZ(11,"label",11),r._UZ(12,"i",12),r.qZA(),r.TgZ(13,"div"),r.YNc(14,Vv,3,3,"button",13),r.qZA(),r.YNc(15,Uv,3,0,"div",14),r.qZA()(),r.TgZ(16,"h5",15),r._uU(17),r.qZA(),r.TgZ(18,"h6",16),r._uU(19),r.qZA()(),r.TgZ(20,"div",17)(21,"h5"),r._uU(22),r.ALo(23,"translate"),r.qZA(),r.TgZ(24,"p",18),r._uU(25),r.qZA()()()()()(),r.TgZ(26,"div",19)(27,"div",3)(28,"form",20)(29,"div",1)(30,"div",21)(31,"h4",22),r._uU(32),r.ALo(33,"translate"),r.qZA()(),r.TgZ(34,"div",23)(35,"div",24)(36,"label",25),r._uU(37),r.ALo(38,"translate"),r.qZA(),r._UZ(39,"input",26),r.ALo(40,"translate"),r.qZA()(),r.TgZ(41,"div",23)(42,"div",24)(43,"label",27),r._uU(44),r.ALo(45,"translate"),r.qZA(),r._UZ(46,"input",28),r.qZA()(),r.TgZ(47,"div",23)(48,"div",24)(49,"label",29),r._uU(50),r.ALo(51,"translate"),r.qZA(),r._UZ(52,"input",30),r.qZA()(),r.TgZ(53,"div",23)(54,"div",24)(55,"label",31),r._uU(56),r.ALo(57,"translate"),r.qZA(),r._UZ(58,"input",32),r.ALo(59,"translate"),r.qZA()()(),r.TgZ(60,"div",33)(61,"div",21)(62,"h5",34),r._uU(63),r.ALo(64,"translate"),r.qZA()(),r.TgZ(65,"div",23)(66,"div",24)(67,"label",35),r._uU(68),r.ALo(69,"translate"),r.qZA(),r._UZ(70,"input",36),r.ALo(71,"translate"),r.qZA()(),r.TgZ(72,"div",23)(73,"div",24)(74,"label",37),r._uU(75),r.ALo(76,"translate"),r.qZA(),r._UZ(77,"input",38),r.ALo(78,"translate"),r.qZA()(),r.TgZ(79,"div",23)(80,"div",24)(81,"label",39),r._uU(82),r.ALo(83,"translate"),r.qZA(),r._UZ(84,"input",40),r.ALo(85,"translate"),r.qZA()(),r.TgZ(86,"div",23)(87,"div",24)(88,"label",41),r._uU(89),r.ALo(90,"translate"),r.qZA(),r._UZ(91,"input",42),r.ALo(92,"translate"),r.qZA()()(),r.TgZ(93,"div",43)(94,"div",44)(95,"div",45)(96,"div",24)(97,"label"),r._uU(98),r.ALo(99,"translate"),r.qZA(),r._UZ(100,"textarea",46,47),r.qZA()()()(),r.TgZ(102,"div",43)(103,"div",44)(104,"div",45)(105,"div",24)(106,"span",48),r._uU(107),r.ALo(108,"translate"),r.qZA(),r.TgZ(109,"label",49),r._UZ(110,"input",50),r._uU(111),r.ALo(112,"translate"),r.qZA(),r.TgZ(113,"label",49),r._UZ(114,"input",51),r._uU(115),r.ALo(116,"translate"),r.qZA()()()()(),r.TgZ(117,"div",44)(118,"div",52)(119,"b"),r._uU(120),r.ALo(121,"translate"),r.qZA()(),r.TgZ(122,"div",23)(123,"div",24)(124,"label"),r._uU(125),r.ALo(126,"translate"),r.qZA(),r._UZ(127,"input",53),r.qZA()(),r.TgZ(128,"div",23)(129,"div",24)(130,"label"),r._uU(131),r.ALo(132,"translate"),r.qZA(),r._UZ(133,"input",54),r.qZA()()(),r.TgZ(134,"div",1)(135,"div",55)(136,"button",56),r.NdJ("click",function(u){return i.handleUpdate(u)}),r._uU(137),r.ALo(138,"translate"),r.qZA()(),r.YNc(139,Bv,2,4,"div",57),r.qZA()()()()()()}2&e&&(r.xp6(8),r.Q6J("formGroup",i.progressForm),r.xp6(3),r.Q6J("ngStyle",r.VKq(86,Hv,"url("+i.getProfileIamge+")")),r.xp6(3),r.Q6J("ngIf",i.isUserImage),r.xp6(1),r.Q6J("ngIf",i.file),r.xp6(2),r.Oqu(null==i.user?null:i.user.name),r.xp6(2),r.Oqu(null==i.user?null:i.user.email),r.xp6(3),r.Oqu(r.lcZ(23,36,"profile.about")),r.xp6(3),r.Oqu(null==i.user?null:i.user.about),r.xp6(3),r.Q6J("formGroup",i.userForm),r.xp6(4),r.Oqu(r.lcZ(33,38,"profile.personalDetails")),r.xp6(5),r.Oqu(r.lcZ(38,40,"user.name")),r.xp6(2),r.s9C("placeholder",r.lcZ(40,42,"user.name")),r.xp6(5),r.Oqu(r.lcZ(45,44,"user.email")),r.xp6(2),r.s9C("placeholder",null==i.user?null:i.user.email),r.xp6(4),r.Oqu(r.lcZ(51,46,"user.mobile")),r.xp6(2),r.s9C("placeholder",null==i.user?null:i.user.mobile),r.xp6(4),r.Oqu(r.lcZ(57,48,"user.country")),r.xp6(2),r.s9C("placeholder",r.lcZ(59,50,"user.country")),r.xp6(5),r.Oqu(r.lcZ(64,52,"user.address.address")),r.xp6(5),r.Oqu(r.lcZ(69,54,"user.address.street")),r.xp6(2),r.s9C("placeholder",r.lcZ(71,56,"profile.addStreet")),r.xp6(5),r.Oqu(r.lcZ(76,58,"user.address.city")),r.xp6(2),r.s9C("placeholder",r.lcZ(78,60,"profile.addCity")),r.xp6(5),r.Oqu(r.lcZ(83,62,"user.address.state")),r.xp6(2),r.s9C("placeholder",r.lcZ(85,64,"profile.addState")),r.xp6(5),r.Oqu(r.lcZ(90,66,"user.address.zipCode")),r.xp6(2),r.s9C("placeholder",r.lcZ(92,68,"profile.addZipCode")),r.xp6(7),r.Oqu(r.lcZ(99,70,"profile.someAbout")),r.xp6(9),r.Oqu(r.lcZ(108,72,"user.gender")),r.xp6(4),r.hij(" ",r.lcZ(112,74,"user.female")," "),r.xp6(4),r.hij(" ",r.lcZ(116,76,"user.male")," "),r.xp6(5),r.Oqu(r.lcZ(121,78,"profile.changePassword")),r.xp6(5),r.Oqu(r.lcZ(126,80,"profile.currentPassword")),r.xp6(6),r.Oqu(r.lcZ(132,82,"profile.newPassword")),r.xp6(6),r.Oqu(r.lcZ(138,84,"profile.update")),r.xp6(2),r.Q6J("ngIf",i.msg))},directives:[_o,Tr,ts,wr,Xt,dr,yi,Cs,ac,Su,Eu],pipes:[Ni],styles:[".account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{margin:0 0 1rem;padding-bottom:1rem;text-align:center}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{margin:0 0 1rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:100px}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h5.user-name[_ngcontent-%COMP%]{margin:0 0 .5rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h6.user-email[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:400;color:#9fa8b9}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{margin:2rem 0 0;text-align:center}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 15px;color:#007ae1}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.825rem}.form-control[_ngcontent-%COMP%]{color:#249c06;font-weight:700}.card[_ngcontent-%COMP%]{background:#ffffff;border-radius:5px;border:0;box-shadow:2px 2px 2px 2px #03700c}.container[_ngcontent-%COMP%]{margin-bottom:12rem;margin-top:1.4rem;text-align:center;padding:50px;border-radius:25px;box-shadow:2px 2px 2px 2px #03700c}"]}),n})(),Zv=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-error-activation"]],decls:6,vars:3,consts:[[1,"contaianer","text-center","m-5"],[1,"row"],[1,"col"],[1,"alert","alert-danger"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r._uU(4),r.ALo(5,"translate"),r.qZA()()()()),2&e&&(r.xp6(4),r.Oqu(r.lcZ(5,1,"error.activatation")))},pipes:[Ni],styles:[""]}),n})();function qv(n,t){if(1&n&&(r.TgZ(0,"div",18),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Oqu(e.msg)}}function Gv(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.emailRequired")," "))}function $v(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildMail")," "))}function KU(n,t){if(1&n&&(r.TgZ(0,"div",18),r.YNc(1,Gv,3,3,"div",23),r.YNc(2,$v,3,3,"div",23),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email)}}function YU(n,t){if(1&n&&(r.TgZ(0,"div",19)(1,"span",20),r._uU(2),r.ALo(3,"translate"),r.qZA(),r._UZ(4,"input",21),r.YNc(5,KU,3,2,"div",22),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,2,"user.email")),r.xp6(3),r.Q6J("ngIf",(null==e.email?null:e.email.invalid)&&((null==e.email?null:e.email.dirty)||(null==e.email?null:e.email.touched)))}}function QU(n,t){1&n&&(r.TgZ(0,"div",19)(1,"div",24),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span",25),r._uU(5),r.ALo(6,"translate"),r.qZA(),r._UZ(7,"input",26),r.qZA()),2&n&&(r.xp6(2),r.Oqu(r.lcZ(3,2,"forgetPassword.sentSatatusCode")),r.xp6(3),r.Oqu(r.lcZ(6,4,"forgetPassword.code")))}function JU(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.passwordRequired")," "))}function XU(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildPassword")," "))}function e3(n,t){if(1&n&&(r.TgZ(0,"div",18),r.YNc(1,JU,3,3,"div",23),r.YNc(2,XU,3,3,"div",23),r.qZA()),2&n){const e=r.oxw(2);r.xp6(1),r.Q6J("ngIf",null==e.password||null==e.password.errors?null:e.password.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.password||null==e.password.errors?null:e.password.errors.minLength)}}function t3(n,t){if(1&n&&(r.TgZ(0,"div",19)(1,"span",20),r._uU(2),r.ALo(3,"translate"),r.qZA(),r._UZ(4,"input",27),r.YNc(5,e3,3,2,"div",22),r.qZA()),2&n){const e=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,2,"user.password")),r.xp6(3),r.Q6J("ngIf",(null==e.password?null:e.password.invalid)&&((null==e.password?null:e.password.dirty)||(null==e.password?null:e.password.touched)))}}function n3(n,t){1&n&&(r.TgZ(0,"button",28),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"nav.Search")))}function r3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){return r.CHM(e),r.oxw().handleCheckCode()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"forgetPassword.check")))}function s3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){return r.CHM(e),r.oxw().handleSetPassword()}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"forgetPassword.set")))}let o3=(()=>{class n{constructor(e,i){this._user=e,this.route=i,this.setPass=new Er({email:new on("",[un.required,un.email]),code:new on,password:new on("",[un.required,un.minLength(6)])}),this.getEmail=!0,this.sentCode=!1,this.setNewPass=!1}ngOnInit(){}get email(){return this.setPass.get("email")}get password(){return this.setPass.get("password")}handleSubmit(){var e,i;(null===(e=this.email)||void 0===e?void 0:e.valid)?this._user.forgetPassword(null===(i=this.setPass)||void 0===i?void 0:i.value).subscribe(s=>{this.sentCode=!0,this.getEmail=!1,this.setNewPass=!1,this.msg=""},s=>this.msg=s.error.data):this.msg="Invalid email!"}handleCheckCode(){this._user.checkCode(this.setPass.value).subscribe(e=>{this.setNewPass=!0,this.getEmail=!1,this.sentCode=!1,this.msg="",localStorage.setItem("token",e.data.token)},e=>this.msg=e.error.msg)}handleSetPassword(){var e;(null===(e=this.password)||void 0===e?void 0:e.valid)?this._user.setNewPassword(this.setPass.value).subscribe(i=>{this.setNewPass=!1,this.getEmail=!0,this.sentCode=!1,this.msg="";let s=i.data._user;"adf0c9ad82601330d46ec62a"===i.data._user.role&&(s=Object.assign({isAdmin:!0},s)),delete s.role,localStorage.setItem("user",JSON.stringify(s))},i=>this.msg=i.error.msg,()=>this.route.navigateByUrl("/home")):this.msg="Invalid password!"}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(eo),r.Y36($n))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-forget-password"]],decls:27,vars:17,consts:[[1,"login","text-center","m-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"alert","alert-warning","m-2"],[1,"icon"],["src","https://i.pinimg.com/originals/8b/44/51/8b4451665d6b2139e29f29b51ffb1829.png",1,"logIcon"],[1,"col-3"],[1,"col","m-2"],[1,"input"],[1,"form-group",3,"formGroup","ngSubmit"],["class","col-12 alert alert-danger form-control-user",4,"ngIf"],["class","input-group mb-3",4,"ngIf"],["class","btn btn-success m-2","type","submit",4,"ngIf"],["class","btn btn-success m-2","type","button",3,"click",4,"ngIf"],[1,"form-group"],["className","forgot-password text-left"],["routerLink","/user/login"],[1,"col-12","alert","alert-danger","form-control-user"],[1,"input-group","mb-3"],[1,"input-group-text","form-control-user"],["type","email","placeholder","email@example.com","formControlName","email",1,"form-control","form-control-user"],["class","col-12 alert alert-danger\n                                form-control-user",4,"ngIf"],[4,"ngIf"],[1,"col-12","alert","alert-info","form-control-user"],[1,"input-group-text"],["type","text","placeholder","Enter Code here","formControlName","code",1,"form-control","form-control-user"],["type","password","id","staticEmail","placeholder","******","formControlName","password",1,"form-control","form-control-user"],["type","submit",1,"btn","btn-success","m-2"],["type","button",1,"btn","btn-success","m-2",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"div",5),r._UZ(8,"img",6),r.qZA()(),r._UZ(9,"div",7),r.TgZ(10,"div",8)(11,"div",9)(12,"form",10),r.NdJ("ngSubmit",function(){return i.handleSubmit()}),r.YNc(13,qv,2,1,"div",11),r.YNc(14,YU,6,4,"div",12),r.YNc(15,QU,8,6,"div",12),r.YNc(16,t3,6,4,"div",12),r.YNc(17,n3,3,3,"button",13),r.YNc(18,r3,3,3,"button",14),r.YNc(19,s3,3,3,"button",14),r.qZA()()(),r.TgZ(20,"div",15)(21,"p",16),r._uU(22),r.ALo(23,"translate"),r.TgZ(24,"a",17),r._uU(25),r.ALo(26,"translate"),r.qZA()()()()()()),2&e&&(r.xp6(5),r.Oqu(r.lcZ(6,11,"forgetPassword.setNewPassword")),r.xp6(7),r.Q6J("formGroup",i.setPass),r.xp6(1),r.Q6J("ngIf",i.msg),r.xp6(1),r.Q6J("ngIf",i.getEmail),r.xp6(1),r.Q6J("ngIf",i.sentCode),r.xp6(1),r.Q6J("ngIf",i.setNewPass),r.xp6(1),r.Q6J("ngIf",i.getEmail),r.xp6(1),r.Q6J("ngIf",i.sentCode),r.xp6(1),r.Q6J("ngIf",i.setNewPass),r.xp6(3),r.hij("",r.lcZ(23,13,"login.haveAccount")," "),r.xp6(3),r.hij("",r.lcZ(26,15,"login.login"),"?"))},directives:[_o,Tr,ts,Xt,dr,yi,Cs,Ga],pipes:[Ni],styles:[".login[_ngcontent-%COMP%]{background:linear-gradient(to right,#8300cd,#b800c4);color:#fff}.logIcon[_ngcontent-%COMP%]{width:200px;height:200px;margin:15px}.input[_ngcontent-%COMP%]{max-width:500px}a[_ngcontent-%COMP%]{text-decoration:none;color:#52c236;font-weight:700}"]}),n})(),a3=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-page-error404"]],decls:6,vars:3,consts:[[1,"contaianer","text-center","m-5"],[1,"row"],[1,"col"],[1,"alert","alert-danger"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r._uU(4),r.ALo(5,"translate"),r.qZA()()()()),2&e&&(r.xp6(4),r.Oqu(r.lcZ(5,1,"error._404")))},pipes:[Ni],styles:[""]}),n})(),yS=(()=>{class n{constructor(e,i){this._user=e,this._route=i}canActivate(e,i){return this._user.getUser().toPromise().then(s=>{if(s.apiStatus){let o=s.data;return"adf0c9ad82601330d46ec62a"===s.data.role&&(o=Object.assign({isAdmin:!0},o),delete o.role),localStorage.setItem("user",JSON.stringify(o)),this._user.profileImage=s.data.image,s.data.activate||this._route.navigateByUrl("/activationError"),!0}this._route.navigateByUrl("/user/login")}).catch(s=>(this._route.navigateByUrl("/user/login"),!1))}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(eo),r.LFG($n))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.nameRequired")," "))}function c3(n,t){if(1&n&&(r.TgZ(0,"div",27),r.YNc(1,l3,3,3,"div",28),r.qZA()),2&n){const e=r.oxw();let i;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("name"))||null==i.errors?null:i.errors.required)}}function u3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.emailRequired")," "))}function d3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildMail")," "))}function h3(n,t){if(1&n&&(r.TgZ(0,"div",27),r.YNc(1,u3,3,3,"div",28),r.YNc(2,d3,3,3,"div",28),r.qZA()),2&n){const e=r.oxw();let i,s;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("email"))||null==i.errors?null:i.errors.required),r.xp6(1),r.Q6J("ngIf",null==(s=e.contactForm.get("email"))||null==s.errors?null:s.errors.email)}}function p3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.subjectRequired")," "))}function f3(n,t){if(1&n&&(r.TgZ(0,"div",27),r.YNc(1,p3,3,3,"div",28),r.qZA()),2&n){const e=r.oxw();let i;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("sub"))||null==i.errors?null:i.errors.required)}}function g3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.messageRequired")," "))}function m3(n,t){if(1&n&&(r.TgZ(0,"div",27),r.YNc(1,g3,3,3,"div",28),r.qZA()),2&n){const e=r.oxw();let i;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("message"))||null==i.errors?null:i.errors.required)}}function _3(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Gre("alert alert-",e.alert,""),r.xp6(1),r.Oqu(e.msg)}}let y3=(()=>{class n{constructor(e){this._user=e,this.contactForm=new Er({name:new on("",un.required),email:new on("",[un.required,un.email]),sub:new on("",un.required),message:new on("",un.required)})}get _contactData(){return this.contactForm.value}ngOnInit(){}handleSendMessgae(){this.contactForm.valid&&this._user.contactMessage(this._contactData).subscribe(e=>{e.apiStatus&&(this.alert="success",this.msg=e.msg,setTimeout(()=>{this.msg=""},2e3))},e=>{this.alert="danger",this.msg=e.error.msg,setTimeout(()=>{this.msg=""},2e3)})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(eo))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-contact"]],decls:73,vars:42,consts:[["id","contact",1,"contact"],[1,"container","text-center"],[1,"row"],[1,"col-12"],[1,"section-title"],[1,"text-warning","m-4"],[1,"map"],["title","contact","src","https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12097.433213460943!2d-74.0062269!3d40.7101282!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xb89d1fe6bc499443!2sDowntown+Conference+Center!5e0!3m2!1smk!2sbg!4v1539943755621","frameBorder","0","allowFullScreen","",2,"border","0","width","100%","height","350px"],[1,"container","mt-5"],[1,"info-wrap"],[1,"col-lg-3","col-md-6","info"],[1,"bi","bi-geo-alt"],[1,"col-lg-3","col-md-6","info","mt-4","mt-lg-0"],[1,"bi","bi-clock"],[1,"bi","bi-envelope"],[1,"bi","bi-phone"],[1,"form-group",3,"formGroup","ngSubmit"],[1,"col-md-6","form-group"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],["class","col-12 alert alert-danger form-control-user",4,"ngIf"],[1,"col-md-6","form-group","mt-3","mt-md-0"],["type","email","placeholder","example@gmail.com","formControlName","email",1,"form-control"],[1,"form-group","mt-3"],["type","text","formControlName","sub",1,"form-control",3,"placeholder"],["rows","5","formControlName","message",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-primary","m-3"],[3,"class",4,"ngIf"],[1,"col-12","alert","alert-danger","form-control-user"],[4,"ngIf"]],template:function(e,i){if(1&e&&(r.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),r._uU(6),r.ALo(7,"translate"),r.qZA()()(),r.TgZ(8,"div",3)(9,"div",6),r._UZ(10,"iframe",7),r.qZA()(),r.TgZ(11,"div",3)(12,"div",8)(13,"div",9)(14,"div",2)(15,"div",10),r._UZ(16,"i",11),r.TgZ(17,"h4"),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"p"),r._uU(21),r.ALo(22,"translate"),r._UZ(23,"br"),r._uU(24),r.ALo(25,"translate"),r.qZA()(),r.TgZ(26,"div",12),r._UZ(27,"i",13),r.TgZ(28,"h4"),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.TgZ(31,"p"),r._uU(32),r.ALo(33,"translate"),r._UZ(34,"br"),r._uU(35,"11:00 AM - 2300 PM"),r.qZA()(),r.TgZ(36,"div",12),r._UZ(37,"i",14),r.TgZ(38,"h4"),r._uU(39),r.ALo(40,"translate"),r.qZA(),r.TgZ(41,"p"),r._uU(42,"fadel.zad@gmail.com"),r.qZA()(),r.TgZ(43,"div",12),r._UZ(44,"i",15),r.TgZ(45,"h4"),r._uU(46),r.ALo(47,"translate"),r.qZA(),r.TgZ(48,"p"),r._uU(49,"+2- 01555555555"),r._UZ(50,"br"),r._uU(51,"+2- 011111111111"),r.qZA()()()(),r.TgZ(52,"form",16),r.NdJ("ngSubmit",function(){return i.handleSendMessgae()}),r.TgZ(53,"div",2)(54,"div",17),r._UZ(55,"input",18),r.ALo(56,"translate"),r.YNc(57,c3,2,1,"div",19),r.qZA(),r.TgZ(58,"div",20),r._UZ(59,"input",21),r.YNc(60,h3,3,2,"div",19),r.qZA()(),r.TgZ(61,"div",22),r._UZ(62,"input",23),r.ALo(63,"translate"),r.YNc(64,f3,2,1,"div",19),r.qZA(),r.TgZ(65,"div",22),r._UZ(66,"textarea",24),r.ALo(67,"translate"),r.YNc(68,m3,2,1,"div",19),r.qZA(),r.TgZ(69,"button",25),r._uU(70),r.ALo(71,"translate"),r.qZA()(),r.YNc(72,_3,2,4,"div",26),r.qZA()()()()()),2&e){let s,o,u,h;r.xp6(6),r.Oqu(r.lcZ(7,18,"contact.contactUs")),r.xp6(12),r.Oqu(r.lcZ(19,20,"contact.location")),r.xp6(3),r.Oqu(r.lcZ(22,22,"contact.street")),r.xp6(3),r.Oqu(r.lcZ(25,24,"contact.bns")),r.xp6(5),r.Oqu(r.lcZ(30,26,"contact.openAt")),r.xp6(3),r.Oqu(r.lcZ(33,28,"contact.date")),r.xp6(7),r.Oqu(r.lcZ(40,30,"user.email")),r.xp6(7),r.Oqu(r.lcZ(47,32,"contact.call")),r.xp6(6),r.Q6J("formGroup",i.contactForm),r.xp6(3),r.MGl("placeholder"," ",r.lcZ(56,34,"user.name"),""),r.xp6(2),r.Q6J("ngIf",(null==(s=i.contactForm.get("name"))?null:s.invalid)&&((null==(s=i.contactForm.get("name"))?null:s.dirty)||(null==(s=i.contactForm.get("name"))?null:s.touched))),r.xp6(3),r.Q6J("ngIf",(null==(o=i.contactForm.get("email"))?null:o.invalid)&&((null==(o=i.contactForm.get("email"))?null:o.dirty)||(null==(o=i.contactForm.get("email"))?null:o.touched))),r.xp6(2),r.MGl("placeholder"," ",r.lcZ(63,36,"mail.subject"),""),r.xp6(2),r.Q6J("ngIf",(null==(u=i.contactForm.get("sub"))?null:u.invalid)&&((null==(u=i.contactForm.get("sub"))?null:u.dirty)||(null==(u=i.contactForm.get("sub"))?null:u.touched))),r.xp6(2),r.s9C("placeholder",r.lcZ(67,38,"mail.message")),r.xp6(2),r.Q6J("ngIf",(null==(h=i.contactForm.get("message"))?null:h.invalid)&&((null==(h=i.contactForm.get("message"))?null:h.dirty)||(null==(h=i.contactForm.get("message"))?null:h.touched))),r.xp6(2),r.Oqu(r.lcZ(71,40,"mail.send")),r.xp6(2),r.Q6J("ngIf",i.msg)}},directives:[_o,Tr,ts,dr,yi,Cs,Xt],pipes:[Ni],styles:[""]}),n})();function v3(n,t){1&n&&(r.TgZ(0,"h5"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"home.newAds")))}function b3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",3)(1,"div",4),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().openProductView(o._id)}),r.TgZ(2,"div",5),r._UZ(3,"img",6),r.qZA(),r.TgZ(4,"div")(5,"h4",7),r._uU(6),r.qZA()()()()}if(2&n){const e=t.$implicit;r.xp6(3),r.Q6J("src",e.images[0],r.LSH)("alt","..."),r.xp6(3),r.Oqu(e.name)}}let w3=(()=>{class n{constructor(e,i){this.productService=e,this._route=i,this.responsiveOptions=[],this.loading=!0,this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}openProductView(e){this._route.navigateByUrl("/product/"+e)}ngOnInit(){this.productService.getLast10Products().subscribe(e=>{e.apiStatus&&(this.products=Array.from(e.data),this.loading=!1)},e=>{this.loading=!0},()=>{this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(El),r.Y36($n))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-carousel"]],inputs:{numVisible:"numVisible"},decls:3,vars:5,consts:[[1,"mt-5",3,"value","numVisible","numScroll","circular","responsiveOptions"],["pTemplate","header"],["pTemplate","item"],[1,"product-item"],[1,"product-item-content",3,"click"],[1,"mb-3"],[1,"product-image",3,"src","alt"],[1,"mb-1"]],template:function(e,i){1&e&&(r.TgZ(0,"p-carousel",0),r.YNc(1,v3,3,3,"ng-template",1),r.YNc(2,b3,7,3,"ng-template",2),r.qZA()),2&e&&r.Q6J("value",i.products)("numVisible",i.numVisible)("numScroll",3)("circular",!1)("responsiveOptions",i.responsiveOptions)},directives:[St,Qs],pipes:[Ni],styles:[".product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:.3rem;text-align:center;padding:2rem 0;transition:.5s;cursor:pointer}.product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]:hover{background-color:#1a5f484d;border-radius:5%}.product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:50%;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}"]}),n})();const C3=["dt"];function I3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",6)(1,"span",7),r._UZ(2,"i",8),r.TgZ(3,"input",9),r.NdJ("input",function(s){r.CHM(e);const o=r.oxw();return r.MAs(2).filter(o.getTarget(s))}),r.ALo(4,"translate"),r.qZA()(),r.TgZ(5,"p-dropdown",10),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw().sortKey=s})("onChange",function(s){return r.CHM(e),r.oxw().onSortChange(s)}),r.ALo(6,"translate"),r.qZA(),r._UZ(7,"p-dataViewLayoutOptions"),r.qZA()}if(2&n){const e=r.oxw();r.xp6(3),r.s9C("placeholder",r.lcZ(4,4,"viewProducts.searchByName")),r.xp6(2),r.s9C("placeholder",r.lcZ(6,6,"viewProducts.searchByCategory")),r.Q6J("options",e.sortCategoryOptions)("ngModel",e.sortKey)}}function T3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",11)(1,"div",12)(2,"div"),r._UZ(3,"i",13),r.TgZ(4,"span",14),r._uU(5),r.qZA()()(),r.TgZ(6,"div",15),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().openProductView(o._id)}),r._UZ(7,"img",16),r.TgZ(8,"div",17)(9,"div",18),r._uU(10),r.qZA(),r.TgZ(11,"div",19),r._uU(12),r.qZA(),r.TgZ(13,"div",19),r._uU(14),r.ALo(15,"translate"),r.TgZ(16,"strong"),r._uU(17),r.qZA()()()()()}if(2&n){const e=t.$implicit;r.xp6(5),r.Oqu(e.type),r.xp6(2),r.Q6J("src",e.images[0],r.LSH)("alt","..."),r.xp6(3),r.Oqu(e.name),r.xp6(2),r.Oqu(e.description),r.xp6(2),r.hij("",r.lcZ(15,7,"viewProducts.createdBy"),": "),r.xp6(3),r.Oqu(e.uploadedWith.name)}}function E3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",20)(1,"div",21)(2,"div",12)(3,"div"),r._UZ(4,"i",13),r.TgZ(5,"span",14),r._uU(6),r.qZA()()(),r.TgZ(7,"div",22),r.NdJ("click",function(){const o=r.CHM(e).$implicit;return r.oxw().openProductView(o._id)}),r._UZ(8,"img",16),r.TgZ(9,"div",18),r._uU(10),r.qZA(),r.TgZ(11,"div",19),r._uU(12),r.qZA(),r.TgZ(13,"div",19),r._uU(14),r.ALo(15,"translate"),r.TgZ(16,"strong"),r._uU(17),r.qZA()()()()()}if(2&n){const e=t.$implicit;r.xp6(6),r.Oqu(e.type),r.xp6(2),r.Q6J("src",e.images[0],r.LSH)("alt","..."),r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.description),r.xp6(2),r.hij("",r.lcZ(15,7,"viewProducts.createdBy"),": "),r.xp6(3),r.Oqu(e.uploadedWith.name)}}const x3=function(){return[18,36,54]};let D3=(()=>{class n{constructor(e,i,s){this.productService=e,this.primengConfig=i,this._route=s,this.rows=9,this.first=0,this.loading=!0}ngOnInit(){this.productService.getAllProducts().subscribe(e=>{e.apiStatus&&(this.products=e.data,this.sortedProdect=this.products,this.count=e.length,this.loading=!1,this.productService.getAllCategories().subscribe(i=>{if(i.apiStatus)for(let s of i.data)this.sortCategoryOptions.push({label:s.name,value:s.name})},i=>{this.alert="danger",this.msg=i.error.msg,setTimeout(()=>{this.msg=""},2e3)}))},e=>{this.loading=!0},()=>{this.loading=!1}),this.sortCategoryOptions=[],this.primengConfig.ripple=!0}getTarget(e){return e.target.value}onSortChange(e){let i=e.value;0===i.indexOf("!")?(this.sortOrder=-1,this.sortField=i.substring(1,i.length)):(this.sortOrder=1,this.sortField=i,this.sortedProdect=this.products,this.sortedProdect=this.sortedProdect.filter(s=>s.type==i))}openProductView(e){this._route.navigateByUrl("/product/"+e)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(El),r.Y36(ta),r.Y36($n))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-products"]],viewQuery:function(e,i){if(1&e&&r.Gf(C3,5),2&e){let s;r.iGM(s=r.CRH())&&(i.dt=s.first)}},decls:6,vars:9,consts:[[1,"card"],["filterBy","name","layout","grid",1,"grid-view",3,"value","paginator","first","rows","rowsPerPageOptions","totalRecords","sortField","sortOrder"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"flex","flex-column","md:flex-row","md:justify-content-between"],[1,"p-input-icon-left","p-m-2","p-mb-md-0"],[1,"pi","pi-search"],["type","search","pInputText","",3,"placeholder","input"],["id","cat",1,"p-mb-2","p-mb-md-0","p-m-5",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"col-12"],[1,"product-grid-item-top"],[1,"pi","pi-tag","product-category-icon"],[1,"product-category"],[1,"product-list-item",3,"click"],[3,"src","alt"],[1,"product-list-detail"],[1,"product-name"],[1,"product-description"],[1,"col-12","md:col-4"],[1,"product-grid-item","card"],[1,"product-grid-item-content",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"p-dataView",1,2),r.YNc(3,I3,8,8,"ng-template",3),r.YNc(4,T3,18,9,"ng-template",4),r.YNc(5,E3,18,9,"ng-template",5),r.qZA()()),2&e&&(r.xp6(1),r.Q6J("value",i.sortedProdect)("paginator",!0)("first",i.first)("rows",i.rows)("rowsPerPageOptions",r.DdM(8,x3))("totalRecords",i.count)("sortField",i.sortField)("sortOrder",i.sortOrder))},directives:[ap,Qs,am,vd,yi,zs,Nv],pipes:[Ni],styles:["[_nghost-%COMP%]     .p-dropdown{width:14rem;font-weight:400}[_nghost-%COMP%]     .product-name{font-size:1.5rem;font-weight:700}[_nghost-%COMP%]     .product-description{margin:0 0 1rem}[_nghost-%COMP%]     .product-owner{margin:0 0 1rem}[_nghost-%COMP%]     .product-category-icon{vertical-align:middle;margin-right:.5rem}[_nghost-%COMP%]     .product-category{font-weight:600;vertical-align:middle}[_nghost-%COMP%]     .product-list-item{display:flex;align-items:center;padding:1rem;width:100%;cursor:pointer}[_nghost-%COMP%]     .product-list-item img{width:150px;height:200px;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin-right:2rem}[_nghost-%COMP%]     .product-list-item .product-list-detail{flex:1 1 0}[_nghost-%COMP%]     .product-list-item .p-rating{margin:0 0 .5rem}[_nghost-%COMP%]     .product-list-item .product-price{font-size:1.5rem;font-weight:600;margin-bottom:.5rem;align-self:flex-end}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .p-button{margin-bottom:.5rem}[_nghost-%COMP%]     .product-list-item:hover{background-color:#1a5f484d;border-radius:5%}[_nghost-%COMP%]     .product-description{margin:0 0 1rem;overflow:hidden;max-width:100%;height:70px}[_nghost-%COMP%]     .product-grid-item{margin:.5em;border:1px solid #dee2e6}[_nghost-%COMP%]     .product-grid-item .product-grid-item-top, [_nghost-%COMP%]     .product-grid-item .product-grid-item-bottom{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]     .product-grid-item img{width:75%;height:200px;max-height:100%!important;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b;margin:2rem 0;border-radius:5%}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content{text-align:center;cursor:pointer}[_nghost-%COMP%]     .product-grid-item .product-grid-item-content:hover{background-color:#1a5f484d;border-radius:5%}[_nghost-%COMP%]     .product-grid-item .product-price{font-size:1.5rem;font-weight:600}.card[_ngcontent-%COMP%]{padding:2rem;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;margin-bottom:2rem}@media screen and (max-width: 576px){[_nghost-%COMP%]     .product-list-item{flex-direction:column;align-items:center}[_nghost-%COMP%]     .product-list-item img{width:75%;margin:2rem 0}[_nghost-%COMP%]     .product-list-item .product-list-detail{text-align:center}[_nghost-%COMP%]     .product-list-item .product-price{align-self:center}[_nghost-%COMP%]     .product-list-item .product-list-action{display:flex;flex-direction:column}[_nghost-%COMP%]     .product-list-item .product-list-action{margin-top:2rem;flex-direction:row;justify-content:space-between;align-items:center;width:100%}}"]}),n})(),S3=(()=>{class n{constructor(){this.lastUploadedProducts=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-home"]],decls:12,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"alert","alert-primary","text-success","text-center","mt-5"],[3,"numVisible"],[1,"co-lg-9"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r._uU(4),r.ALo(5,"translate"),r.qZA(),r._UZ(6,"app-carousel",4),r.qZA(),r.TgZ(7,"div",5)(8,"h1",3),r._uU(9),r.ALo(10,"translate"),r.qZA(),r._UZ(11,"app-products"),r.qZA()()()),2&e&&(r.xp6(4),r.Oqu(r.lcZ(5,3,"home.lastShared")),r.xp6(2),r.Q6J("numVisible",3),r.xp6(3),r.Oqu(r.lcZ(10,5,"home.allAds")))},directives:[w3,D3],pipes:[Ni],styles:[""]}),n})();function A3(n,t){if(1&n&&(r.TgZ(0,"div",27),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij(" ",e.msg," ")}}function P3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.emailRequired")," "))}function O3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildMail")," "))}function M3(n,t){if(1&n&&(r.TgZ(0,"div",28),r.YNc(1,P3,3,3,"div",29),r.YNc(2,O3,3,3,"div",29),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email)}}function k3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.passwordRequired")," "))}function R3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildPassword")," "))}function N3(n,t){if(1&n&&(r.TgZ(0,"div",28),r.YNc(1,k3,3,3,"div",29),r.YNc(2,R3,3,3,"div",29),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null==e.password||null==e.password.errors?null:e.password.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.password||null==e.password.errors?null:e.password.errors.minLength)}}let L3=(()=>{class n{constructor(e,i){this._roter=e,this._userService=i,this.login=new Er({email:new on("",[un.required,un.email]),password:new on("",[un.required,un.minLength(6),un.maxLength(20)])})}ngOnInit(){}get email(){return this.login.get("email")}get password(){return this.login.get("password")}handleSubmit(){this.login.valid&&this._userService.login(this.login.value).subscribe(e=>{if(e.apiStatus){localStorage.setItem("token",e.data.token);let i=e.data._user;"adf0c9ad82601330d46ec62a"===e.data._user.role&&(i=Object.assign({isAdmin:!0},i)),delete i.role,localStorage.setItem("user",JSON.stringify(i)),this._roter.navigateByUrl("home")}},e=>{this.msg=e.error.data})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36($n),r.Y36(eo))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-login"]],decls:51,vars:28,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-9","col-lg-12","col-xl-10"],[1,"card","shadow-lg","o-hidden","border-0","my-5"],[1,"card-body","p-0"],[1,"row"],[1,"col-lg-6","d-none","d-lg-flex"],[1,"flex-grow-1","bg-login-image",2,"background-image",'url("assets/img/login.jpg")',"background-repeat","no-repeat","background-size","auto"],[1,"col-lg-6"],[1,"p-5"],[1,"text-center"],[1,"text-dark","mb-4"],[1,"user",3,"formGroup","ngSubmit"],[1,"mb-3"],["class","form-control-user alert alert-danger",4,"ngIf"],[1,"input-group","mb-3"],[1,"input-group-text","form-control-user"],["type","email","placeholder","email@example.com","formControlName","email",1,"form-control","form-control-user"],["class","col-12 alert alert-danger form-control-user",4,"ngIf"],["type","password","id","staticEmail","placeholder","******","formControlName","password",1,"form-control","form-control-user"],["type","submit",1,"btn","btn-primary","d-block","btn-user","w-100"],["role","button",1,"btn","btn-primary","d-block","btn-google","btn-user","w-100","mb-2"],[1,"fab","fa-google"],["role","button",1,"btn","btn-primary","d-block","btn-facebook","btn-user","w-100"],[1,"fab","fa-facebook-f"],["routerLink","/user/forgetPassword",1,"small"],["routerLink","/user/register",1,"small"],[1,"form-control-user","alert","alert-danger"],[1,"col-12","alert","alert-danger","form-control-user"],[4,"ngIf"]],template:function(e,i){1&e&&(r.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),r._UZ(8,"div",7),r.qZA(),r.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"h4",11),r._uU(13),r.ALo(14,"translate"),r.qZA()(),r.TgZ(15,"form",12),r.NdJ("ngSubmit",function(){return i.handleSubmit()}),r.TgZ(16,"div",13),r.YNc(17,A3,2,1,"div",14),r.TgZ(18,"div",15)(19,"span",16),r._uU(20),r.ALo(21,"translate"),r.qZA(),r._UZ(22,"input",17),r.YNc(23,M3,3,2,"div",18),r.qZA(),r.TgZ(24,"div",15)(25,"span",16),r._uU(26),r.ALo(27,"translate"),r.qZA(),r._UZ(28,"input",19),r.YNc(29,N3,3,2,"div",18),r.qZA()(),r.TgZ(30,"button",20),r._uU(31),r.ALo(32,"translate"),r.qZA(),r._UZ(33,"hr"),r.TgZ(34,"a",21),r._UZ(35,"i",22),r._uU(36),r.ALo(37,"translate"),r.qZA(),r.TgZ(38,"a",23),r._UZ(39,"i",24),r._uU(40),r.ALo(41,"translate"),r.qZA(),r._UZ(42,"hr"),r.qZA(),r.TgZ(43,"div",10)(44,"a",25),r._uU(45),r.ALo(46,"translate"),r.qZA()(),r.TgZ(47,"div",10)(48,"a",26),r._uU(49),r.ALo(50,"translate"),r.qZA()()()()()()()()()()()),2&e&&(r.xp6(13),r.Oqu(r.lcZ(14,12,"login.welcome")),r.xp6(2),r.Q6J("formGroup",i.login),r.xp6(2),r.Q6J("ngIf",i.msg),r.xp6(3),r.Oqu(r.lcZ(21,14,"user.email")),r.xp6(3),r.Q6J("ngIf",(null==i.email?null:i.email.invalid)&&((null==i.email?null:i.email.dirty)||(null==i.email?null:i.email.touched))),r.xp6(3),r.Oqu(r.lcZ(27,16,"user.password")),r.xp6(3),r.Q6J("ngIf",(null==i.password?null:i.password.invalid)&&((null==i.password?null:i.password.dirty)||(null==i.password?null:i.password.touched))),r.xp6(2),r.hij("",r.lcZ(32,18,"login.login")," "),r.xp6(5),r.hij("\xa0 ",r.lcZ(37,20,"login.loginGoogle"),""),r.xp6(4),r.hij("\xa0 ",r.lcZ(41,22,"login.loginFacebook"),""),r.xp6(5),r.hij("",r.lcZ(46,24,"login.forgetPassword"),"?"),r.xp6(4),r.hij("",r.lcZ(50,26,"login.create"),"!"))},directives:[_o,Tr,ts,Xt,dr,yi,Cs,Ga],pipes:[Ni],styles:[""]}),n})();function F3(n,t){if(1&n&&(r.TgZ(0,"div",28),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.hij(" ",e.msg," ")}}function V3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.nameRequired")," "))}function U3(n,t){if(1&n&&(r.TgZ(0,"div",29),r.YNc(1,V3,3,3,"div",30),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.required)}}function B3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.emailRequired")," "))}function H3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildMail")," "))}function j3(n,t){if(1&n&&(r.TgZ(0,"div",29),r.YNc(1,B3,3,3,"div",30),r.YNc(2,H3,3,3,"div",30),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email)}}function Z3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.passwordRequired")," "))}function q3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildPassword")," "))}function G3(n,t){if(1&n&&(r.TgZ(0,"div",29),r.YNc(1,Z3,3,3,"div",30),r.YNc(2,q3,3,3,"div",30),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null==e.password||null==e.password.errors?null:e.password.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.password||null==e.password.errors?null:e.password.errors.minLength)}}function $3(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.mobileRequired")," "))}function z3(n,t){if(1&n&&(r.TgZ(0,"div",29),r.YNc(1,$3,3,3,"div",30),r.qZA()),2&n){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",null==e.mobile||null==e.mobile.errors?null:e.mobile.errors.required)}}let W3=(()=>{class n{constructor(e,i){this._roter=e,this._userService=i,this.register=new Er({name:new on("",[un.required]),email:new on("",[un.required,un.email]),password:new on("",[un.required,un.minLength(6),un.maxLength(20)]),mobile:new on("",[un.required]),gender:new on("",[un.required])})}ngOnInit(){}get name(){return this.register.get("name")}get email(){return this.register.get("email")}get password(){return this.register.get("password")}get mobile(){return this.register.get("mobile")}get gender(){return this.register.get("gender")}handleSubmit(){this.register.valid&&this._userService.register(this.register.value).subscribe(e=>{e.apiStatus&&this._roter.navigateByUrl("user/login")},e=>{this.msg=e.error.data})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36($n),r.Y36(eo))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-register"]],decls:70,vars:48,consts:[[1,"container"],[1,"card","shadow-lg","o-hidden","border-0","my-5"],[1,"card-body","p-0"],[1,"row"],[1,"col-lg-5","d-none","d-lg-flex"],[1,"flex-grow-1","bg-register-image",2,"background-image",'url("assets/img/login.jpg")',"background-repeat","no-repeat","background-size","auto"],[1,"col-lg-7"],[1,"p-5"],[1,"text-center"],[1,"text-dark","mb-4"],[1,"user",3,"formGroup","ngSubmit"],["class","form-control-user alert alert-danger",4,"ngIf"],[1,"input-group","mb-3"],[1,"input-group-text","form-control-user"],["type","text","formControlName","name",1,"form-control","form-control-user",3,"placeholder"],["class","col-12 alert alert-danger form-control-user",4,"ngIf"],["type","email","placeholder","email@example.com","formControlName","email",1,"form-control","form-control-user"],["type","password","id","staticEmail","placeholder","******","formControlName","password",1,"form-control","form-control-user"],["type","text","placeholder","01234567890","formControlName","mobile",1,"form-control","form-control-user"],[1,"md-check","m-5"],["type","radio","value","female","name","gender","formControlName","gender"],["type","radio","value","male","name","gender","formControlName","gender"],["type","submit",1,"btn","btn-primary","d-block","btn-user","w-100"],["role","button",1,"btn","btn-primary","d-block","btn-google","btn-user","w-100","mb-2"],[1,"fab","fa-google"],["role","button",1,"btn","btn-primary","d-block","btn-facebook","btn-user","w-100"],[1,"fab","fa-facebook-f"],["routerLink","/user/login",1,"small"],[1,"form-control-user","alert","alert-danger"],[1,"col-12","alert","alert-danger","form-control-user"],[4,"ngIf"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),r._UZ(5,"div",5),r.qZA(),r.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"h4",9),r._uU(10),r.ALo(11,"translate"),r.qZA()(),r.TgZ(12,"form",10),r.NdJ("ngSubmit",function(){return i.handleSubmit()}),r.YNc(13,F3,2,1,"div",11),r.TgZ(14,"div",12)(15,"span",13),r._uU(16),r.ALo(17,"translate"),r.qZA(),r._UZ(18,"input",14),r.ALo(19,"translate"),r.YNc(20,U3,2,1,"div",15),r.qZA(),r.TgZ(21,"div",12)(22,"span",13),r._uU(23),r.ALo(24,"translate"),r.qZA(),r._UZ(25,"input",16),r.YNc(26,j3,3,2,"div",15),r.qZA(),r.TgZ(27,"div",12)(28,"span",13),r._uU(29),r.ALo(30,"translate"),r.qZA(),r._UZ(31,"input",17),r.YNc(32,G3,3,2,"div",15),r.qZA(),r.TgZ(33,"div",12)(34,"span",13),r._uU(35),r.ALo(36,"translate"),r.qZA(),r._UZ(37,"input",18),r.YNc(38,z3,2,1,"div",15),r.qZA(),r.TgZ(39,"div",12)(40,"span",13),r._uU(41),r.ALo(42,"translate"),r.qZA(),r.TgZ(43,"label",19),r._UZ(44,"input",20),r._uU(45),r.ALo(46,"translate"),r.qZA(),r.TgZ(47,"label",19),r._UZ(48,"input",21),r._uU(49),r.ALo(50,"translate"),r.qZA()(),r.TgZ(51,"div")(52,"button",22),r._uU(53),r.ALo(54,"translate"),r.qZA(),r._UZ(55,"hr"),r.TgZ(56,"a",23),r._UZ(57,"i",24),r._uU(58),r.ALo(59,"translate"),r.qZA(),r.TgZ(60,"a",25),r._UZ(61,"i",26),r._uU(62),r.ALo(63,"translate"),r.qZA(),r._UZ(64,"hr"),r.qZA()(),r.TgZ(65,"div",8)(66,"a",27),r._uU(67),r.ALo(68,"translate"),r.ALo(69,"translate"),r.qZA()()()()()()()()),2&e&&(r.xp6(10),r.hij("",r.lcZ(11,20,"login.create"),"!"),r.xp6(2),r.Q6J("formGroup",i.register),r.xp6(1),r.Q6J("ngIf",i.msg),r.xp6(3),r.Oqu(r.lcZ(17,22,"user.name")),r.xp6(2),r.s9C("placeholder",r.lcZ(19,24,"user.name")),r.xp6(2),r.Q6J("ngIf",(null==i.name?null:i.name.invalid)&&((null==i.name?null:i.name.dirty)||(null==i.name?null:i.name.touched))),r.xp6(3),r.hij(" ",r.lcZ(24,26,"user.email"),""),r.xp6(3),r.Q6J("ngIf",(null==i.email?null:i.email.invalid)&&((null==i.email?null:i.email.dirty)||(null==i.email?null:i.email.touched))),r.xp6(3),r.hij(" ",r.lcZ(30,28,"user.password"),""),r.xp6(3),r.Q6J("ngIf",(null==i.password?null:i.password.invalid)&&((null==i.password?null:i.password.dirty)||(null==i.password?null:i.password.touched))),r.xp6(3),r.hij(" ",r.lcZ(36,30,"user.mobile"),""),r.xp6(3),r.Q6J("ngIf",(null==i.mobile?null:i.mobile.invalid)&&((null==i.mobile?null:i.mobile.dirty)||(null==i.mobile?null:i.mobile.touched))),r.xp6(3),r.hij(" ",r.lcZ(42,32,"user.gender"),""),r.xp6(4),r.hij(" ",r.lcZ(46,34,"user.female")," "),r.xp6(4),r.hij(" ",r.lcZ(50,36,"user.male")," "),r.xp6(4),r.hij(" ",r.lcZ(54,38,"register.registerAccount"),""),r.xp6(5),r.hij("\xa0 ",r.lcZ(59,40,"register.registerGoogle"),""),r.xp6(4),r.hij("\xa0 ",r.lcZ(63,42,"register.registerFacebook"),""),r.xp6(5),r.AsE("",r.lcZ(68,44,"login.haveAccount"),"? ",r.lcZ(69,46,"login.login"),"!"))},directives:[_o,Tr,ts,Xt,dr,yi,Cs,Eu,Ga],pipes:[Ni],styles:[""]}),n})(),K3=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-about-us"]],decls:156,vars:72,consts:[[1,"bg-light"],[1,"container","py-5"],[1,"row","h-100","align-items-center","py-5"],[1,"col-lg-6"],[1,"display-4"],[1,"lead","text-muted","mb-0"],[1,"lead","text-muted"],["href","#",1,"text-muted"],[1,"col-lg-6","d-none","d-lg-block"],["src","https://res.cloudinary.com/mhmd/image/upload/v1556834136/illus_kftyh4.png","alt","",1,"img-fluid"],[1,"bg-white","py-5"],[1,"row","align-items-center","mb-5"],[1,"col-lg-6","order-2","order-lg-1"],[1,"fa","fa-bar-chart","fa-2x","mb-3","text-primary"],[1,"font-weight-light"],[1,"font-italic","text-muted","mb-4"],["href","#",1,"btn","btn-light","px-5","rounded-pill","shadow-sm"],[1,"col-lg-5","px-5","mx-auto","order-1","order-lg-2"],["src","https://res.cloudinary.com/mhmd/image/upload/v1556834139/img-1_e25nvh.jpg","alt","",1,"img-fluid","mb-4","mb-lg-0"],[1,"row","align-items-center"],[1,"col-lg-5","px-5","mx-auto"],["src","https://res.cloudinary.com/mhmd/image/upload/v1556834136/img-2_vdgqgn.jpg","alt","",1,"img-fluid","mb-4","mb-lg-0"],[1,"fa","fa-leaf","fa-2x","mb-3","text-primary"],[1,"bg-light","py-5"],[1,"row","mb-4"],[1,"col-lg-5"],[1,"display-4","font-weight-light"],[1,"font-italic","text-muted"],[1,"row","text-center"],[1,"col-xl-3","col-sm-6","mb-5"],[1,"bg-white","rounded","shadow-sm","py-5","px-4"],["src","../../../assets/img/avatars/boy.png","alt","","width","100",1,"img-fluid","rounded-circle","mb-3","img-thumbnail","shadow-sm"],[1,"mb-0"],[1,"small","text-uppercase","text-muted"],[1,"social","mb-0","list-inline","mt-3"],[1,"list-inline-item"],["href","#",1,"social-link"],["src","../../../assets/img/icons/facebook.png",1,"social-link_1"],["src","../../../assets/img/icons/linkedin.jpg",1,"social-link_1"],["src","../../../assets/img/avatars/girl.png","alt","","width","100",1,"img-fluid","rounded-circle","mb-3","img-thumbnail","shadow-sm"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"p",5),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"p",6),r._uU(11),r.ALo(12,"translate"),r.TgZ(13,"a",7)(14,"u"),r._uU(15),r.ALo(16,"translate"),r.qZA()()()(),r.TgZ(17,"div",8),r._UZ(18,"img",9),r.qZA()()()(),r.TgZ(19,"div",10)(20,"div",1)(21,"div",11)(22,"div",12),r._UZ(23,"i",13),r.TgZ(24,"h2",14),r._uU(25),r.ALo(26,"translate"),r.qZA(),r.TgZ(27,"p",15),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"a",16),r._uU(31),r.ALo(32,"translate"),r.qZA()(),r.TgZ(33,"div",17),r._UZ(34,"img",18),r.qZA()(),r.TgZ(35,"div",19)(36,"div",20),r._UZ(37,"img",21),r.qZA(),r.TgZ(38,"div",3),r._UZ(39,"i",22),r.TgZ(40,"h2",14),r._uU(41),r.ALo(42,"translate"),r.qZA(),r.TgZ(43,"p",15),r._uU(44),r.ALo(45,"translate"),r.qZA(),r.TgZ(46,"a",16),r._uU(47),r.ALo(48,"translate"),r.qZA()()()()(),r.TgZ(49,"div",23)(50,"div",1)(51,"div",24)(52,"div",25)(53,"h2",26),r._uU(54),r.ALo(55,"translate"),r.qZA(),r.TgZ(56,"p",27),r._uU(57),r.ALo(58,"translate"),r.qZA()()(),r.TgZ(59,"div",28)(60,"div",29)(61,"div",30),r._UZ(62,"img",31),r.TgZ(63,"h5",32),r._uU(64),r.ALo(65,"translate"),r.qZA(),r.TgZ(66,"span",33),r._uU(67),r.ALo(68,"translate"),r.qZA(),r.TgZ(69,"ul",34)(70,"li",35)(71,"a",36),r._UZ(72,"img",37),r.qZA()(),r.TgZ(73,"li",35)(74,"a",36),r._UZ(75,"img",38),r.qZA()()()()(),r.TgZ(76,"div",29)(77,"div",30),r._UZ(78,"img",31),r.TgZ(79,"h5",32),r._uU(80),r.ALo(81,"translate"),r.qZA(),r.TgZ(82,"span",33),r._uU(83),r.ALo(84,"translate"),r.qZA(),r.TgZ(85,"ul",34)(86,"li",35)(87,"a",36),r._UZ(88,"img",37),r.qZA()(),r.TgZ(89,"li",35)(90,"a",36),r._UZ(91,"img",38),r.qZA()()()()(),r.TgZ(92,"div",29)(93,"div",30),r._UZ(94,"img",39),r.TgZ(95,"h5",32),r._uU(96),r.ALo(97,"translate"),r.qZA(),r.TgZ(98,"span",33),r._uU(99),r.ALo(100,"translate"),r.qZA(),r.TgZ(101,"ul",34)(102,"li",35)(103,"a",36),r._UZ(104,"img",37),r.qZA()(),r.TgZ(105,"li",35)(106,"a",36),r._UZ(107,"img",38),r.qZA()()()()(),r.TgZ(108,"div",29)(109,"div",30),r._UZ(110,"img",39),r.TgZ(111,"h5",32),r._uU(112),r.ALo(113,"translate"),r.qZA(),r.TgZ(114,"span",33),r._uU(115),r.ALo(116,"translate"),r.qZA(),r.TgZ(117,"ul",34)(118,"li",35)(119,"a",36),r._UZ(120,"img",37),r.qZA()(),r.TgZ(121,"li",35)(122,"a",36),r._UZ(123,"img",38),r.qZA()()()()(),r.TgZ(124,"div",29)(125,"div",30),r._UZ(126,"img",39),r.TgZ(127,"h5",32),r._uU(128),r.ALo(129,"translate"),r.qZA(),r.TgZ(130,"span",33),r._uU(131),r.ALo(132,"translate"),r.qZA(),r.TgZ(133,"ul",34)(134,"li",35)(135,"a",36),r._UZ(136,"img",37),r.qZA()(),r.TgZ(137,"li",35)(138,"a",36),r._UZ(139,"img",38),r.qZA()()()()(),r.TgZ(140,"div",29)(141,"div",30),r._UZ(142,"img",39),r.TgZ(143,"h5",32),r._uU(144),r.ALo(145,"translate"),r.qZA(),r.TgZ(146,"span",33),r._uU(147),r.ALo(148,"translate"),r.qZA(),r.TgZ(149,"ul",34)(150,"li",35)(151,"a",36),r._UZ(152,"img",37),r.qZA()(),r.TgZ(153,"li",35)(154,"a",36),r._UZ(155,"img",38),r.qZA()()()()()()()()),2&e&&(r.xp6(5),r.Oqu(r.lcZ(6,24,"about.aboutUs")),r.xp6(3),r.hij(" ",r.lcZ(9,26,"about.ourGoals")," "),r.xp6(3),r.hij(" ",r.lcZ(12,28,"about.poweredBy")," "),r.xp6(4),r.Oqu(r.lcZ(16,30,"about.team")),r.xp6(10),r.hij(" ",r.lcZ(26,32,"about.questionIdea"),""),r.xp6(3),r.hij(" ",r.lcZ(29,34,"about.idea")," "),r.xp6(3),r.Oqu(r.lcZ(32,36,"about.showMore")),r.xp6(10),r.Oqu(r.lcZ(42,38,"about.questionBenefits")),r.xp6(3),r.Oqu(r.lcZ(45,40,"about.benefits")),r.xp6(3),r.Oqu(r.lcZ(48,42,"about.showMore")),r.xp6(7),r.Oqu(r.lcZ(55,44,"about.ourTeam")),r.xp6(3),r.Oqu(r.lcZ(58,46,"about.happyMsg")),r.xp6(7),r.hij("",r.lcZ(65,48,"about.Ahmed")," "),r.xp6(3),r.Oqu(r.lcZ(68,50,"about.backEnd")),r.xp6(13),r.Oqu(r.lcZ(81,52,"about.Hossam")),r.xp6(3),r.Oqu(r.lcZ(84,54,"about.frontEnd")),r.xp6(13),r.Oqu(r.lcZ(97,56,"about.Marwa")),r.xp6(3),r.Oqu(r.lcZ(100,58,"about.frontEnd")),r.xp6(13),r.Oqu(r.lcZ(113,60,"about.Magda")),r.xp6(3),r.Oqu(r.lcZ(116,62,"about.frontEnd")),r.xp6(13),r.Oqu(r.lcZ(129,64,"about.Yasmine")),r.xp6(3),r.Oqu(r.lcZ(132,66,"about.frontEnd")),r.xp6(13),r.Oqu(r.lcZ(145,68,"about.Fatma")),r.xp6(3),r.Oqu(r.lcZ(148,70,"about.backEnd")))},pipes:[Ni],styles:[".social-link[_ngcontent-%COMP%]{width:10px;height:10px;display:flex;align-items:center;justify-content:center;color:#666;border-radius:50%;transition:all .3s;font-size:.9rem;margin:5px}.social-link[_ngcontent-%COMP%]:hover, .social-link[_ngcontent-%COMP%]:focus{background:#ddd;text-decoration:none;color:#555;width:10px;height:10px}.social-link_1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%}"]}),n})();function Y3(n,t){if(1&n&&(r.TgZ(0,"option",26),r._uU(1),r.qZA()),2&n){const e=t.$implicit;r.Q6J("value",e.name),r.xp6(1),r.hij(" ",e.name," ")}}function Q3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",27)(1,"div",28)(2,"button",18),r.NdJ("click",function(){return r.CHM(e),r.oxw(2).showAddCategoryField()}),r._uU(3,"+"),r.qZA()()()}}function J3(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",9)(1,"div",20)(2,"label"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"div",21)(6,"select",22),r.NdJ("ngModelChange",function(s){return r.CHM(e),r.oxw().selectedCategory=s}),r.TgZ(7,"option",23),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.YNc(10,Y3,2,2,"option",24),r.qZA()(),r.YNc(11,Q3,4,0,"div",25),r.qZA()()}if(2&n){const e=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,6,"addNewProduct.Category")),r.xp6(3),r.Q6J("ngModel",e.selectedCategory),r.xp6(1),r.Q6J("ngValue",null),r.xp6(1),r.hij(" ",r.lcZ(9,8,"addNewProduct.chooseCategory")," "),r.xp6(2),r.Q6J("ngForOf",e.allCategories),r.xp6(1),r.Q6J("ngIf",e.isAdmin)}}function X3(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.Gre("alert alert-",e.alert,""),r.xp6(1),r.Oqu(e.msg)}}function eB(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",9)(1,"div",29)(2,"div",8)(3,"label",30),r._uU(4),r.ALo(5,"translate"),r.qZA(),r._UZ(6,"input",31),r.qZA(),r.TgZ(7,"div",8)(8,"label"),r._uU(9),r.ALo(10,"translate"),r.qZA(),r._UZ(11,"textarea",32,13),r.qZA(),r.TgZ(13,"div",1)(14,"div",33)(15,"button",18),r.NdJ("click",function(s){return r.CHM(e),r.oxw().addCategory(s)}),r._uU(16),r.ALo(17,"translate"),r.qZA(),r.TgZ(18,"button",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().cancelCategoryAddation()}),r._uU(19),r.ALo(20,"translate"),r.qZA()(),r._UZ(21,"div",27),r.YNc(22,X3,2,4,"div",19),r.qZA()()()}if(2&n){const e=r.oxw();r.xp6(4),r.Oqu(r.lcZ(5,5,"addNewProduct.Category")),r.xp6(5),r.Oqu(r.lcZ(10,7,"addNewProduct.Description")),r.xp6(7),r.Oqu(r.lcZ(17,9,"addNewProduct.addCategory")),r.xp6(3),r.Oqu(r.lcZ(20,11,"addNewProduct.cancel")),r.xp6(3),r.Q6J("ngIf",e.msg)}}function tB(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw();r.Gre("alert alert-",e.alert,""),r.xp6(1),r.Oqu(e.msg)}}const nB=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:S3},{path:"about",component:K3},{path:"contact",component:y3},{path:"user",children:[{path:"register",component:W3},{path:"login",component:L3},{path:"forgetPassword",component:o3},{path:"profile",component:jv,canActivate:[yS]}]},{path:"product/:id",component:Rc},{path:"add-new-ads",component:(()=>{class n{constructor(e){var i;this._productService=e,this.disableSubmit=!1,this.allCategories=[],this.addCategoryStatus=!1,this.images=[],this.cloudImages=[],this.uploadedFiles=[],this.isAdmin=!1,this.product=new Er({category:new Er({catName:new on("",[un.required]),catDescription:new on("")}),categoryName:new on("",[un.required]),p_name:new on("",[un.required]),p_description:new on("")}),this.isAdmin=!!(null===(i=JSON.parse(localStorage.getItem("user")))||void 0===i?void 0:i.isAdmin)}ngOnInit(){this.getAllCategories()}ngAfterContentChecked(){this.disableSubmit=!this.product.valid}get _getProduct(){var e,i;return{name:this.product.get("p_name").value,categoryName:this.product.get("categoryName").value,description:this.product.get("p_description").value,category:{name:null===(e=this.product.controls.category.get("catName"))||void 0===e?void 0:e.value,description:null===(i=this.product.controls.category.get("catDescription"))||void 0===i?void 0:i.value}}}onFileSelected(e){this.images.push(e.target.files[0])}getAllCategories(){this._productService.getAllCategories().subscribe(e=>{e.apiStatus&&(this.allCategories=e.data)},e=>{this.alert="danger",this.msg=e.error.msg,setTimeout(()=>{this.msg=""},2e3)})}showAddCategoryField(){this.addCategoryStatus=!0}cancelCategoryAddation(){this.addCategoryStatus=!1}addCategory(e){e.preventDefault(),this._productService.addCategory(this._getProduct.category).subscribe(i=>{i.apiStatus&&(this.alert="success",this.msg=i.msg,setTimeout(()=>{this.msg="",this.addCategoryStatus=!1,this.product.controls.category.get("catName").setValue(""),this.product.controls.category.get("catDescription").setValue(""),this.getAllCategories()},2e3))},i=>{this.alert="danger",this.msg=i.error.data,setTimeout(()=>{this.msg=""},2e3)})}addProduct(e){return e.preventDefault(),this._getProduct.name?this._getProduct.categoryName?void this._productService.addProduct(this._getProduct).subscribe(i=>{if(i.apiStatus){let s=this.images.length;for(let o of this.images)this._productService.uploadProductImagesCloud(o,i.data._id,s,(u,h)=>{if(!u&&(this.cloudImages.push(h),s--,0===s)){let g=i.data;g.images=this.cloudImages,this._productService.editProduct(g).subscribe(v=>{v.apiStatus&&(this.alert="success",this.msg=v.msg,setTimeout(()=>{this.msg="",this.product.controls.p_name.setValue(""),this.product.controls.categoryName.setValue(""),this.product.controls.p_description.setValue(""),this.product.controls.category.get("catName").setValue(""),this.product.controls.category.get("catDescription").setValue(""),this.images=[]},2e3))})}})}}):(this.alert="danger",this.msg="Please select an category!",void setTimeout(()=>{this.msg=""},2e3)):(this.alert="danger",this.msg="Product name required!",void setTimeout(()=>{this.msg=""},2e3))}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(El))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-add-new-product"]],decls:59,vars:31,consts:[[1,"container"],[1,"row","gutters"],[1,"col-xl-9","col-lg-9","col-md-12","col-sm-12","col-12"],[1,"card","h-100"],[1,"card-body",3,"formGroup"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"mb-2","text-primary","alert","alert-secondary"],["class","col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",4,"ngIf"],[1,"form-group"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],["for","name"],["type","text","id","name","placeholder","Name","formControlName","p_name",1,"form-control"],["rows","3","placeholder","Description for\n                                            product","maxlength","150","formControlName","p_description",1,"form-control"],["val",""],[1,"mb-3"],["for","image"],["type","file","accept","image/*","id","image",1,"form-control",3,"change"],[1,"text-center","m-3"],["type","button","id","submit","name","submit",1,"btn","btn-primary","ms-2",3,"click"],[3,"class",4,"ngIf"],[1,"row"],[1,"col-lg-11"],["formControlName","categoryName",1,"form-select",3,"ngModel","ngModelChange"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["class","col-lg-1",4,"ngIf"],[3,"value"],[1,"col-lg-1"],[1,"text-right"],["formGroupName","category",1,"form-group"],["for","Category"],["type","text","id","Category","placeholder","Category Name","formControlName","catName",1,"form-control"],["rows","3","placeholder","Description for category","maxlength","150","formControlName","catDescription",1,"form-control"],[1,"text-right","m-2"],["type","button","id","submit","name","submit",1,"btn","btn-warning","ms-2",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",1)(6,"div",5)(7,"h4",6),r._uU(8),r.ALo(9,"translate"),r.qZA()(),r.YNc(10,J3,12,10,"div",7),r.YNc(11,eB,23,13,"div",7),r.TgZ(12,"div",8)(13,"div",9)(14,"div",8)(15,"label",10),r._uU(16),r.ALo(17,"translate"),r.qZA(),r._UZ(18,"input",11),r.qZA()(),r.TgZ(19,"div",9)(20,"div",8)(21,"div",8)(22,"label"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r._UZ(25,"textarea",12,13),r.qZA()()(),r.TgZ(27,"div",9)(28,"div",14)(29,"label",15),r._uU(30),r.ALo(31,"translate"),r.qZA(),r.TgZ(32,"input",16),r.NdJ("change",function(o){return i.onFileSelected(o)}),r.qZA()(),r.TgZ(33,"div",14)(34,"label",15),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.TgZ(37,"input",16),r.NdJ("change",function(o){return i.onFileSelected(o)}),r.qZA()(),r.TgZ(38,"div",14)(39,"label",15),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.TgZ(42,"input",16),r.NdJ("change",function(o){return i.onFileSelected(o)}),r.qZA()(),r.TgZ(43,"div",14)(44,"label",15),r._uU(45),r.ALo(46,"translate"),r.qZA(),r.TgZ(47,"input",16),r.NdJ("change",function(o){return i.onFileSelected(o)}),r.qZA()(),r.TgZ(48,"div",14)(49,"label",15),r._uU(50),r.ALo(51,"translate"),r.qZA(),r.TgZ(52,"input",16),r.NdJ("change",function(o){return i.onFileSelected(o)}),r.qZA()()()()(),r.TgZ(53,"div",1)(54,"div",17)(55,"button",18),r.NdJ("click",function(o){return i.addProduct(o)}),r._uU(56),r.ALo(57,"translate"),r.qZA()(),r.YNc(58,tB,2,4,"div",19),r.qZA()()()()()()),2&e&&(r.xp6(4),r.Q6J("formGroup",i.product),r.xp6(4),r.Oqu(r.lcZ(9,13,"addNewProduct.addnewProduct")),r.xp6(2),r.Q6J("ngIf",!i.addCategoryStatus),r.xp6(1),r.Q6J("ngIf",i.addCategoryStatus),r.xp6(5),r.Oqu(r.lcZ(17,15,"addNewProduct.name")),r.xp6(7),r.Oqu(r.lcZ(24,17,"addNewProduct.Description")),r.xp6(7),r.hij("",r.lcZ(31,19,"addNewProduct.img1")," "),r.xp6(5),r.hij("",r.lcZ(36,21,"addNewProduct.img2")," "),r.xp6(5),r.hij("",r.lcZ(41,23,"addNewProduct.img3")," "),r.xp6(5),r.Oqu(r.lcZ(46,25,"addNewProduct.img4")),r.xp6(5),r.hij("",r.lcZ(51,27,"addNewProduct.img5")," "),r.xp6(6),r.Oqu(r.lcZ(57,29,"addNewProduct.save")),r.xp6(2),r.Q6J("ngIf",i.msg))},directives:[_o,Tr,ts,Xt,vo,yi,Cs,lc,hl,On,ac,dr,Su],pipes:[Ni],styles:[".account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{margin:0 0 1rem;padding-bottom:1rem;text-align:center}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{margin:0 0 1rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:100px}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h5.user-name[_ngcontent-%COMP%]{margin:0 0 .5rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h6.user-email[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:400;color:#9fa8b9}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{margin:2rem 0 0;text-align:center}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 15px;color:#007ae1}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.825rem}.form-control[_ngcontent-%COMP%]{color:#249c06;font-weight:700}.card[_ngcontent-%COMP%]{background:#ffffff;border-radius:5px;border:0;box-shadow:2px 2px 2px 2px #03700c}.container[_ngcontent-%COMP%]{margin-bottom:12rem;margin-top:1.4rem;text-align:center;padding:50px;border-radius:25px;box-shadow:2px 2px 2px 2px #03700c}"]}),n})(),canActivate:[yS]},{path:"my-ads",component:Yk,canActivate:[yS]},{path:"search/:search_term",component:pS},{path:"activationError",component:Zv},{path:"dashboard",component:KC,canActivate:[jx]},{path:"**",component:a3}];let iB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Zg.forRoot(nB)],Zg]}),n})(),lB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn],mn]}),n})();function cB(n,t){1&n&&(r.TgZ(0,"li",6)(1,"a",22),r._uU(2),r.ALo(3,"translate"),r.qZA()()),2&n&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"nav.Login")))}function uB(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().changeLang("ar")}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"nav.ar")))}function dB(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"a",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().changeLang("en")}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&n&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"nav.en")))}function hB(n,t){1&n&&(r.TgZ(0,"li")(1,"a",33),r._uU(2),r.ALo(3,"translate"),r.qZA()()),2&n&&(r.xp6(2),r.Oqu(r.lcZ(3,1,"nav.Dashboard")))}function pB(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",24)(1,"a",25),r._UZ(2,"img",26),r.qZA(),r.TgZ(3,"ul",27)(4,"h3",28),r._uU(5),r.qZA(),r.TgZ(6,"li")(7,"a",29),r._uU(8),r.ALo(9,"translate"),r.qZA()(),r.TgZ(10,"li")(11,"a",30),r._uU(12),r.ALo(13,"translate"),r.qZA()(),r.YNc(14,hB,4,3,"li",31),r.TgZ(15,"li")(16,"a",32),r.NdJ("click",function(s){return r.CHM(e),r.oxw().logout(s)}),r._uU(17),r.ALo(18,"translate"),r.qZA()()()()}if(2&n){const e=r.oxw();r.xp6(2),r.s9C("src",e.getProfileIamge,r.LSH),r.xp6(3),r.hij(" ",null==e.user?null:e.user.name,""),r.xp6(3),r.Oqu(r.lcZ(9,6,"nav.Profile")),r.xp6(4),r.Oqu(r.lcZ(13,8,"nav.myAds")),r.xp6(2),r.Q6J("ngIf",e.isAdmin),r.xp6(3),r.Oqu(r.lcZ(18,10,"nav.Logout"))}}let fB=(()=>{class n{constructor(e,i,s){this._route=e,this._userService=i,this.translate=s,this.counter=0,this.searchForm=new Er({search:new on("")}),this.user=JSON.parse(localStorage.getItem("user"))}get isAdmin(){var e;return!!(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.isAdmin)}get isLogin(){return!!localStorage.getItem("user")}get lang(){return localStorage.getItem("lang")||"en"}get getProfileIamge(){return JSON.parse(localStorage.getItem("user")).image||"../../../../assets/img/avatars/profile.png"}changeLang(e){localStorage.setItem("lang",e),this.translate.use(e)}get search_term(){var e;return null===(e=this.searchForm.get("search"))||void 0===e?void 0:e.value}handleSearch(){""!=this.search_term&&window.location.assign(`/search/${this.search_term}`)}ngAfterContentChecked(){}logout(e){e.preventDefault(),confirm("Are you sure to logout!")&&this._userService.logout().subscribe(i=>{i.apiStatus&&(localStorage.removeItem("user"),localStorage.removeItem("token"),this._route.navigateByUrl("user/login"))})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(r.Y36($n),r.Y36(eo),r.Y36(sd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-navbar"]],decls:37,vars:23,consts:[[1,"navbar","navbar-expand-lg","navbar","fixed-top","navbar"],[1,"container"],["routerLink","/",1,"navbar-brand","waves-effect"],[1,"logo"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"d-flex","flex-row","bd-highlight","mb-2","unlisted"],[1,"nav-item","bd-highlight","list-unstyled"],["routerLink","/about",1,"nav-link","waves-effect"],["routerLink","/contact",1,"nav-link","waves-effect"],["routerLink","/add-new-ads",1,"nav-link","waves-effect"],["class","nav-item bd-highlight list-unstyled",4,"ngIf"],[1,"nav-item","bd-highlight","list-unstyled",2,"cursor","pointer"],["class","nav-link\n            waves-effect",3,"click",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],[1,"d-flex","mr-auto",3,"formGroup","ngSubmit"],["type","search","aria-label","Search","formControlName","search",1,"form-control","me-2",3,"placeholder"],["type","submit",1,"btn","btn-outline-success"],["class","nav-item dropdown pl-2 mb-2 mb-md-0 d-flex me-2",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","m-2"],[1,"navbar-toggler-icon"],[1,"fas","fa-sliders-h",2,"color","rgb(186, 187, 189)"],["routerLink","user/login",1,"nav-link","waves-effect"],[1,"nav-link","waves-effect",3,"click"],[1,"nav-item","dropdown","pl-2","mb-2","mb-md-0","d-flex","me-2"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"profileImage",3,"src"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","text-center"],[2,"color","rgb(71, 61, 4)","font-weight","bold"],["routerLink","user/profile",1,"dropdown-item",2,"cursor","pointer"],["routerLink","my-ads",1,"dropdown-item",2,"cursor","pointer"],[4,"ngIf"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["routerLink","dashboard",1,"dropdown-item",2,"cursor","pointer"]],template:function(e,i){1&e&&(r.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"strong",3),r._uU(4),r.ALo(5,"translate"),r.qZA()(),r.TgZ(6,"div",4)(7,"ul",5)(8,"li",6)(9,"a",7),r._uU(10),r.ALo(11,"translate"),r.qZA()(),r.TgZ(12,"li",6)(13,"a",8),r._uU(14),r.ALo(15,"translate"),r.qZA()(),r.TgZ(16,"li",6)(17,"a",9),r._uU(18),r.ALo(19,"translate"),r.qZA()(),r.YNc(20,cB,4,3,"li",10),r.TgZ(21,"li",11),r.YNc(22,uB,3,3,"a",12),r.YNc(23,dB,3,3,"a",12),r.qZA()(),r.TgZ(24,"div",13)(25,"div",14)(26,"form",15),r.NdJ("ngSubmit",function(){return i.handleSearch()}),r._UZ(27,"input",16),r.ALo(28,"translate"),r.TgZ(29,"button",17),r._uU(30),r.ALo(31,"translate"),r.qZA()()()()(),r.TgZ(32,"div",14),r.YNc(33,pB,19,12,"div",18),r.qZA(),r.TgZ(34,"button",19)(35,"span",20),r._UZ(36,"i",21),r.qZA()()()()),2&e&&(r.xp6(4),r.Oqu(r.lcZ(5,11,"Logo")),r.xp6(6),r.hij("",r.lcZ(11,13,"nav.aboutUs")," "),r.xp6(4),r.hij("",r.lcZ(15,15,"nav.Contact")," "),r.xp6(4),r.hij("",r.lcZ(19,17,"nav.Add")," "),r.xp6(2),r.Q6J("ngIf",!i.isLogin),r.xp6(2),r.Q6J("ngIf","en"===i.lang),r.xp6(1),r.Q6J("ngIf","ar"===i.lang),r.xp6(3),r.Q6J("formGroup",i.searchForm),r.xp6(1),r.s9C("placeholder",r.lcZ(28,19,"nav.Search")),r.xp6(3),r.Oqu(r.lcZ(31,21,"nav.Search")),r.xp6(3),r.Q6J("ngIf",i.isLogin))},directives:[Ga,Xt,_o,Tr,ts,dr,yi,Cs],pipes:[Ni],styles:[".navbar[_ngcontent-%COMP%]{background-color:#deffe4;opacity:.8}.fixed-top[_ngcontent-%COMP%]{height:60px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{background-color:#a2d9c2}.dropdown-item[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width: 993px){.navbar[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-fluid[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-sm[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-md[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-lg[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xl[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xxl[_ngcontent-%COMP%]{background-color:#333}.flex-row[_ngcontent-%COMP%]{flex-direction:column!important}}.nav-link[_ngcontent-%COMP%]{color:#068f61;font-size:28px;margin-top:10px;padding:20px;font-weight:700;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.nav-link[_ngcontent-%COMP%]:hover{color:#c98c08}.profileImage[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:25px}.logo[_ngcontent-%COMP%]{font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:700;color:#069e78;text-shadow:1px 1px #b3b1b1}.logo[_ngcontent-%COMP%]:hover{font-size:30px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:700;color:#a6cec4}.cartSpan[_ngcontent-%COMP%]{width:40px;height:40px}@media screen and (min-width: 991px){.counter[_ngcontent-%COMP%]{position:absolute;top:35%}}"]}),n})();function gB(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.nameRequired")," "))}function mB(n,t){if(1&n&&(r.TgZ(0,"div",17),r.YNc(1,gB,3,3,"div",18),r.qZA()),2&n){const e=r.oxw(2);let i;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("name"))?null:i.errors.required)}}function _B(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.emailRequired")," "))}function yB(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.invaildMail")," "))}function vB(n,t){if(1&n&&(r.TgZ(0,"div",17),r.YNc(1,_B,3,3,"div",18),r.YNc(2,yB,3,3,"div",18),r.qZA()),2&n){const e=r.oxw(2);let i,s;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("email"))?null:i.errors.required),r.xp6(1),r.Q6J("ngIf",null==(s=e.contactForm.get("email"))?null:s.errors.email)}}function bB(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.subjectRequired")," "))}function wB(n,t){if(1&n&&(r.TgZ(0,"div",17),r.YNc(1,bB,3,3,"div",18),r.qZA()),2&n){const e=r.oxw(2);let i;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("sub"))?null:i.errors.required)}}function CB(n,t){1&n&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"warning.messageRequired")," "))}function IB(n,t){if(1&n&&(r.TgZ(0,"div",17),r.YNc(1,CB,3,3,"div",18),r.qZA()),2&n){const e=r.oxw(2);let i;r.xp6(1),r.Q6J("ngIf",null==(i=e.contactForm.get("message"))?null:i.errors.required)}}function TB(n,t){if(1&n&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&n){const e=r.oxw(2);r.Gre("alert alert-",e.alert,""),r.xp6(1),r.Oqu(e.msg)}}function EB(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"div",3)(1,"i",4),r.NdJ("click",function(){return r.CHM(e),r.oxw().closeChatForm()}),r.qZA(),r.TgZ(2,"form",5),r.NdJ("ngSubmit",function(){return r.CHM(e),r.oxw().handleSendMessgae()}),r.TgZ(3,"div",6)(4,"div",7),r._UZ(5,"input",8),r.ALo(6,"translate"),r.YNc(7,mB,2,1,"div",9),r.qZA(),r.TgZ(8,"div",10),r._UZ(9,"input",11),r.YNc(10,vB,3,2,"div",9),r.qZA()(),r.TgZ(11,"div",12),r._UZ(12,"input",13),r.ALo(13,"translate"),r.YNc(14,wB,2,1,"div",9),r.qZA(),r.TgZ(15,"div",12),r._UZ(16,"textarea",14),r.ALo(17,"translate"),r.YNc(18,IB,2,1,"div",9),r.qZA(),r.TgZ(19,"button",15),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.YNc(22,TB,2,4,"div",16),r.qZA()()}if(2&n){const e=r.oxw();let i,s,o,u;r.xp6(2),r.Q6J("formGroup",e.contactForm),r.xp6(3),r.MGl("placeholder"," ",r.lcZ(6,10,"user.name"),""),r.xp6(2),r.Q6J("ngIf",(null==(i=e.contactForm.get("name"))?null:i.invalid)&&((null==(i=e.contactForm.get("name"))?null:i.dirty)||(null==(i=e.contactForm.get("name"))?null:i.touched))),r.xp6(3),r.Q6J("ngIf",(null==(s=e.contactForm.get("email"))?null:s.invalid)&&((null==(s=e.contactForm.get("email"))?null:s.dirty)||(null==(s=e.contactForm.get("email"))?null:s.touched))),r.xp6(2),r.MGl("placeholder"," ",r.lcZ(13,12,"mail.subject"),""),r.xp6(2),r.Q6J("ngIf",(null==(o=e.contactForm.get("sub"))?null:o.invalid)&&((null==(o=e.contactForm.get("sub"))?null:o.dirty)||(null==(o=e.contactForm.get("sub"))?null:o.touched))),r.xp6(2),r.s9C("placeholder",r.lcZ(17,14,"mail.message")),r.xp6(2),r.Q6J("ngIf",(null==(u=e.contactForm.get("message"))?null:u.invalid)&&((null==(u=e.contactForm.get("message"))?null:u.dirty)||(null==(u=e.contactForm.get("message"))?null:u.touched))),r.xp6(2),r.Oqu(r.lcZ(21,16,"mail.send")),r.xp6(2),r.Q6J("ngIf",e.msg)}}function xB(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"img",19),r.NdJ("click",function(){return r.CHM(e),r.oxw().openChatForm()}),r.qZA()}}let DB=(()=>{class n{constructor(e){this._user=e,this.chatFormStatus=!1,this.contactForm=new Er({name:new on("",un.required),email:new on("",[un.required,un.email]),sub:new on("",un.required),message:new on("",un.required)})}get _contactData(){return this.contactForm.value}ngOnInit(){}handleSendMessgae(){this.contactForm.valid&&this._user.contactMessage(this._contactData).subscribe(e=>{e.apiStatus&&(this.alert="success",this.msg=e.msg,setTimeout(()=>{this.msg=""},2e3))},e=>{this.alert="danger",this.msg=e.error.msg,setTimeout(()=>{this.msg=""},2e3)})}openChatForm(){this.chatFormStatus=!0}closeChatForm(){this.chatFormStatus=!1}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(eo))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-chat"]],decls:3,vars:2,consts:[[1,"chat"],["class","chat-form",4,"ngIf"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Circle-icons-chat.svg/1024px-Circle-icons-chat.svg.png","class","chat-icon",3,"click",4,"ngIf"],[1,"chat-form"],[1,"fa","fa-arrow-down",3,"click"],[1,"form-group","m-5","text-center",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","form-group"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],["class","col-12 alert alert-danger form-control-user",4,"ngIf"],[1,"col-md-6","form-group","mt-3","mt-md-0"],["type","email","placeholder","example@gmail.com","formControlName","email",1,"form-control"],[1,"form-group","mt-3"],["type","text","formControlName","sub",1,"form-control",3,"placeholder"],["rows","5","formControlName","message",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-primary","m-2"],[3,"class",4,"ngIf"],[1,"col-12","alert","alert-danger","form-control-user"],[4,"ngIf"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Circle-icons-chat.svg/1024px-Circle-icons-chat.svg.png",1,"chat-icon",3,"click"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,EB,23,18,"div",1),r.YNc(2,xB,1,0,"img",2),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",i.chatFormStatus),r.xp6(1),r.Q6J("ngIf",!i.chatFormStatus))},directives:[Xt,_o,Tr,ts,dr,yi,Cs],pipes:[Ni],styles:[".chat-icon[_ngcontent-%COMP%]{position:fixed;top:75%;right:15px;max-width:50px;max-height:50px;cursor:pointer}.chat-form[_ngcontent-%COMP%]{position:fixed;top:40%;right:15px;z-index:999999;width:400px;height:400px;border-radius:25px;box-shadow:2px 2px 2px 2px #c0bebe;background-color:#079632}.fa-arrow-down[_ngcontent-%COMP%]{position:absolute;top:5px;right:46%;cursor:pointer;padding:5px;color:#458603;background-color:#f0f8ff;border-radius:100%;transition:.5s}.fa-arrow-down[_ngcontent-%COMP%]:hover{background-color:#35a707;color:#af9e06}@media screen and (max-width: 792px){.chat-form[_ngcontent-%COMP%]{position:fixed;top:30%;right:15px}.chat-icon[_ngcontent-%COMP%]{position:fixed;top:75%;right:15px}}"]}),n})(),SB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"bg-dark","sticky-footer"],[1,"container","my-auto"],[1,"text-center","my-auto","copyright"]],template:function(e,i){1&e&&(r.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"span"),r._uU(4,"Copyright \xa9 Fadel Zad 2022"),r.qZA()()()())},styles:[".sticky-footer[_ngcontent-%COMP%]{margin-top:600px}"]}),n})();function AB(n,t){1&n&&(r.TgZ(0,"div",1)(1,"div",2),r._UZ(2,"div",3)(3,"div",3)(4,"div",3)(5,"div",3)(6,"div",3)(7,"div",3),r.qZA()())}let PB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-loading-page"]],inputs:{screenLoading:"screenLoading"},decls:1,vars:1,consts:[["class","screen-loding",4,"ngIf"],[1,"screen-loding"],[1,"sk-chase"],[1,"sk-chase-dot"]],template:function(e,i){1&e&&r.YNc(0,AB,8,0,"div",0),2&e&&r.Q6J("ngIf",i.screenLoading)},directives:[Xt],styles:['.screen-loding[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:99999}.sk-chase[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;top:50%;left:50%;animation:sk-chase 2.5s infinite linear both}.sk-chase-dot[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;animation:sk-chase-dot 2s infinite ease-in-out both}.sk-chase-dot[_ngcontent-%COMP%]:before{content:"";display:block;width:25%;height:25%;background-color:#a30808;border-radius:100%;animation:sk-chase-dot-before 2s infinite ease-in-out both}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(1){animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.6s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(1):before{animation-delay:-1.1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-.9s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.8s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.7s}.sk-chase-dot[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.6s}@keyframes sk-chase{to{transform:rotate(360deg)}}@keyframes sk-chase-dot{80%,to{transform:rotate(360deg)}}@keyframes sk-chase-dot-before{50%{transform:scale(.4)}to,0%{transform:scale(1)}}']}),n})();function OB(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",2),r.NdJ("click",function(s){return r.CHM(e),r.oxw().goUpHandler(s)}),r._UZ(1,"i",3),r.qZA()}}let MB=(()=>{class n{constructor(e,i,s){this._user=e,this._route=i,this.screenLoading=!0,this.title="FadlZad",this.arrowStatus=!0,this.goUpHandler=o=>{o.preventDefault();let u=window.pageYOffset;window.scrollTo(0,u=0)},s.setDefaultLang(localStorage.getItem("lang")||"en"),this._user.getUser().subscribe(o=>{if(o.apiStatus){let u=o.data._user;"adf0c9ad82601330d46ec62a"===o.data.role&&(u=Object.assign({isAdmin:!0},u)),delete u.role,localStorage.setItem("user",JSON.stringify(u)),this._user.profileImage=o.data.image}},o=>{this._route.navigateByUrl("/user/login")}),window.onscroll=()=>{this.arrowStatus=window.pageYOffset>200}}ngAfterViewInit(){setTimeout(()=>{this.screenLoading=!1},1e3)}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(eo),r.Y36($n),r.Y36(sd))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-root"]],outputs:{screenLoading:"screenLoading"},decls:6,vars:2,consts:[["class","border rounded d-inline mb-5 scroll-to-top","style","display:block; z-index:999; transition: 1.5s;cursor: pointer;",3,"click",4,"ngIf"],[3,"screenLoading"],[1,"border","rounded","d-inline","mb-5","scroll-to-top",2,"display","block","z-index","999","transition","1.5s","cursor","pointer",3,"click"],[1,"fas","fa-angle-up"]],template:function(e,i){1&e&&(r._UZ(0,"app-navbar")(1,"app-chat")(2,"router-outlet"),r.YNc(3,OB,2,0,"span",0),r._UZ(4,"app-footer")(5,"app-loading-page",1)),2&e&&(r.xp6(3),r.Q6J("ngIf",i.arrowStatus),r.xp6(2),r.Q6J("screenLoading",i.screenLoading))},directives:[fB,DB,Pc,Xt,SB,PB],styles:[""]}),n})();const bn=!1;function iR(n){return new r.vHH(3e3,bn)}function p6(){return"undefined"!=typeof window&&void 0!==window.document}function vS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wd(n){switch(n.length){case 0:return new yd;case 1:return n[0];default:return new TI(n)}}function rR(n,t,e,i,s={},o={}){const u=[],h=[];let g=-1,v=null;if(i.forEach(I=>{const E=I.offset,O=E==g,M=O&&v||{};Object.keys(I).forEach(V=>{let X=V,ie=I[V];if("offset"!==V)switch(X=t.normalizePropertyName(X,u),ie){case"!":ie=s[V];break;case pa:ie=o[V];break;default:ie=t.normalizeStyleValue(V,X,ie,u)}M[X]=ie}),O||h.push(M),v=M,g=E}),u.length)throw function t6(n){return new r.vHH(3502,bn)}();return h}function bS(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&wS(e,"start",n)));break;case"done":n.onDone(()=>i(e&&wS(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&wS(e,"destroy",n)))}}function wS(n,t,e){const i=e.totalTime,o=CS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function CS(n,t,e,i,s="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:o,disabled:!!u}}function Po(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function sR(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let IS=(n,t)=>!1,oR=(n,t,e)=>[],aR=null;function TS(n){const t=n.parentNode||n.host;return t===aR?null:t}(vS()||"undefined"!=typeof Element)&&(p6()?(aR=(()=>document.documentElement)(),IS=(n,t)=>{for(;t;){if(t===n)return!0;t=TS(t)}return!1}):IS=(n,t)=>n.contains(t),oR=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let lp=null,lR=!1;function cR(n){lp||(lp=function g6(){return"undefined"!=typeof document?document.body:null}()||{},lR=!!lp.style&&"WebkitAppearance"in lp.style);let t=!0;return lp.style&&!function f6(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lp.style,!t&&lR&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lp.style)),t}const uR=IS,dR=oR;let hR=(()=>{class n{validateStyleProperty(e){return cR(e)}matchesElement(e,i){return!1}containsElement(e,i){return uR(e,i)}getParentElement(e){return TS(e)}query(e,i,s){return dR(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,o,u,h=[],g){return new yd(s,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),ES=(()=>{class n{}return n.NOOP=new hR,n})();const xS="ng-enter",YI="ng-leave",QI="ng-trigger",JI=".ng-trigger",fR="ng-animating",DS=".ng-animating";function cp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:SS(parseFloat(t[1]),t[2])}function SS(n,t){return"s"===t?1e3*n:n}function XI(n,t,e){return n.hasOwnProperty("duration")?n:function y6(n,t,e){let s,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(iR()),{duration:0,delay:0,easing:""};s=SS(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=SS(parseFloat(g),h[4]));const v=h[5];v&&(u=v)}else s=n;if(!e){let h=!1,g=t.length;s<0&&(t.push(function kB(){return new r.vHH(3100,bn)}()),h=!0),o<0&&(t.push(function RB(){return new r.vHH(3101,bn)}()),h=!0),h&&t.splice(g,0,iR())}return{duration:s,delay:o,easing:u}}(n,t,e)}function dm(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Cd(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else dm(n,e);return e}function mR(n,t,e){return e?t+":"+e+";":""}function _R(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=mR(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=mR(0,w6(e),n.style[e]));n.setAttribute("style",t)}function Sl(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=PS(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),vS()&&_R(n))}function up(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=PS(e);n.style[i]=""}),vS()&&_R(n))}function zv(n){return Array.isArray(n)?1==n.length?n[0]:pv(n):n}const AS=new RegExp("{{\\s*(.+?)\\s*}}","g");function yR(n){let t=[];if("string"==typeof n){let e;for(;e=AS.exec(n);)t.push(e[1]);AS.lastIndex=0}return t}function eT(n,t,e){const i=n.toString(),s=i.replace(AS,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function LB(n){return new r.vHH(3003,bn)}()),h=""),h.toString()});return s==i?n:s}function tT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const b6=/-+([a-z0-9])/g;function PS(n){return n.replace(b6,(...t)=>t[1].toUpperCase())}function w6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Oo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function FB(n){return new r.vHH(3004,bn)}()}}function vR(n,t){return window.getComputedStyle(n)[t]}function D6(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function S6(n,t,e){if(":"==n[0]){const g=function A6(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function QB(n){return new r.vHH(3016,bn)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function YB(n){return new r.vHH(3015,bn)}()),t;const s=i[1],o=i[2],u=i[3];t.push(bR(s,u));"<"==o[0]&&!("*"==s&&"*"==u)&&t.push(bR(u,s))}(i,e,t)):e.push(n),e}const sT=new Set(["true","1"]),oT=new Set(["false","0"]);function bR(n,t){const e=sT.has(n)||oT.has(n),i=sT.has(t)||oT.has(t);return(s,o)=>{let u="*"==n||n==s,h="*"==t||t==o;return!u&&e&&"boolean"==typeof s&&(u=s?sT.has(n):oT.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?sT.has(t):oT.has(t)),u&&h}}const P6=new RegExp("s*:selfs*,?","g");function OS(n,t,e,i){return new O6(n).build(t,e,i)}class O6{constructor(t){this._driver=t}build(t,e,i){const s=new R6(e);this._resetContextStyleTimingState(s);const o=Oo(this,zv(t),s);return s.unsupportedCSSPropertiesFound.size&&s.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function UB(){return new r.vHH(3006,bn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(I=>{g.name=I,o.push(this.visitState(g,e))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,e);i+=g.queryCount,s+=g.depCount,u.push(g)}else e.errors.push(function BB(){return new r.vHH(3007,bn)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=s||{};i.styles.forEach(h=>{if(aT(h)){const g=h;Object.keys(g).forEach(v=>{yR(g[v]).forEach(I=>{u.hasOwnProperty(I)||o.add(I)})})}}),o.size&&(tT(o.values()),e.errors.push(function HB(n,t){return new r.vHH(3008,bn)}()))}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Oo(this,zv(t.animation),e);return{type:1,matchers:D6(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:dp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Oo(this,i,e)),options:dp(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Oo(this,u,e);return s=Math.max(s,e.currentTime),h});return e.currentTime=s,{type:3,steps:o,options:dp(t.options)}}visitAnimate(t,e){const i=function L6(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return MS(XI(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=MS(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||XI(i,t),MS(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,o=t.styles?t.styles:_d({});if(5==o.type)s=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=_d(v)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=h,s=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==pa?i.push(u):e.errors.push(function jB(n){return new r.vHH(3002,bn)}()):i.push(u)}):i.push(t.styles);let s=!1,o=null;return i.forEach(u=>{if(aT(u)){const h=u,g=h.easing;if(g&&(o=g,delete h.easing),!s)for(let v in h)if(h[v].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const g=e.collectedStyles[e.currentQuerySelector],v=g[h];let I=!0;v&&(o!=s&&o>=v.startTime&&s<=v.endTime&&(e.errors.push(function ZB(n,t,e,i,s){return new r.vHH(3010,bn)}()),I=!1),o=v.startTime),I&&(g[h]={startTime:o,endTime:s}),e.options&&function v6(n,t,e){const i=t.params||{},s=yR(n);s.length&&s.forEach(o=>{i.hasOwnProperty(o)||e.push(function NB(n){return new r.vHH(3001,bn)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function qB(){return new r.vHH(3011,bn)}()),i;let o=0;const u=[];let h=!1,g=!1,v=0;const I=t.steps.map(Be=>{const tt=this._makeStyleAst(Be,e);let nt=null!=tt.offset?tt.offset:function N6(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(aT(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(aT(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(tt.styles),Je=0;return null!=nt&&(o++,Je=tt.offset=nt),g=g||Je<0||Je>1,h=h||Je<v,v=Je,u.push(Je),tt});g&&e.errors.push(function GB(){return new r.vHH(3012,bn)}()),h&&e.errors.push(function $B(){return new r.vHH(3200,bn)}());const E=t.steps.length;let O=0;o>0&&o<E?e.errors.push(function zB(){return new r.vHH(3202,bn)}()):0==o&&(O=1/(E-1));const M=E-1,V=e.currentTime,X=e.currentAnimateTimings,ie=X.duration;return I.forEach((Be,tt)=>{const nt=O>0?tt==M?1:O*tt:u[tt],Je=nt*ie;e.currentTime=V+X.delay+Je,X.duration=Je,this._validateStyleAst(Be,e),Be.offset=nt,i.styles.push(Be)}),i}visitReference(t,e){return{type:8,animation:Oo(this,zv(t.animation),e),options:dp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function M6(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(P6,"")),n=n.replace(/@\*/g,JI).replace(/@\w+/g,e=>JI+"-"+e.substr(1)).replace(/:animating/g,DS),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Po(e.collectedStyles,e.currentQuerySelector,{});const h=Oo(this,zv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:dp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function WB(){return new r.vHH(3013,bn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:XI(t.timings,e.errors,!0);return{type:12,animation:Oo(this,zv(t.animation),e),timings:i,options:null}}}class R6{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function aT(n){return!Array.isArray(n)&&"object"==typeof n}function dp(n){return n?(n=dm(n)).params&&(n.params=function k6(n){return n?dm(n):null}(n.params)):n={},n}function MS(n,t,e){return{duration:n,delay:t,easing:e}}function kS(n,t,e,i,s,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:u,subTimeline:h}}class lT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const U6=new RegExp(":enter","g"),H6=new RegExp(":leave","g");function RS(n,t,e,i,s,o={},u={},h,g,v=[]){return(new j6).buildKeyframes(n,t,e,i,s,o,u,h,g,v)}class j6{buildKeyframes(t,e,i,s,o,u,h,g,v,I=[]){v=v||new lT;const E=new NS(t,e,v,s,o,I,[]);E.options=g,E.currentTimeline.setStyles([u],null,E.errors,g),Oo(this,i,E);const O=E.timelines.filter(M=>M.containsAnimation());if(Object.keys(h).length){let M;for(let V=O.length-1;V>=0;V--){const X=O[V];if(X.element===e){M=X;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([h],null,E.errors,g)}return O.length?O.map(M=>M.buildKeyframes()):[kS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,s,s.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?cp(i.duration):null,h=null!=i.delay?cp(i.delay):null;return 0!==u&&t.forEach(g=>{const v=e.appendInstructionToTimeline(g,u,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Oo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const o=t.options;if(o&&(o.params||o.delay)&&(s=e.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=cT);const u=cp(o.delay);s.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Oo(this,u,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?cp(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Oo(this,u,h),s=Math.max(s,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return XI(e.params?eT(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(s+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},o=s.delay?cp(s.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cT);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((v,I)=>{e.currentQueryIndex=I;const E=e.createSubContext(t.options,v);o&&E.delayNextStep(o),v===e.element&&(g=E.currentTimeline),Oo(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const I=e.currentTimeline;g&&I.delayNextStep(g);const E=I.currentTime;Oo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-E+(s.startTime-i.currentTimeline.startTime)}}const cT={};class NS{constructor(t,e,i,s,o,u,h,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new uT(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=cp(i.duration)),null!=i.delay&&(s.delay=cp(i.delay));const o=i.params;if(o){let u=s.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=eT(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,o=new NS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=cT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new Z6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,o,u){let h=[];if(s&&h.push(this.element),t.length>0){t=(t=t.replace(U6,"."+this._enterClassName)).replace(H6,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&u.push(function KB(n){return new r.vHH(3014,bn)}()),h}}class uT{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||pa,this._currentKeyframe[e]=pa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const o=s&&s.params||{},u=function q6(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(o=>{e[o]=pa})):Cd(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const g=eT(u[h],o,i);this._pendingStyles[h]=g,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:pa),this._updateStyle(h,g)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((h,g)=>{const v=Cd(h,!0);Object.keys(v).forEach(I=>{const E=v[I];"!"==E?t.add(I):E==pa&&e.add(I)}),i||(v.offset=g/this.duration),s.push(v)});const o=t.size?tT(t.values()):[],u=e.size?tT(e.values()):[];if(i){const h=s[0],g=dm(h);h.offset=0,g.offset=1,s=[h,g]}return kS(this.element,s,o,u,this.duration,this.startTime,this.easing,!1)}}class Z6 extends uT{constructor(t,e,i,s,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,g=Cd(t[0],!1);g.offset=0,o.push(g);const v=Cd(t[0],!1);v.offset=IR(h),o.push(v);const I=t.length-1;for(let E=1;E<=I;E++){let O=Cd(t[E],!1);O.offset=IR((e+O.offset*i)/u),o.push(O)}i=u,e=0,s="",t=o}return kS(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function IR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class LS{}class G6 extends LS{normalizePropertyName(t,e){return PS(t)}normalizeStyleValue(t,e,i,s){let o="";const u=i.toString().trim();if($6[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&s.push(function VB(n,t){return new r.vHH(3005,bn)}())}return u+o}}const $6=(()=>function z6(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function TR(n,t,e,i,s,o,u,h,g,v,I,E,O){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:I,totalTime:E,errors:O}}const FS={};class ER{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function W6(n,t,e,i,s){return n.some(o=>o(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],o=this._stateStyles[t],u=s?s.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,s,o,u,h,g,v,I){const E=[],O=this.ast.options&&this.ast.options.params||FS,V=this.buildStyles(i,h&&h.params||FS,E),X=g&&g.params||FS,ie=this.buildStyles(s,X,E),Be=new Set,tt=new Map,nt=new Map,Je="void"===s,Lt={params:Object.assign(Object.assign({},O),X)},kt=I?[]:RS(t,e,this.ast.animation,o,u,V,ie,Lt,v,E);let wn=0;if(kt.forEach(No=>{wn=Math.max(No.duration+No.delay,wn)}),E.length)return TR(e,this._triggerName,i,s,Je,V,ie,[],[],tt,nt,wn,E);kt.forEach(No=>{const qc=No.element,NU=Po(tt,qc,{});No.preStyleProps.forEach(jp=>NU[jp]=!0);const cb=Po(nt,qc,{});No.postStyleProps.forEach(jp=>cb[jp]=!0),qc!==e&&Be.add(qc)});const zi=tT(Be.values());return TR(e,this._triggerName,i,s,Je,V,ie,kt,zi,tt,nt,wn)}}class K6{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=dm(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(s[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let g=u[h];g.length>1&&(g=eT(g,s,e));const v=this.normalizer.normalizePropertyName(h,e);g=this.normalizer.normalizeStyleValue(h,v,g,e),i[v]=g})}}),i}}class Q6{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new K6(s.style,s.options&&s.options.params||{},i)}),xR(this.states,"true","1"),xR(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new ER(t,s,this.states))}),this.fallbackTransition=function J6(n,t,e){return new ER(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(u=>u.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function xR(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const X6=new lT;class eH{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=OS(this._driver,e,i,[]);if(i.length)throw function n6(n){return new r.vHH(3503,bn)}();this._animations[t]=o}_buildPlayer(t,e,i){const s=t.element,o=rR(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],o=this._animations[t];let u;const h=new Map;if(o?(u=RS(this._driver,e,o,xS,YI,{},{},i,X6,s),u.forEach(I=>{const E=Po(h,I.element,{});I.postStyleProps.forEach(O=>E[O]=null)})):(s.push(function r6(){return new r.vHH(3300,bn)}()),u=[]),s.length)throw function s6(n){return new r.vHH(3504,bn)}();h.forEach((I,E)=>{Object.keys(I).forEach(O=>{I[O]=this._driver.computeStyle(E,O,pa)})});const v=wd(u.map(I=>{const E=h.get(I.element);return this._buildPlayer(I,{},E)}));return this._playersById[t]=v,v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function o6(n){return new r.vHH(3301,bn)}();return e}listen(t,e,i,s){const o=CS(e,"","","");return bS(this._getPlayer(t),i,o,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const DR="ng-animate-queued",VS="ng-animate-disabled",sH=[],SR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fa="__ng_removed";class US{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function uH(n){return null!=n?n:null}(i?t.value:t),i){const o=dm(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Wv="void",BS=new US(Wv);class aH{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ga(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw function a6(n,t){return new r.vHH(3302,bn)}();if(null==i||0==i.length)throw function l6(n){return new r.vHH(3303,bn)}();if(!function dH(n){return"start"==n||"done"==n}(i))throw function c6(n,t){return new r.vHH(3400,bn)}();const o=Po(this._elementListeners,t,[]),u={name:e,phase:i,callback:s};o.push(u);const h=Po(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(ga(t,QI),ga(t,QI+"-"+e),h[e]=BS),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function u6(n){return new r.vHH(3401,bn)}();return e}trigger(t,e,i,s=!0){const o=this._getTrigger(e),u=new HS(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(ga(t,QI),ga(t,QI+"-"+e),this._engine.statesByElement.set(t,h={}));let g=h[e];const v=new US(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h[e]=v,g||(g=BS),v.value!==Wv&&g.value===v.value){if(!function fH(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const o=e[s];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,v.params)){const X=[],ie=o.matchStyles(g.value,g.params,X),Be=o.matchStyles(v.value,v.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{up(t,ie),Sl(t,Be)})}return}const O=Po(this._engine.playersByElement,t,[]);O.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let M=o.matchTransition(g.value,v.value,t,v.params),V=!1;if(!M){if(!s)return;M=o.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:M,fromState:g,toState:v,player:u,isFallbackTransition:V}),V||(ga(t,DR),u.onStart(()=>{hm(t,DR)})),u.onDone(()=>{let X=this.players.indexOf(u);X>=0&&this.players.splice(X,1);const ie=this._engine.playersByElement.get(t);if(ie){let Be=ie.indexOf(u);Be>=0&&ie.splice(Be,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,JI,!0);i.forEach(s=>{if(s[fa])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(u=>u.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(g=>{if(u.set(g,o[g].value),this._triggers[g]){const v=this.trigger(t,g,Wv,s);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&wd(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(o=>{const u=o.name;if(s.has(u))return;s.add(u);const g=this._triggers[u].fallbackTransition,v=i[u]||BS,I=new US(Wv),E=new HS(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:v,toState:I,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[fa];(!o||o===SR)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ga(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=CS(o,i.triggerName,i.fromState.value,i.toState.value);g._data=t,bS(i.player,h.phase,g,h.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const o=i.transition.ast.depCount,u=s.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class lH{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new aH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,s=this.namespacesByHostElement,o=i.length-1;if(o>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const g=s.get(h);if(g){const v=i.indexOf(g);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return s.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let o=0;o<s.length;o++){const u=i[s[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,s){if(dT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!dT(e))return;const o=e[fa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ga(t,VS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hm(t,VS))}removeNode(t,e,i,s){if(dT(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s,o){this.collectedLeaveElements.push(e),e[fa]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,s,o){return dT(e)?this._fetchNamespace(t).listen(e,i,s,o):()=>{}}_buildInstruction(t,e,i,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,JI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,DS,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wd(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[fa];if(i&&i.setForRemoval){if(t[fa]=SR,i.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(VS))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ga(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?wd(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw function d6(n){return new r.vHH(3402,bn)}()}_flushAnimations(t,e){const i=new lT,s=[],o=new Map,u=[],h=new Map,g=new Map,v=new Map,I=new Set;this.disabledNodes.forEach(It=>{I.add(It);const Ft=this.driver.query(It,".ng-animate-queued",!0);for(let $t=0;$t<Ft.length;$t++)I.add(Ft[$t])});const E=this.bodyNode,O=Array.from(this.statesByElement.keys()),M=OR(O,this.collectedEnterElements),V=new Map;let X=0;M.forEach((It,Ft)=>{const $t=xS+X++;V.set(Ft,$t),It.forEach(Sn=>ga(Sn,$t))});const ie=[],Be=new Set,tt=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Ft=this.collectedLeaveElements[It],$t=Ft[fa];$t&&$t.setForRemoval&&(ie.push(Ft),Be.add(Ft),$t.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(Sn=>Be.add(Sn)):tt.add(Ft))}const nt=new Map,Je=OR(O,Array.from(Be));Je.forEach((It,Ft)=>{const $t=YI+X++;nt.set(Ft,$t),It.forEach(Sn=>ga(Sn,$t))}),t.push(()=>{M.forEach((It,Ft)=>{const $t=V.get(Ft);It.forEach(Sn=>hm(Sn,$t))}),Je.forEach((It,Ft)=>{const $t=nt.get(Ft);It.forEach(Sn=>hm(Sn,$t))}),ie.forEach(It=>{this.processLeaveNode(It)})});const Lt=[],kt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(e).forEach($t=>{const Sn=$t.player,Lr=$t.element;if(Lt.push(Sn),this.collectedEnterElements.length){const Ls=Lr[fa];if(Ls&&Ls.setForMove){if(Ls.previousTriggersValues&&Ls.previousTriggersValues.has($t.triggerName)){const Zp=Ls.previousTriggersValues.get($t.triggerName),Zd=this.statesByElement.get($t.element);Zd&&Zd[$t.triggerName]&&(Zd[$t.triggerName].value=Zp)}return void Sn.destroy()}}const Nl=!E||!this.driver.containsElement(E,Lr),Lo=nt.get(Lr),jd=V.get(Lr),Ci=this._buildInstruction($t,i,jd,Lo,Nl);if(Ci.errors&&Ci.errors.length)return void kt.push(Ci);if(Nl)return Sn.onStart(()=>up(Lr,Ci.fromStyles)),Sn.onDestroy(()=>Sl(Lr,Ci.toStyles)),void s.push(Sn);if($t.isFallbackTransition)return Sn.onStart(()=>up(Lr,Ci.fromStyles)),Sn.onDestroy(()=>Sl(Lr,Ci.toStyles)),void s.push(Sn);const VU=[];Ci.timelines.forEach(Ls=>{Ls.stretchStartingKeyframe=!0,this.disabledNodes.has(Ls.element)||VU.push(Ls)}),Ci.timelines=VU,i.append(Lr,Ci.timelines),u.push({instruction:Ci,player:Sn,element:Lr}),Ci.queriedElements.forEach(Ls=>Po(h,Ls,[]).push(Sn)),Ci.preStyleProps.forEach((Ls,Zp)=>{const Zd=Object.keys(Ls);if(Zd.length){let qp=g.get(Zp);qp||g.set(Zp,qp=new Set),Zd.forEach(hM=>qp.add(hM))}}),Ci.postStyleProps.forEach((Ls,Zp)=>{const Zd=Object.keys(Ls);let qp=v.get(Zp);qp||v.set(Zp,qp=new Set),Zd.forEach(hM=>qp.add(hM))})});if(kt.length){const It=[];kt.forEach(Ft=>{It.push(function h6(n,t){return new r.vHH(3505,bn)}())}),Lt.forEach(Ft=>Ft.destroy()),this.reportError(It)}const wn=new Map,zi=new Map;u.forEach(It=>{const Ft=It.element;i.has(Ft)&&(zi.set(Ft,Ft),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,wn))}),s.forEach(It=>{const Ft=It.element;this._getPreviousPlayers(Ft,!1,It.namespaceId,It.triggerName,null).forEach(Sn=>{Po(wn,Ft,[]).push(Sn),Sn.destroy()})});const No=ie.filter(It=>kR(It,g,v)),qc=new Map;PR(qc,this.driver,tt,v,pa).forEach(It=>{kR(It,g,v)&&No.push(It)});const cb=new Map;M.forEach((It,Ft)=>{PR(cb,this.driver,new Set(It),g,"!")}),No.forEach(It=>{const Ft=qc.get(It),$t=cb.get(It);qc.set(It,Object.assign(Object.assign({},Ft),$t))});const jp=[],LU=[],FU={};u.forEach(It=>{const{element:Ft,player:$t,instruction:Sn}=It;if(i.has(Ft)){if(I.has(Ft))return $t.onDestroy(()=>Sl(Ft,Sn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Sn.totalTime),void s.push($t);let Lr=FU;if(zi.size>1){let Lo=Ft;const jd=[];for(;Lo=Lo.parentNode;){const Ci=zi.get(Lo);if(Ci){Lr=Ci;break}jd.push(Lo)}jd.forEach(Ci=>zi.set(Ci,Lr))}const Nl=this._buildAnimation($t.namespaceId,Sn,wn,o,cb,qc);if($t.setRealPlayer(Nl),Lr===FU)jp.push($t);else{const Lo=this.playersByElement.get(Lr);Lo&&Lo.length&&($t.parentPlayer=wd(Lo)),s.push($t)}}else up(Ft,Sn.fromStyles),$t.onDestroy(()=>Sl(Ft,Sn.toStyles)),LU.push($t),I.has(Ft)&&s.push($t)}),LU.forEach(It=>{const Ft=o.get(It.element);if(Ft&&Ft.length){const $t=wd(Ft);It.setRealPlayer($t)}}),s.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<ie.length;It++){const Ft=ie[It],$t=Ft[fa];if(hm(Ft,YI),$t&&$t.hasAnimation)continue;let Sn=[];if(h.size){let Nl=h.get(Ft);Nl&&Nl.length&&Sn.push(...Nl);let Lo=this.driver.query(Ft,DS,!0);for(let jd=0;jd<Lo.length;jd++){let Ci=h.get(Lo[jd]);Ci&&Ci.length&&Sn.push(...Ci)}}const Lr=Sn.filter(Nl=>!Nl.destroyed);Lr.length?hH(this,Ft,Lr):this.processLeaveNode(Ft)}return ie.length=0,jp.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Ft=this.players.indexOf(It);this.players.splice(Ft,1)}),It.play()}),jp}elementContainsData(t,e){let i=!1;const s=e[fa];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const g=!o||o==Wv;h.forEach(v=>{v.queued||!g&&v.triggerName!=s||u.push(v)})}}return(i||s)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||s&&s!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const v=g.element,I=v!==o,E=Po(i,v,[]);this._getPreviousPlayers(v,I,u,h,e.toState).forEach(M=>{const V=M.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),M.destroy(),E.push(M)})}up(o,e.fromStyles)}_buildAnimation(t,e,i,s,o,u){const h=e.triggerName,g=e.element,v=[],I=new Set,E=new Set,O=e.timelines.map(V=>{const X=V.element;I.add(X);const ie=X[fa];if(ie&&ie.removedBeforeQueried)return new yd(V.duration,V.delay);const Be=X!==g,tt=function pH(n){const t=[];return MR(n,t),t}((i.get(X)||sH).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===X),nt=o.get(X),Je=u.get(X),Lt=rR(0,this._normalizer,0,V.keyframes,nt,Je),kt=this._buildPlayer(V,Lt,tt);if(V.subTimeline&&s&&E.add(X),Be){const wn=new HS(t,h,X);wn.setRealPlayer(kt),v.push(wn)}return kt});v.forEach(V=>{Po(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function cH(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),I.forEach(V=>ga(V,fR));const M=wd(O);return M.onDestroy(()=>{I.forEach(V=>hm(V,fR)),Sl(g,e.toStyles)}),E.forEach(V=>{Po(s,V,[]).push(M)}),M}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new yd(t.duration,t.delay)}}class HS{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new yd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>bS(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Po(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dT(n){return n&&1===n.nodeType}function AR(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function PR(n,t,e,i,s){const o=[];e.forEach(g=>o.push(AR(g)));const u=[];i.forEach((g,v)=>{const I={};g.forEach(E=>{const O=I[E]=t.computeStyle(v,E,s);(!O||0==O.length)&&(v[fa]=oH,u.push(v))}),n.set(v,I)});let h=0;return e.forEach(g=>AR(g,o[h++])),u}function OR(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const s=new Set(t),o=new Map;function u(h){if(!h)return 1;let g=o.get(h);if(g)return g;const v=h.parentNode;return g=e.has(v)?v:s.has(v)?1:u(v),o.set(h,g),g}return t.forEach(h=>{const g=u(h);1!==g&&e.get(g).push(h)}),e}function ga(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function hm(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function hH(n,t,e){wd(e).onDone(()=>n.processLeaveNode(t))}function MR(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof TI?MR(i.players,t):t.push(i)}}function kR(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(o=>s.add(o)):t.set(n,i),e.delete(n),!0}class hT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new lH(t,e,i),this._timelineEngine=new eH(t,e,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,e,i,s,o){const u=t+"-"+s;let h=this._triggerCache[u];if(!h){const g=[],I=OS(this._driver,o,g,[]);if(g.length)throw function e6(n,t){return new r.vHH(3404,bn)}();h=function Y6(n,t,e){return new Q6(n,t,e)}(s,I,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,s,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[o,u]=sR(i);this._timelineEngine.command(o,e,u,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,o){if("@"==i.charAt(0)){const[u,h]=sR(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mH=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Sl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sl(this._element,this._initialStyles),this._endStyles&&(Sl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(up(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(up(this._element,this._endStyles),this._endStyles=null),Sl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jS(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];_H(s)&&(t=t||{},t[s]=n[s])}return t}function _H(n){return"display"===n||"position"===n}class RR{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:vR(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class yH{validateStyleProperty(t){return cR(t)}matchesElement(t,e){return!1}containsElement(t,e){return uR(t,e)}getParentElement(t){return TS(t)}query(t,e,i){return dR(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,s,o,u=[]){const g={duration:i,delay:s,fill:0==s?"both":"forwards"};o&&(g.easing=o);const v={},I=u.filter(O=>O instanceof RR);(function C6(n,t){return 0===n||0===t})(i,s)&&I.forEach(O=>{let M=O.currentSnapshot;Object.keys(M).forEach(V=>v[V]=M[V])}),e=function I6(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var s=1;s<t.length;s++){let h=t[s];u.forEach(function(g){h[g]=vR(n,g)})}}return t}(t,e=e.map(O=>Cd(O,!1)),v);const E=function gH(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=jS(t[0]),t.length>1&&(i=jS(t[t.length-1]))):t&&(e=jS(t)),e||i?new mH(n,e,i):null}(t,e);return new RR(t,e,g,E)}}let vH=(()=>{class n extends nm{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?pv(e):e;return NR(this._renderer,null,i,"register",[s]),new bH(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(ce))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class bH extends class fk{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new wH(this._id,t,e||{},this._renderer)}}class wH{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return NR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function NR(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const LR="@.disabled";let CH=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(o);return I||(I=new FR("",o,this.engine),this._rendererCache.set(o,I)),I}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=I=>{Array.isArray(I)?I.forEach(g):this.engine.registerTrigger(u,h,e,I.name,I)};return i.data.animation.forEach(g),new IH(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.FYo),r.LFG(hT),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();class FR{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==LR?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class IH extends FR{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==LR?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function TH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function EH(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let xH=(()=>{class n extends hT{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce),r.LFG(ES),r.LFG(LS))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const VR=new r.OlP("AnimationModuleType"),UR=[{provide:nm,useClass:vH},{provide:LS,useFactory:function DH(){return new G6}},{provide:hT,useClass:xH},{provide:r.FYo,useFactory:function SH(n,t,e){return new CH(n,t,e)},deps:[Rn,hT,r.R0b]}],BR=[{provide:ES,useFactory:()=>new yH},{provide:VR,useValue:"BrowserAnimations"},...UR],AH=[{provide:ES,useClass:hR},{provide:VR,useValue:"NoopAnimations"},...UR];let HR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?AH:BR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:BR,imports:[ba]}),n})();var GR=k(6451);function ZS(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function pm(n,t){const e=t?"":"none";ZS(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function $R(n,t,e){ZS(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function fT(n,t){return t&&"none"!=t?n+" "+t:n}function zR(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function qS(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function GS(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function $S(n,t,e){const{top:i,bottom:s,left:o,right:u}=n;return e>=i&&e<=s&&t>=o&&t<=u}function Kv(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function WR(n,t,e,i){const{top:s,right:o,bottom:u,left:h,width:g,height:v}=n,I=g*t,E=v*t;return i>s-E&&i<u+E&&e>h-I&&e<o+I}class KR{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:GS(e)})})}handleScroll(t){const e=fd(t),i=this.positions.get(e);if(!i)return null;const s=i.scrollPosition;let o,u;if(e===this._document){const v=this.getViewportScrollPosition();o=v.top,u=v.left}else o=e.scrollTop,u=e.scrollLeft;const h=s.top-o,g=s.left-u;return this.positions.forEach((v,I)=>{v.clientRect&&e!==I&&e.contains(I)&&Kv(v.clientRect,h,g)}),s.top=o,s.left=u,{top:h,left:g}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function YR(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?XR(n,t):("input"===i||"select"===i||"textarea"===i)&&JR(n,t),QR("canvas",n,t,XR),QR("input, textarea, select",n,t,JR),t}function QR(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const o=e.querySelectorAll(n);for(let u=0;u<s.length;u++)i(s[u],o[u])}}let zH=0;function JR(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${zH++}`)}function XR(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const eN=ip({passive:!0}),gT=ip({passive:!1}),zS=new Set(["position"]);class KH{constructor(t,e,i,s,o,u){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Dt.x,this._pointerMoveSubscription=qr.w0.EMPTY,this._pointerUpSubscription=qr.w0.EMPTY,this._scrollSubscription=qr.w0.EMPTY,this._resizeSubscription=qr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Dt.x,this.started=new Dt.x,this.released=new Dt.x,this.ended=new Dt.x,this.entered=new Dt.x,this.exited=new Dt.x,this.dropped=new Dt.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const g=this._getTargetHandle(h);g&&!this._disabledHandles.has(g)&&!this.disabled&&this._initializeDragSequence(g,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const g=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(g.x-this._pickupPositionOnPage.x)+Math.abs(g.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const M=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),V=this._dropContainer;if(!M)return void this._endDragSequence(h);(!V||!V.isDragging()&&!V.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const v=this._getConstrainedPointerPosition(g);if(this._hasMoved=!0,this._lastKnownPointerPosition=g,this._updatePointerDirectionDelta(v),this._dropContainer)this._updateActiveDropContainer(v,g);else{const I=this._activeTransform;I.x=v.x-this._pickupPositionOnPage.x+this._passiveTransform.x,I.y=v.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(I.x,I.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:v,event:h,distance:this._getDragDistance(v),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const g=this._getTargetHandle(h);g&&!this._disabledHandles.has(g)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new KR(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=zy(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>pm(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>so(i)),this._handles.forEach(i=>pm(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=so(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,gT),e.addEventListener("touchstart",this._pointerDown,eN),e.addEventListener("dragstart",this._nativeDragStart,gT)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?so(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),pm(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),pm(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Yv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();s.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),$R(i,!1,zS),this._document.body.appendChild(s.replaceChild(o,i)),this._getPreviewInsertionPoint(s,h).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=Yv(e),o=!s&&0!==e.button,u=this._rootElement,h=fd(e),g=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),v=s?function ZH(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function jH(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||g||v)return;if(this._handles.length){const O=u.style;this._rootElementTapHighlight=O.webkitTapHighlightColor||"",O.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(O=>this._updateOnScroll(O)),this._boundaryElement&&(this._boundaryRect=GS(this._boundaryElement));const I=this._previewTemplate;this._pickupPositionInElement=I&&I.template&&!I.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const E=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:E.x,y:E.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){$R(this._rootElement,!0,zS),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),o=this._getDragDistance(s),u=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:o,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:o,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,u,o,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const o=t.matchSize?this._rootElement.getBoundingClientRect():null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),s=nN(u,this._document),this._previewRef=u,t.matchSize?iN(s,o):s.style.transform=mT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;s=YR(o),iN(s,o.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return ZS(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},zS),pm(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>s.classList.add(o)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function $H(n){const t=getComputedStyle(n),e=qS(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const s=e.indexOf(i),o=qS(t,"transition-duration"),u=qS(t,"transition-delay");return zR(o[s])+zR(u[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=u=>{var h;(!u||fd(u)===this._preview&&"transform"===u.propertyName)&&(null===(h=this._preview)||void 0===h||h.removeEventListener("transitionend",s),i(),clearTimeout(o))},o=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=nN(this._placeholderRef,this._document)):i=YR(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,o=s?s.getBoundingClientRect():i,u=Yv(e)?e.targetTouches[0]:e,h=this._getViewportScrollPosition();return{x:o.left-i.left+(u.pageX-o.left-h.left),y:o.top-i.top+(u.pageY-o.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Yv(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=s,h.y=o,h.matrixTransform(u.inverse())}}return{x:s,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:u}=this._pickupPositionInElement,h=this._boundaryRect,{width:g,height:v}=this._getPreviewRect(),I=h.top+u,E=h.bottom-(v-u);i=tN(i,h.left+o,h.right-(g-o)),s=tN(s,I,E)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-o.x),h=Math.abs(i-o.y);return u>this._config.pointerDirectionChangeThreshold&&(s.x=e>o.x?1:-1,o.x=e),h>this._config.pointerDirectionChangeThreshold&&(s.y=i>o.y?1:-1,o.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,pm(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,gT),t.removeEventListener("touchstart",this._pointerDown,eN),t.removeEventListener("dragstart",this._nativeDragStart,gT)}_applyRootElementTransform(t,e){const i=mT(t,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=fT(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,o=mT(t,e);this._preview.style.transform=fT(o,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const o=i.left-s.left,u=s.right-i.right,h=i.top-s.top,g=s.bottom-i.bottom;i.width>s.width?(o>0&&(t+=o),u>0&&(t-=u)):t=0,i.height>s.height?(h>0&&(e+=h),g>0&&(e-=g)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Yv(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=fd(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Kv(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=bD(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return so(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function mT(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function tN(n,t,e){return Math.max(t,Math.min(e,n))}function Yv(n){return"t"===n.type[0]}function nN(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function iN(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=mT(t.left,t.top)}function Qv(n,t){return Math.max(0,Math.min(t,n))}class QH{constructor(t,e,i,s,o){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Dt.x,this.entered=new Dt.x,this.exited=new Dt.x,this.dropped=new Dt.x,this.sorted=new Dt.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=qr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Dt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function GH(n=0,t=ep.z){return n<0&&(n=0),ud(n,n,t)}(0,Jy).pipe(Es(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=so(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new KR(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let o;this._draggingStarted(),null==s?(o=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(t,e,i))):o=s;const u=this._activeDraggables,h=u.indexOf(t),g=t.getPlaceholderElement();let v=u[o];if(v===t&&(v=u[o+1]),!v&&(null==o||-1===o||o<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(v=u[0]),h>-1&&u.splice(h,1),v&&!this._dragDropRegistry.isDragging(v)){const I=v.getRootElement();I.parentElement.insertBefore(g,I),u.splice(o,0,t)}else so(this.element).appendChild(g),u.push(t);g.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,o,u,h){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:o,distance:u,dropPoint:h})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=so(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!WR(this._clientRect,.05,e,i))return;const o=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===u&&o.length>0)return;const h="horizontal"===this._orientation,g=o.findIndex(ie=>ie.drag===t),v=o[u],E=v.clientRect,O=g>u?1:-1,M=this._getItemOffsetPx(o[g].clientRect,E,O),V=this._getSiblingOffsetPx(g,o,O),X=o.slice();(function YH(n,t,e){const i=Qv(t,n.length-1),s=Qv(e,n.length-1);if(i===s)return;const o=n[i],u=s<i?-1:1;for(let h=i;h!==s;h+=u)n[h]=n[h+u];n[s]=o})(o,g,u),this.sorted.next({previousIndex:g,currentIndex:u,container:this,item:t}),o.forEach((ie,Be)=>{if(X[Be]===ie)return;const tt=ie.drag===t,nt=tt?M:V,Je=tt?t.getPlaceholderElement():ie.drag.getRootElement();ie.offset+=nt,h?(Je.style.transform=fT(`translate3d(${Math.round(ie.offset)}px, 0, 0)`,ie.initialTransform),Kv(ie.clientRect,0,nt)):(Je.style.transform=fT(`translate3d(0, ${Math.round(ie.offset)}px, 0)`,ie.initialTransform),Kv(ie.clientRect,nt,0))}),this._previousSwap.overlaps=$S(E,e,i),this._previousSwap.drag=v.drag,this._previousSwap.delta=h?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,o=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||WR(u.clientRect,.05,t,e)&&([s,o]=function JH(n,t,e,i){const s=oN(t,i),o=aN(t,e);let u=0,h=0;if(s){const g=n.scrollTop;1===s?g>0&&(u=1):n.scrollHeight-g>n.clientHeight&&(u=2)}if(o){const g=n.scrollLeft;1===o?g>0&&(h=1):n.scrollWidth-g>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(s||o)&&(i=h))}),!s&&!o){const{width:u,height:h}=this._viewportRuler.getViewportSize(),g={width:u,height:h,top:0,right:u,bottom:h,left:0};s=oN(g,e),o=aN(g,t),i=window}i&&(s!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=o,this._scrollNode=i,(s||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=so(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=so(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:GS(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=so(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const o=null===(i=this._itemPositions.find(u=>u.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=o||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,o=e[t].clientRect,u=e[t+-1*i];let h=o[s?"width":"height"]*i;if(u){const g=s?"left":"top",v=s?"right":"bottom";-1===i?h-=u.clientRect[g]-o[v]:h+=o[g]-u.clientRect[v]}return h}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let o=s?e.left-t.left:e.top-t.top;return-1===i&&(o+=s?e.width-t.width:e.height-t.height),o}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return s?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return s?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,s){const o="horizontal"===this._orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:g})=>{if(h===t)return!1;if(s){const v=o?s.x:s.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&v===this._previousSwap.delta)return!1}return o?e>=Math.floor(g.left)&&e<Math.floor(g.right):i>=Math.floor(g.top)&&i<Math.floor(g.bottom)});return-1!==u&&this.sortPredicate(u,t,this)?u:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&$S(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!$S(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const o=so(this.element);return s===o||o.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{Kv(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=bD(so(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function oN(n,t){const{top:e,bottom:i,height:s}=n,o=.05*s;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function aN(n,t){const{left:e,right:i,width:s}=n,o=.05*s;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const _T=ip({passive:!1,capture:!0});let XH=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Dt.x,this.pointerUp=new Dt.x,this.scroll=new Dt.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,_T)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,_T)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:_T}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:_T}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,u)=>{this._document.addEventListener(u,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Zi.y(s=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&s.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,GR.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(r.R0b),r.LFG(ce))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ej={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let tj=(()=>{class n{constructor(e,i,s,o){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(e,i=ej){return new KH(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new QH(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(ce),r.LFG(r.R0b),r.LFG(yI),r.LFG(XH))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[tj],imports:[tm]}),n})(),hj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,bd,mn,xs,lN],mn,lN]}),n})(),pj=(()=>{class n{constructor(){}intercept(e,i){return e=e.clone({headers:new sa({Authorization:"bearer "+localStorage.getItem("token")})}),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,mn,xs],mn]}),n})(),Cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})();II([_d({transform:"{{transform}}",opacity:0}),op("{{transition}}")]),II([op("{{transition}}",_d({transform:"{{transform}}",opacity:0}))]);let Bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,Cj,xs],mn]}),n})();function Hj(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",3),r.NdJ("click",function(s){return r.CHM(e),r.oxw().clear(s)})("keydown.enter",function(s){return r.CHM(e),r.oxw().clear(s)}),r.qZA()}if(2&n){const e=r.oxw();r.Q6J("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle),r.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function jj(n,t){if(1&n){const e=r.EpF();r.TgZ(0,"span",4),r.NdJ("click",function(s){const u=r.CHM(e).index;return r.oxw().rate(s,u)})("keydown.enter",function(s){const u=r.CHM(e).index;return r.oxw().rate(s,u)}),r.qZA()}if(2&n){const e=t.index,i=r.oxw();r.Q6J("ngClass",!i.value||e>=i.value?i.iconOffClass:i.iconOnClass)("ngStyle",!i.value||e>=i.value?i.iconOffStyle:i.iconOnStyle),r.uIk("tabindex",i.disabled||i.readonly?null:"0")}}const Zj=function(n,t){return{"p-readonly":n,"p-disabled":t}},qj={provide:Mi,useExisting:(0,r.Gpc)(()=>Gj),multi:!0};let Gj=(()=>{class n{constructor(e){this.cd=e,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new r.vpe,this.onCancel=new r.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}rate(e,i){!this.readonly&&!this.disabled&&(this.value=i+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:i+1})),e.preventDefault()}clear(e){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(r.sBO))},n.\u0275cmp=r.Xpm({type:n,selectors:[["p-rating"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[r._Bn([qj])],decls:3,vars:6,consts:[[1,"p-rating",3,"ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.YNc(1,Hj,1,3,"span",1),r.YNc(2,jj,1,3,"span",2),r.qZA()),2&e&&(r.Q6J("ngClass",r.WLB(3,Zj,i.readonly,i.disabled)),r.xp6(1),r.Q6J("ngIf",i.cancel),r.xp6(1),r.Q6J("ngForOf",i.starsArray))},directives:[_i,Xt,wr,On],styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})(),gZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,mn,xs],Tn,mn]}),n})(),IZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,Zg,xs,im],mn,im,Zg]}),n})(),dN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,xs]]}),n})(),hN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn]]}),n})(),JZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Tn,mn,bd,hN,dN,xs],mn,bd,hN,dN]}),n})();class XZ{constructor(t,e="/assets/i18n/",i=".json"){this.http=t,this.prefix=e,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}var Ss=k(2011),pN=k(655),Jv=k(5363),e4=k(7982);function fN(n,t){return(0,Dr.m)(t)?Qn(()=>n,t):Qn(()=>n)}var WS=k(9468),Id=k(1877);const gN=new Map,t4={activated:!1,tokenObservers:[]},n4={initialized:!1,enabled:!1};function Ar(n){return gN.get(n)||t4}function za(n,t){gN.set(n,t)}function yT(){return n4}class l4{constructor(t,e,i,s,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=s,s>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ie.Z)(function*(){e.stop();try{e.pending=new qt.BH,yield function c4(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new qt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const As=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _N(n){if(!Ar(n).activated)throw As.create("use-before-activation",{appName:n.name})}function QS(n,t){return JS.apply(this,arguments)}function JS(){return(JS=(0,Ie.Z)(function*({url:n,body:t},e){var i,s;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const M=yield u.getHeartbeatsHeader();M&&(o["X-Firebase-Client"]=M)}const h={method:"POST",body:JSON.stringify(t),headers:o};let g,v;try{g=yield fetch(n,h)}catch(M){throw As.create("fetch-network-error",{originalErrorMessage:null===(i=M)||void 0===i?void 0:i.message})}if(200!==g.status)throw As.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(M){throw As.create("fetch-parse-error",{originalErrorMessage:null===(s=M)||void 0===s?void 0:s.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw As.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const E=1e3*Number(I[1]),O=Date.now();return{token:v.token,expireTimeMillis:O+E,issuedAtTimeMillis:O}})).apply(this,arguments)}function p4(n,t){const{projectId:e,appId:i,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${s}`,body:{debug_token:t}}}const Xv="firebase-app-check-store";let wT=null;function vN(){return wT||(wT=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{var o;t(As.create("storage-open",{originalErrorMessage:null===(o=s.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Xv,{keyPath:"compositeKey"})}}catch(i){t(As.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),wT)}function XS(){return(XS=(0,Ie.Z)(function*(n,t){const i=(yield vN()).transaction(Xv,"readwrite"),o=i.objectStore(Xv).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var v;h(As.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const e0=new Id.Yd("@firebase/app-check");function IN(n,t){return(0,qt.hl)()?function _4(n,t){return function bN(n,t){return XS.apply(this,arguments)}(function CN(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{e0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function TN(){return yT().enabled}function EN(){return iA.apply(this,arguments)}function iA(){return(iA=(0,Ie.Z)(function*(){const n=yT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const I4={error:"UNKNOWN_ERROR"};function T4(n){return qt.US.encodeString(JSON.stringify(n),!1)}function CT(n){return rA.apply(this,arguments)}function rA(){return(rA=(0,Ie.Z)(function*(n,t=!1){const e=n.app;_N(e);const i=Ar(e);let o,s=i.token;if(!s){const g=yield i.cachedTokenPromise;g&&IT(g)&&(s=g)}if(!t&&s&&IT(s))return{token:s.token};let h,u=!1;if(TN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=QS(p4(e,yield EN()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),u=!0);const g=yield i.exchangeTokenPromise;return yield IN(e,g),za(e,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(g=>(i.exchangeTokenPromise=void 0,g)),u=!0),s=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?e0.warn(g.message):e0.error(g),o=g}return s?(h={token:s.token},za(e,Object.assign(Object.assign({},i),{token:s})),yield IN(e,s)):h=x4(o),u&&DN(e,h),h})).apply(this,arguments)}function oA(n,t){const e=Ar(n),i=e.tokenObservers.filter(s=>s.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),za(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function xN(n){const{app:t}=n,e=Ar(t);let i=e.tokenRefresher;i||(i=function E4(n){const{app:t}=n;return new l4((0,Ie.Z)(function*(){let i;if(i=Ar(t).token?yield CT(n,!0):yield CT(n),i.error)throw i.error}),()=>!0,()=>{const e=Ar(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),za(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function DN(n,t){const e=Ar(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(s){}}function IT(n){return n.expireTimeMillis-Date.now()>0}function x4(n){return{token:T4(I4),error:n}}class D4{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ar(this.app);for(const e of t)oA(this.app,e.next);return Promise.resolve()}}const NN="app-check-internal";!function H4(){(0,pr._registerComponent)(new Mu.wA("app-check",n=>function S4(n,t){return new D4(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(NN).initialize()})),(0,pr._registerComponent)(new Mu.wA(NN,n=>function A4(n){return{getToken:t=>CT(n,t),addTokenListener:t=>function sA(n,t,e,i){const{app:s}=n,o=Ar(s),u={next:e,error:i,type:t};if(za(s,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&IT(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),xN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>xN(n))}(n,"INTERNAL",t),removeTokenListener:t=>oA(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pr.registerVersion)("@firebase/app-check","0.5.11")}();class uA{constructor(){return(0,P.vb)("app-check")}}"undefined"!=typeof window&&window;var ET=k(127);const FN=new r.OlP("angularfire2.auth.use-emulator"),VN=new r.OlP("angularfire2.auth.settings"),UN=new r.OlP("angularfire2.auth.tenant-id"),BN=new r.OlP("angularfire2.auth.langugage-code"),HN=new r.OlP("angularfire2.auth.use-device-language"),jN=new r.OlP("angularfire.auth.persistence"),ZN=(n,t,e,i,s,o,u,h)=>(0,Ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=s,o&&g.useDeviceLanguage(),u)for(const[v,I]of Object.entries(u))g.settings[v]=I;return h&&g.setPersistence(h),g},[e,i,s,o,u,h]);let hA=(()=>{class n{constructor(e,i,s,o,u,h,g,v,I,E,O,M){const V=new Dt.x,X=gt(void 0).pipe((0,Jv.Q)(u.outsideAngular),Qn(()=>o.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1451)))),(0,Nt.U)(()=>(0,Ss.on)(e,o,i)),(0,Nt.U)(ie=>ZN(ie,o,h,v,I,E,g,O)),id({bufferSize:1,refCount:!1}));if(us(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{X.pipe(yl()).subscribe();const Be=X.pipe(Qn(Je=>Je.getRedirectResult().then(Lt=>Lt,()=>null)),P.iC,id({bufferSize:1,refCount:!1})),tt=X.pipe(Qn(Je=>new Zi.y(Lt=>({unsubscribe:o.runOutsideAngular(()=>Je.onAuthStateChanged(kt=>Lt.next(kt),kt=>Lt.error(kt),()=>Lt.complete()))})))),nt=X.pipe(Qn(Je=>new Zi.y(Lt=>({unsubscribe:o.runOutsideAngular(()=>Je.onIdTokenChanged(kt=>Lt.next(kt),kt=>Lt.error(kt),()=>Lt.complete()))}))));this.authState=Be.pipe(fN(tt),(0,WS.R)(u.outsideAngular),(0,Jv.Q)(u.insideAngular)),this.user=Be.pipe(fN(nt),(0,WS.R)(u.outsideAngular),(0,Jv.Q)(u.insideAngular)),this.idToken=this.user.pipe(Qn(Je=>Je?(0,ti.D)(Je.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(Qn(Je=>Je?(0,ti.D)(Je.getIdTokenResult()):gt(null))),this.credential=(0,GR.T)(Be,V,this.authState.pipe(is(Je=>!Je))).pipe((0,Nt.U)(Je=>(null==Je?void 0:Je.user)?Je:null),(0,WS.R)(u.outsideAngular),(0,Jv.Q)(u.insideAngular))}return(0,Ss.pX)(this,X,o,{spy:{apply:(ie,Be,tt)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&tt.then(nt=>V.next(nt))}}})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ss.Dh),r.LFG(Ss.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(P.HU),r.LFG(FN,8),r.LFG(VN,8),r.LFG(UN,8),r.LFG(BN,8),r.LFG(HN,8),r.LFG(jN,8),r.LFG(uA,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class W4 extends Kt.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}const GN="firebase_screen_id",fA="outlet",t0="screen_class",$N="screen_name";let oq=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const gA={},aq=n=>{const t=[n[t0],n[fA]].join("#");if(gA.hasOwnProperty(t))return gA[t];{const e=oq++;return gA[t]=e,e}},pq=new r.OlP("angularfire2.analytics.analyticsCollectionEnabled"),fq=new r.OlP("angularfire2.analytics.appVersion"),gq=new r.OlP("angularfire2.analytics.appName"),mq=new r.OlP("angularfire2.analytics.debugMode"),_q=new r.OlP("angularfire2.analytics.config"),xT="dataLayer";let n0=(()=>{class n{constructor(e,i,s,o,u,h,g,v,I){if(this.analyticsInitialized=new Promise(()=>{}),Si(g)){window[xT]=window[xT]||[];const O=(...X)=>"config"===X[0]&&"firebase"===X[2].origin&&(this.measurementId=X[1],!0),M=X=>{window.gtag=(...ie)=>{X&&X(...ie),"event"===ie[0]&&ie[2].send_to===this.measurementId&&(o&&(ie[2].app_name=o),s&&(ie[2].app_version=s)),u&&"undefined"!=typeof console&&console.info(...ie),function(...Be){window[xT].push(arguments)}(...ie)}};window[xT].some(O)?(this.analyticsInitialized=Promise.resolve(),M()):this.analyticsInitialized=new Promise(X=>{M((...ie)=>{O(...ie)&&X()})}),h&&this.updateConfig(h),u&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const E=gt(void 0).pipe((0,Jv.Q)(I.outsideAngular),Qn(e4.Gb),Qn(O=>O?v.runOutsideAngular(()=>k.e(643).then(k.bind(k,8643))):ui.E),(0,Nt.U)(()=>(0,Ss.cc)("analytics","AngularFireAnalytics",e.name,()=>{const O=e.analytics();return!1===i&&O.setAnalyticsCollectionEnabled(!1),O},[e,i,h,u])),id({bufferSize:1,refCount:!1}));return(0,Ss.pX)(this,E,v)}updateConfig(e){return(0,pN.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ss.Ot),r.LFG(pq,8),r.LFG(fq,8),r.LFG(gq,8),r.LFG(mq,8),r.LFG(_q,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(P.HU))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),WN=(()=>{class n{constructor(e,i,s,o){if(this.disposables=[],ET.Z.registerVersion("angularfire",P.q4.full,"compat-user-tracking"),us(i))this.initialized=Promise.resolve();else{let u;this.initialized=o.runOutsideAngular(()=>new Promise(h=>u=h)),this.disposables=[s.authState.subscribe(h=>{e.setUserId(null==h?void 0:h.uid),u()}),s.credential.subscribe(h=>{if(h){const g=h.user.isAnonymous?"anonymous":h.additionalUserInfo.providerId;h.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:g}),e.logEvent("login",{method:g})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n0),r.LFG(r.Lbi),r.LFG(hA),r.LFG(r.R0b))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Tq=(()=>{class n{constructor(e,i,s,o,u,h){if(ET.Z.registerVersion("angularfire",P.q4.full,"compat-screen-tracking"),!i||!e)return this;u.runOutsideAngular(()=>{this.disposable=((n,t,e)=>n.events.pipe(is(s=>s instanceof Rw)).pipe(Qn(s=>{var o;const h=(null===(o=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,M=>M.replace("://",":///"))).root.children[s.snapshot.outlet])||void 0===o?void 0:o.toString())||"",g=n.routerState.root.children.map(M=>M).find(M=>M.outlet===s.snapshot.outlet);if(!g)return gt(null);let v=g;for(;v.firstChild;)v=v.firstChild;const I=v.pathFromRoot.map(M=>{var V;return null===(V=M.routeConfig)||void 0===V?void 0:V.path}).filter(M=>M).join("/")||"/",E={[$N]:I,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:I,[fA]:s.snapshot.outlet};t&&(E.page_title=t.getTitle());let O=g.component;if(O){if(O===Vg){let M=s.snapshot;for(;M.firstChild;)M=M.firstChild;O=M.component}}else O=s.snapshot.component;if("string"==typeof O)return gt(Object.assign(Object.assign({},E),{[t0]:O}));if(O){const M=e.resolveComponentFactory(O);return gt(Object.assign(Object.assign({},E),{[t0]:M.selector}))}return gt(null)}),is(s=>!!s),(0,Nt.U)(s=>Object.assign({firebase_screen_class:s[t0],[GN]:aq(s)},s)),function z4(n,t,e,i){return(0,nr.e)((s,o)=>{let u;t&&"function"!=typeof t?({duration:e,element:u,connector:i}=t):u=t;const h=new Map,g=O=>{h.forEach(O),O(o)},v=O=>g(M=>M.error(O)),I=new W4(o,O=>{try{const M=n(O);let V=h.get(M);if(!V){h.set(M,V=i?i():new Dt.x);const X=function E(O,M){const V=new Zi.y(X=>{I.activeGroups++;const ie=M.subscribe(X);return()=>{ie.unsubscribe(),0==--I.activeGroups&&I.teardownAttempted&&I.unsubscribe()}});return V.key=O,V}(M,V);if(o.next(X),e){const ie=new Kt.Q(V,()=>{V.complete(),null==ie||ie.unsubscribe()},void 0,void 0,()=>h.delete(M));I.add((0,qi.Xf)(e(X)).subscribe(ie))}}V.next(u?u(O):O)}catch(M){v(M)}},()=>g(O=>O.complete()),v,()=>h.clear());s.subscribe(I)})}(s=>s[fA]),(0,Ri.z)(s=>s.pipe(ev((o,u)=>JSON.stringify(o)===JSON.stringify(u)),io(void 0),tp(),(0,Nt.U)(([o,u])=>o?Object.assign({firebase_previous_class:o[t0],firebase_previous_screen:o[$N],firebase_previous_id:o[GN]},u):u)))))(i,s,o).pipe(Qn(g=>(0,pN.mG)(this,void 0,void 0,function*(){return h&&(yield h.initialized),yield e.logEvent("screen_view",g)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n0),r.LFG($n,8),r.LFG(nl,8),r.LFG(r._Vd),r.LFG(r.R0b),r.LFG(WN,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Eq=(()=>{class n{constructor(e,i,s){ET.Z.registerVersion("angularfire",P.q4.full,"analytics-compat"),e.app.then(()=>{})}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(n0),r.LFG(Tq,8),r.LFG(WN,8))},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[n0]}),n})();k(1451);var _t,xq=k(3942),Dq="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Nc={},_A=_A||{},Jt=Dq||self;function DT(){}function yA(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function r0(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var vA="closure_uid_"+(1e9*Math.random()>>>0),Aq=0;function Pq(n,t,e){return n.call.apply(n.bind,arguments)}function Oq(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(t,s)}}return function(){return n.apply(t,arguments)}}function Gr(n,t,e){return(Gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pq:Oq).apply(null,arguments)}function ST(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function $r(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,s,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[s].apply(i,u)}}function Td(){this.s=this.s,this.o=this.o}var kq={};Td.prototype.s=!1,Td.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Sq(n){return Object.prototype.hasOwnProperty.call(n,vA)&&n[vA]||(n[vA]=++Aq)}(this);delete kq[n]}},Td.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KN=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},YN=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,s="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in s&&t.call(e,s[o],o,n)};function QN(n){return Array.prototype.concat.apply([],arguments)}function bA(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function AT(n){return/^[\s\xa0]*$/.test(n)}var Os,JN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ps(n,t){return-1!=n.indexOf(t)}function wA(n,t){return n<t?-1:n>t?1:0}e:{var XN=Jt.navigator;if(XN){var eL=XN.userAgent;if(eL){Os=eL;break e}}Os=""}function CA(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function tL(n){const t={};for(const e in n)t[e]=n[e];return t}var nL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iL(n,t){let e,i;for(let s=1;s<arguments.length;s++){for(e in i=arguments[s],i)n[e]=i[e];for(let o=0;o<nL.length;o++)e=nL[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function IA(n){return IA[" "](n),n}IA[" "]=DT;var PT,n,Lq=Ps(Os,"Opera"),fm=Ps(Os,"Trident")||Ps(Os,"MSIE"),rL=Ps(Os,"Edge"),TA=rL||fm,sL=Ps(Os,"Gecko")&&!(Ps(Os.toLowerCase(),"webkit")&&!Ps(Os,"Edge"))&&!(Ps(Os,"Trident")||Ps(Os,"MSIE"))&&!Ps(Os,"Edge"),Fq=Ps(Os.toLowerCase(),"webkit")&&!Ps(Os,"Edge");function oL(){var n=Jt.document;return n?n.documentMode:void 0}e:{var EA="",xA=(n=Os,sL?/rv:([^\);]+)(\)|;)/.exec(n):rL?/Edge\/([\d\.]+)/.exec(n):fm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Fq?/WebKit\/(\S+)/.exec(n):Lq?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xA&&(EA=xA?xA[1]:""),fm){var DA=oL();if(null!=DA&&DA>parseFloat(EA)){PT=String(DA);break e}}PT=EA}var Vq={};var Bq=Jt.document&&fm&&(oL()||parseInt(PT,10))||void 0,Hq=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",DT,t),Jt.removeEventListener("test",DT,t)}catch(e){}return n}();function os(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function s0(n,t){if(os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(sL){e:{try{IA(t.nodeName);var s=!0;break e}catch(o){}s=!1}s||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jq[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&s0.Z.h.call(this)}}os.prototype.h=function(){this.defaultPrevented=!0},$r(s0,os);var jq={2:"touch",3:"pen",4:"mouse"};s0.prototype.h=function(){s0.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var o0="closure_listenable_"+(1e6*Math.random()|0),Zq=0;function qq(n,t,e,i,s){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=s,this.key=++Zq,this.ca=this.fa=!1}function OT(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function MT(n){this.src=n,this.g={},this.h=0}function AA(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],s=KN(i,t);(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(OT(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function PA(n,t,e,i){for(var s=0;s<n.length;++s){var o=n[s];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return s}return-1}MT.prototype.add=function(n,t,e,i,s){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=PA(n,t,i,s);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new qq(t,this.src,o,!!i,s)).fa=e,n.push(t)),t};var OA="closure_lm_"+(1e6*Math.random()|0),MA={};function lL(n,t,e,i,s){if(i&&i.once)return uL(n,t,e,i,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)lL(n,t[o],e,i,s);return null}return e=LA(e),n&&n[o0]?n.N(t,e,r0(i)?!!i.capture:!!i,s):cL(n,t,e,!1,i,s)}function cL(n,t,e,i,s,o){if(!t)throw Error("Invalid event type");var u=r0(s)?!!s.capture:!!s,h=RA(n);if(h||(n[OA]=h=new MT(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function Gq(){var t=$q;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Hq||(s=u),void 0===s&&(s=!1),n.addEventListener(t.toString(),i,s);else if(n.attachEvent)n.attachEvent(hL(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function uL(n,t,e,i,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)uL(n,t[o],e,i,s);return null}return e=LA(e),n&&n[o0]?n.O(t,e,r0(i)?!!i.capture:!!i,s):cL(n,t,e,!0,i,s)}function dL(n,t,e,i,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)dL(n,t[o],e,i,s);else i=r0(i)?!!i.capture:!!i,e=LA(e),n&&n[o0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=PA(o=n.g[t],e,i,s))&&(OT(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=RA(n))&&(t=n.g[t.toString()],n=-1,t&&(n=PA(t,e,i,s)),(e=-1<n?t[n]:null)&&kA(e))}function kA(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[o0])AA(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(hL(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=RA(t))?(AA(e,n),0==e.h&&(e.src=null,t[OA]=null)):OT(n)}}}function hL(n){return n in MA?MA[n]:MA[n]="on"+n}function $q(n,t){if(n.ca)n=!0;else{t=new s0(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&kA(n),n=e.call(i,t)}return n}function RA(n){return(n=n[OA])instanceof MT?n:null}var NA="__closure_events_fn_"+(1e9*Math.random()>>>0);function LA(n){return"function"==typeof n?n:(n[NA]||(n[NA]=function(t){return n.handleEvent(t)}),n[NA])}function Pr(){Td.call(this),this.i=new MT(this),this.P=this,this.I=null}function zr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new os(t,n);else if(t instanceof os)t.target=t.target||n;else{var s=t;iL(t=new os(i,n),s)}if(s=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];s=kT(u,i,!0,t)&&s}if(s=kT(u=t.g=n,i,!0,t)&&s,s=kT(u,i,!1,t)&&s,e)for(o=0;o<e.length;o++)s=kT(u=t.g=e[o],i,!1,t)&&s}function kT(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,g=u.ia||u.src;u.fa&&AA(n.i,u),s=!1!==h.call(g,i)&&s}}return s&&!i.defaultPrevented}$r(Pr,Td),Pr.prototype[o0]=!0,Pr.prototype.removeEventListener=function(n,t,e,i){dL(this,n,t,e,i)},Pr.prototype.M=function(){if(Pr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)OT(e[i]);delete n.g[t],n.h--}}this.I=null},Pr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Pr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var FA=Jt.JSON.stringify;function zq(){var n=fL;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var UA,pL=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Kq,n=>n.reset());class Kq{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Yq(n){Jt.setTimeout(()=>{throw n},0)}function VA(n,t){UA||function Qq(){var n=Jt.Promise.resolve(void 0);UA=function(){n.then(Jq)}}(),BA||(UA(),BA=!0),fL.add(n,t)}var BA=!1,fL=new class Wq{constructor(){this.h=this.g=null}add(t,e){const i=pL.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Jq(){for(var n;n=zq();){try{n.h.call(n.g)}catch(e){Yq(e)}var t=pL;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}BA=!1}function RT(n,t){Pr.call(this),this.h=n||1,this.g=t||Jt,this.j=Gr(this.kb,this),this.l=Date.now()}function HA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function jA(n,t,e){if("function"==typeof n)e&&(n=Gr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Jt.setTimeout(n,t||0)}function gL(n){n.g=jA(()=>{n.g=null,n.i&&(n.i=!1,gL(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}$r(RT,Pr),(_t=RT.prototype).da=!1,_t.S=null,_t.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zr(this,"tick"),this.da&&(HA(this),this.start()))}},_t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){RT.Z.M.call(this),HA(this),delete this.g};class Xq extends Td{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:gL(this)}M(){super.M(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function a0(n){Td.call(this),this.h=n,this.g={}}$r(a0,Td);var mL=[];function _L(n,t,e,i){Array.isArray(e)||(e&&(mL[0]=e.toString()),e=mL);for(var s=0;s<e.length;s++){var o=lL(t,e[s],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function yL(n){CA(n.g,function(t,e){this.g.hasOwnProperty(e)&&kA(t)},n),n.g={}}function NT(){this.g=!0}function gm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function iG(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<s.length;u++)s[u]=""}}}return FA(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}a0.prototype.M=function(){a0.Z.M.call(this),yL(this)},a0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},NT.prototype.Aa=function(){this.g=!1},NT.prototype.info=function(){};var hp={},vL=null;function LT(){return vL=vL||new Pr}function bL(n){os.call(this,hp.Ma,n)}function l0(n){const t=LT();zr(t,new bL(t,n))}function wL(n,t){os.call(this,hp.STAT_EVENT,n),this.stat=t}function Ms(n){const t=LT();zr(t,new wL(t,n))}function CL(n,t){os.call(this,hp.Na,n),this.size=t}function c0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},t)}hp.Ma="serverreachability",$r(bL,os),hp.STAT_EVENT="statevent",$r(wL,os),hp.Na="timingevent",$r(CL,os);var FT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},IL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ZA(){}function EL(){}ZA.prototype.h=null;var $A,u0={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qA(){os.call(this,"d")}function GA(){os.call(this,"c")}function VT(){}function d0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new a0(this),this.P=rG,this.W=new RT(n=TA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xL}function xL(){this.i=null,this.g="",this.h=!1}$r(qA,os),$r(GA,os),$r(VT,ZA),VT.prototype.g=function(){return new XMLHttpRequest},VT.prototype.i=function(){return{}},$A=new VT;var rG=45e3,zA={},UT={};function WA(n,t,e){n.K=1,n.v=qT(Lc(t)),n.s=e,n.U=!0,DL(n,null)}function DL(n,t){n.F=Date.now(),h0(n),n.A=Lc(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),LL(e.h,"t",i),n.C=0,e=n.l.H,n.h=new xL,n.g=sF(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Xq(Gr(n.Ia,n,n.g),n.O)),_L(n.V,n.g,"readystatechange",n.gb),t=n.H?tL(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),l0(1),function eG(n,t,e,i,s,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var I=v[0];v=v[1];var E=I.split("_");u=2<=E.length&&"type"==E[1]?u+(I+"=")+v+"&":u+(I+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function SL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function AL(n,t,e){let s,i=!0;for(;!n.I&&n.C<e.length;){if(s=sG(n,e),s==UT){4==t&&(n.o=4,Ms(14),i=!1),gm(n.j,n.m,null,"[Incomplete Response]");break}if(s==zA){n.o=4,Ms(15),gm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}gm(n.j,n.m,s,null),KA(n,s)}SL(n)&&s!=UT&&s!=zA&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ms(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),oP(t),t.L=!0,Ms(11))):(gm(n.j,n.m,e,"[Invalid Chunked Response]"),pp(n),p0(n))}function sG(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?UT:(e=Number(t.substring(e,i)),isNaN(e)?zA:(i+=1)+e>t.length?UT:(t=t.substr(i,e),n.C=i+e,t))}function h0(n){n.Y=Date.now()+n.P,PL(n,n.P)}function PL(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=c0(Gr(n.eb,n),t)}function BT(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function p0(n){0==n.l.G||n.I||tF(n.l,n)}function pp(n){BT(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,HA(n.W),yL(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function KA(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||JA(e.i,n)))if(e.I=n.N,!n.J&&JA(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0])e:if(e.u)e.ta=s[1],0<e.ta-e.U&&37500>s[2]&&e.N&&0==e.A&&!e.v&&(e.v=c0(Gr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;YT(e),WT(e)}sP(e),Ms(18)}if(1>=UL(e.i)&&e.ka){try{e.ka()}catch(v){}e.ka=void 0}}else mp(e,11)}else if((n.J||e.g==n)&&YT(e),!AT(t))for(s=e.Ca.g.parse(t),t=0;t<s.length;t++){let v=s[t];if(e.U=v[0],v=v[1],2==e.G)if("c"==v[0]){e.J=v[1],e.la=v[2];const I=v[3];null!=I&&(e.ma=I,e.h.info("VER="+e.ma));const E=v[4];null!=E&&(e.za=E,e.h.info("SVER="+e.za));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const M=n.g;if(M){const V=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var o=i.i;!o.g&&(Ps(V,"spdy")||Ps(V,"quic")||Ps(V,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(XA(o,o.h),o.h=null))}if(i.D){const X=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.sa=X,di(i.F,i.D,X))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=rF(i,i.H?i.la:null,i.W),u.J){BL(i.i,u);var h=u,g=i.K;g&&h.setTimeout(g),h.B&&(BT(h),h0(h)),i.g=u}else XL(i);0<e.l.length&&KT(e)}else"stop"!=v[0]&&"close"!=v[0]||mp(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?mp(e,7):iP(e):"noop"!=v[0]&&e.j&&e.j.wa(v),e.A=0)}l0(4)}catch(v){}}function YA(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(yA(n)||"string"==typeof n)YN(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(yA(n)||"string"==typeof n){e=[];for(var i=n.length,s=0;s<i;s++)e.push(s)}else for(s in e=[],i=0,n)e[i++]=s;i=function oG(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(yA(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),s=i.length;for(var o=0;o<s;o++)t.call(void 0,i[o],e&&e[o],n)}}function mm(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof mm)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function QA(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];fp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var s={};for(e=t=0;t<n.g.length;)fp(s,i=n.g[t])||(n.g[e++]=i,s[i]=1),t++;n.g.length=e}}function fp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(_t=d0.prototype).setTimeout=function(n){this.P=n},_t.gb=function(n){n=n.target;const t=this.L;t&&3==Fc(n)?t.l():this.Ia(n)},_t.Ia=function(n){try{if(n==this.g)e:{const I=Fc(this.g);var t=this.g.Da();const E=this.g.ba();if(!(3>I)&&(3!=I||TA||this.g&&(this.h.h||this.g.ga()||WL(this.g)))){this.I||4!=I||7==t||l0(8==t||0>=E?3:2),BT(this);var e=this.g.ba();this.N=e;t:if(SL(this)){var i=WL(this.g);n="";var s=i.length,o=4==Fc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pp(this),p0(this);var u="";break t}this.h.i=new Jt.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==s-1});i.splice(0,s),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function tG(n,t,e,i,s,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!AT(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Ms(12),pp(this),p0(this);break e}gm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,KA(this,e)}this.U?(AL(this,I,u),TA&&this.i&&3==I&&(_L(this.V,this.W,"tick",this.fb),this.W.start())):(gm(this.j,this.m,u,null),KA(this,u)),4==I&&pp(this),this.i&&!this.I&&(4==I?tF(this.l,this):(this.i=!1,h0(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Ms(12)):(this.o=0,Ms(13)),pp(this),p0(this)}}}catch(I){}},_t.fb=function(){if(this.g){var n=Fc(this.g),t=this.g.ga();this.C<t.length&&(BT(this),AL(this,n,t),this.i&&4!=n&&h0(this))}},_t.cancel=function(){this.I=!0,pp(this)},_t.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nG(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(l0(3),Ms(17)),pp(this),this.o=2,p0(this)):PL(this,this.Y-n)},(_t=mm.prototype).R=function(){QA(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},_t.T=function(){return QA(this),this.g.concat()},_t.get=function(n,t){return fp(this.h,n)?this.h[n]:t},_t.set=function(n,t){fp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},_t.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var s=e[i],o=this.get(s);n.call(t,o,s,this)}};var OL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof gp){this.g=void 0!==t?t:n.g,HT(this,n.j),this.s=n.s,jT(this,n.i),ZT(this,n.m),this.l=n.l,t=n.h;var e=new m0;e.i=t.i,t.g&&(e.g=new mm(t.g),e.h=t.h),ML(this,e),this.o=n.o}else n&&(e=String(n).match(OL))?(this.g=!!t,HT(this,e[1]||"",!0),this.s=f0(e[2]||""),jT(this,e[3]||"",!0),ZT(this,e[4]),this.l=f0(e[5]||"",!0),ML(this,e[6]||"",!0),this.o=f0(e[7]||"")):(this.g=!!t,this.h=new m0(null,this.g))}function Lc(n){return new gp(n)}function HT(n,t,e){n.j=e?f0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function jT(n,t,e){n.i=e?f0(t,!0):t}function ZT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function ML(n,t,e){t instanceof m0?(n.h=t,function gG(n,t){t&&!n.j&&(Ed(n),n.i=null,n.g.forEach(function(e,i){var s=i.toLowerCase();i!=s&&(RL(this,i),LL(this,s,e))},n)),n.j=t}(n.h,n.g)):(e||(t=g0(t,pG)),n.h=new m0(t,n.g))}function di(n,t,e){n.h.set(t,e)}function qT(n){return di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function f0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function g0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,uG),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uG(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(g0(t,kL,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(g0(t,kL,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(g0(e,"/"==e.charAt(0)?hG:dG,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",g0(e,fG)),n.join("")};var kL=/[#\/\?@]/g,dG=/[#\?:]/g,hG=/[#\?]/g,pG=/[#\?@]/g,fG=/#/g;function m0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ed(n){n.g||(n.g=new mm,n.h=0,n.i&&function aG(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),s=null;if(0<=i){var o=n[e].substring(0,i);s=n[e].substring(i+1)}else o=n[e];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function RL(n,t){Ed(n),t=_m(n,t),fp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,fp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&QA(n)))}function NL(n,t){return Ed(n),t=_m(n,t),fp(n.g.h,t)}function LL(n,t,e){RL(n,t),0<e.length&&(n.i=null,n.g.set(_m(n,t),bA(e)),n.h+=e.length)}function _m(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function FL(n){this.l=n||_G,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ea&&Jt.g.Ea()&&Jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=m0.prototype).add=function(n,t){Ed(this),this.i=null,n=_m(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},_t.forEach=function(n,t){Ed(this),this.g.forEach(function(e,i){YN(e,function(s){n.call(t,s,i,this)},this)},this)},_t.T=function(){Ed(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var s=n[i],o=0;o<s.length;o++)e.push(t[i]);return e},_t.R=function(n){Ed(this);var t=[];if("string"==typeof n)NL(this,n)&&(t=QN(t,this.g.get(_m(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=QN(t,n[e])}return t},_t.set=function(n,t){return Ed(this),this.i=null,NL(this,n=_m(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},_t.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],s=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=s;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var _G=10;function VL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function UL(n){return n.h?1:n.g?n.g.size:0}function JA(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function XA(n,t){n.g?n.g.add(t):n.h=t}function BL(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function HL(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return bA(n.i)}function eP(){}function yG(){this.g=new eP}function vG(n,t,e){const i=e||"";try{YA(n,function(s,o){let u=s;r0(s)&&(u=FA(s)),t.push(i+o+"="+encodeURIComponent(u))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function GT(n,t,e,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch(o){}}function _0(n){this.l=n.$b||null,this.j=n.ib||!1}function $T(n,t){Pr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=tP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FL.prototype.cancel=function(){if(this.i=HL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},eP.prototype.stringify=function(n){return Jt.JSON.stringify(n,void 0)},eP.prototype.parse=function(n){return Jt.JSON.parse(n,void 0)},$r(_0,ZA),_0.prototype.g=function(){return new $T(this.l,this.j)},_0.prototype.i=function(n){return function(){return n}}({}),$r($T,Pr);var tP=0;function jL(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function y0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,v0(n)}function v0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=$T.prototype).open=function(n,t){if(this.readyState!=tP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,v0(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Jt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,y0(this)),this.readyState=tP},_t.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,v0(this)),this.g&&(this.readyState=3,v0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jL(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},_t.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?y0(this):v0(this),3==this.readyState&&jL(this)}},_t.Ua=function(n){this.g&&(this.response=this.responseText=n,y0(this))},_t.Ta=function(n){this.g&&(this.response=n,y0(this))},_t.ha=function(){this.g&&y0(this)},_t.setRequestHeader=function(n,t){this.v.append(n,t)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty($T.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wG=Jt.JSON.parse;function ir(n){Pr.call(this),this.headers=new mm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZL,this.K=this.L=!1}$r(ir,Pr);var ZL="",CG=/^https?$/i,IG=["POST","PUT"];function EG(n){return"content-type"==n.toLowerCase()}function qL(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,GL(n),zT(n)}function GL(n){n.D||(n.D=!0,zr(n,"complete"),zr(n,"error"))}function $L(n){if(n.h&&void 0!==_A&&(!n.C[1]||4!=Fc(n)||2!=n.ba()))if(n.v&&4==Fc(n))jA(n.Fa,0,n);else if(zr(n,"readystatechange"),4==Fc(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var s=String(n.H).match(OL)[1]||null;if(!s&&Jt.self&&Jt.self.location){var o=Jt.self.location.protocol;s=o.substr(0,o.length-1)}i=!CG.test(s?s.toLowerCase():"")}e=i}if(e)zr(n,"complete"),zr(n,"success");else{n.m=6;try{var u=2<Fc(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.ba()+"]",GL(n)}}finally{zT(n)}}}function zT(n,t){if(n.g){zL(n);const e=n.g,i=n.C[0]?DT:null;n.g=null,n.C=null,t||zr(n,"ready");try{e.onreadystatechange=i}catch(s){}}}function zL(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function Fc(n){return n.g?n.g.readyState:0}function WL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ZL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nP(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function xG(n){let t="";return CA(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):di(n,t,e))}function b0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function KL(n){this.za=0,this.l=[],this.h=new NT,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=b0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=b0("baseRetryDelayMs",5e3,n),this.$a=b0("retryDelaySeedMs",1e4,n),this.Ya=b0("forwardChannelMaxRetries",2,n),this.ra=b0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new FL(n&&n.concurrentRequestLimit),this.Ca=new yG,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function iP(n){if(YL(n),3==n.G){var t=n.V++,e=Lc(n.F);di(e,"SID",n.J),di(e,"RID",t),di(e,"TYPE","terminate"),w0(n,e),(t=new d0(n,n.h,t,void 0)).K=2,t.v=qT(Lc(e)),e=!1,Jt.navigator&&Jt.navigator.sendBeacon&&(e=Jt.navigator.sendBeacon(t.v.toString(),"")),!e&&Jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=sF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),h0(t)}iF(n)}function WT(n){n.g&&(oP(n),n.g.cancel(),n.g=null)}function YL(n){WT(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),YT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function rP(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&KT(n)}function KT(n){VL(n.i)||n.m||(n.m=!0,VA(n.Ha,n),n.C=0)}function QL(n,t){var e;e=t?t.m:n.V++;const i=Lc(n.F);di(i,"SID",n.J),di(i,"RID",e),di(i,"AID",n.U),w0(n,i),n.o&&n.s&&nP(i,n.o,n.s),e=new d0(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=JL(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),XA(n.i,e),WA(e,i,t)}function w0(n,t){n.j&&YA({},function(e,i){di(t,i,e)})}function JL(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Gr(n.j.Oa,n.j,n):null;e:{var s=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=s[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let g=0;g<e;g++){let v=s[g].h;const I=s[g].g;if(v-=o,0>v)o=Math.max(0,s[g].h-100),h=!1;else try{vG(I,u,"req"+v+"_")}catch(E){i&&i(I)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function XL(n){n.g||n.u||(n.Y=1,VA(n.Ga,n),n.A=0)}function sP(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=c0(Gr(n.Ga,n),nF(n,n.A)),n.A++,0))}function oP(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function eF(n){n.g=new d0(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Lc(n.oa);di(t,"RID","rpc"),di(t,"SID",n.J),di(t,"CI",n.N?"0":"1"),di(t,"AID",n.U),w0(n,t),di(t,"TYPE","xmlhttp"),n.o&&n.s&&nP(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=qT(Lc(t)),e.s=null,e.U=!0,DL(e,n)}function YT(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function tF(n,t){var e=null;if(n.g==t){YT(n),oP(n),n.g=null;var i=2}else{if(!JA(n.i,t))return;e=t.D,BL(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var s=n.C;zr(i=LT(),new CL(i,e,t,s)),KT(n)}else XL(n);else if(3==(s=t.o)||0==s&&0<n.I||!(1==i&&function DG(n,t){return!(UL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=c0(Gr(n.Ha,n,t),nF(n,n.C)),n.C++,0)))}(n,t)||2==i&&sP(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),s){case 1:mp(n,5);break;case 4:mp(n,10);break;case 3:mp(n,6);break;default:mp(n,2)}}function nF(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function mp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Gr(n.jb,n);e||(e=new gp("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||HT(e,"https"),qT(e)),function bG(n,t){const e=new NT;if(Jt.Image){const i=new Image;i.onload=ST(GT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=ST(GT,e,i,"TestLoadImage: error",!1,t),i.onabort=ST(GT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=ST(GT,e,i,"TestLoadImage: timeout",!1,t),Jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ms(2);n.G=0,n.j&&n.j.va(t),iF(n),YL(n)}function iF(n){n.G=0,n.I=-1,n.j&&((0!=HL(n.i).length||0!=n.l.length)&&(n.i.i.length=0,bA(n.l),n.l.length=0),n.j.ua())}function rF(n,t,e){let i=function lG(n){return n instanceof gp?Lc(n):new gp(n,void 0)}(e);if(""!=i.i)t&&jT(i,t+"."+i.i),ZT(i,i.m);else{const s=Jt.location;i=function cG(n,t,e,i){var s=new gp(null,void 0);return n&&HT(s,n),t&&jT(s,t),e&&ZT(s,e),i&&(s.l=i),s}(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,e)}return n.aa&&CA(n.aa,function(s,o){di(i,o,s)}),e=n.sa,(t=n.D)&&e&&di(i,t,e),di(i,"VER",n.ma),w0(n,i),i}function sF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ir(e&&n.Ba&&!n.qa?new _0({ib:!0}):n.qa)).L=n.H,t}function oF(){}function QT(){if(fm&&!(10<=Number(Bq)))throw Error("Environmental error: no available transport.")}function Mo(n,t){Pr.call(this),this.g=new KL(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!AT(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!AT(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ym(this)}function aF(n){qA.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function lF(){GA.call(this),this.status=1}function ym(n){this.g=n}(_t=ir.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$A.g(),this.C=function TL(n){return n.h||(n.h=n.i())}(this.u?this.u:$A),this.g.onreadystatechange=Gr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void qL(this,o)}n=e||"";const s=new mm(this.headers);i&&YA(i,function(o,u){s.set(u,o)}),i=function Rq(n){e:{var t=EG;const e=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<e;s++)if(s in i&&t.call(void 0,i[s],s,n)){t=s;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(s.T()),e=Jt.FormData&&n instanceof Jt.FormData,!(0<=KN(IG,t))||i||e||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zL(this),0<this.B&&((this.K=function TG(n){return fm&&function Uq(){return function Nq(n){var t=Vq;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=JN(String(PT)).split("."),e=JN("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var s=t[u]||"",o=e[u]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;n=wA(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||wA(0==s[2].length,0==o[2].length)||wA(s[2],o[2]),s=s[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gr(this.pa,this)):this.A=jA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){qL(this,o)}},_t.pa=function(){void 0!==_A&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zr(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zr(this,"complete"),zr(this,"abort"),zT(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zT(this,!0)),ir.Z.M.call(this)},_t.Fa=function(){this.s||(this.F||this.v||this.l?$L(this):this.cb())},_t.cb=function(){$L(this)},_t.ba=function(){try{return 2<Fc(this)?this.g.status:-1}catch(n){return-1}},_t.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},_t.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),wG(t)}},_t.Da=function(){return this.m},_t.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=KL.prototype).ma=8,_t.G=1,_t.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},_t.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new d0(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=tL(o),iL(o,this.P)):o=this.P),null===this.o&&(s.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=JL(this,s,t),di(e=Lc(this.F),"RID",n),di(e,"CVER",22),this.D&&di(e,"X-HTTP-Session-Id",this.D),w0(this,e),this.o&&o&&nP(e,this.o,o),XA(this.i,s),this.Ra&&di(e,"TYPE","init"),this.ja?(di(e,"$req",t),di(e,"SID","null"),s.$=!0,WA(s,e,null)):WA(s,e,t),this.G=2}}else 3==this.G&&(n?QL(this,n):0==this.l.length||VL(this.i)||QL(this))},_t.Ga=function(){if(this.u=null,eF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=c0(Gr(this.bb,this),n)}},_t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ms(10),WT(this),eF(this))},_t.ab=function(){null!=this.v&&(this.v=null,WT(this),sP(this),Ms(19))},_t.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ms(2)):(this.h.info("Failed to ping google.com"),Ms(1))},(_t=oF.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Oa=function(){},QT.prototype.g=function(n,t){return new Mo(n,t)},$r(Mo,Pr),Mo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),VA(Gr(n.hb,n,t))),Ms(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=rF(n,null,n.W),KT(n)},Mo.prototype.close=function(){iP(this.g)},Mo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,rP(this.g,t)}else this.v?((t={}).__data__=FA(n),rP(this.g,t)):rP(this.g,n)},Mo.prototype.M=function(){this.g.j=null,delete this.j,iP(this.g),delete this.g,Mo.Z.M.call(this)},$r(aF,qA),$r(lF,GA),$r(ym,oF),ym.prototype.xa=function(){zr(this.g,"a")},ym.prototype.wa=function(n){zr(this.g,new aF(n))},ym.prototype.va=function(n){zr(this.g,new lF(n))},ym.prototype.ua=function(){zr(this.g,"b")},QT.prototype.createWebChannel=QT.prototype.g,Mo.prototype.send=Mo.prototype.u,Mo.prototype.open=Mo.prototype.m,Mo.prototype.close=Mo.prototype.close,FT.NO_ERROR=0,FT.TIMEOUT=8,FT.HTTP_ERROR=6,IL.COMPLETE="complete",EL.EventType=u0,u0.OPEN="a",u0.CLOSE="b",u0.ERROR="c",u0.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,ir.prototype.listenOnce=ir.prototype.O,ir.prototype.getLastError=ir.prototype.La,ir.prototype.getLastErrorCode=ir.prototype.Da,ir.prototype.getStatus=ir.prototype.ba,ir.prototype.getResponseJson=ir.prototype.Qa,ir.prototype.getResponseText=ir.prototype.ga,ir.prototype.send=ir.prototype.ea;var SG=Nc.createWebChannelTransport=function(){return new QT},AG=Nc.getStatEventTarget=function(){return LT()},aP=Nc.ErrorCode=FT,PG=Nc.EventType=IL,OG=Nc.Event=hp,cF=Nc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},MG=Nc.FetchXmlHttpFactory=_0,JT=Nc.WebChannel=EL,kG=Nc.XhrIo=ir;const uF="@firebase/firestore";class Or{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let vm="9.9.0";const xd=new Id.Yd("@firebase/firestore");function lP(){return xd.logLevel}function qe(n,...t){if(xd.logLevel<=Id.in.DEBUG){const e=t.map(cP);xd.debug(`Firestore (${vm}): ${n}`,...e)}}function rr(n,...t){if(xd.logLevel<=Id.in.ERROR){const e=t.map(cP);xd.error(`Firestore (${vm}): ${n}`,...e)}}function C0(n,...t){if(xd.logLevel<=Id.in.WARN){const e=t.map(cP);xd.warn(`Firestore (${vm}): ${n}`,...e)}}function cP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function vt(n="Unexpected state"){const t=`FIRESTORE (${vm}) INTERNAL ASSERTION FAILED: `+n;throw rr(t),new Error(t)}function Gt(n,t){n||vt()}function ct(n,t){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends qt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class dF{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Or.UNAUTHENTICATED))}shutdown(){}}class FG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class VG{constructor(t){this.t=t,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let s=this.i;const o=v=>this.i!==s?(s=this.i,e(v)):Promise.resolve();let u=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,Ie.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},g=v=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Gt("string"==typeof i.accessToken),new dF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Gt(null===t||"string"==typeof t),new Or(t)}}class UG{constructor(t,e,i){this.type="FirstParty",this.user=Or.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const s=t.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class BG{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new UG(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HG{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,qe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?s(o):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Gt("string"==typeof e.token),this.p=e.token,new hF(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jG(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class pF{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=jG(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%t.length))}return i}}function an(n,t){return n<t?-1:n>t?1:0}function bm(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}function fF(n){return n+"\0"}class hi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return hi.fromMillis(Date.now())}static fromDate(t){return hi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new hi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?an(this.nanoseconds,t.nanoseconds):an(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new hi(0,0))}static max(){return new Bt(new hi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class I0{constructor(t,e,i){void 0===e?e=0:e>t.length&&vt(),void 0===i?i=t.length-e:i>t.length-e&&vt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===I0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof I0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=t.get(s),u=e.get(s);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class En extends I0{construct(t,e,i){return new En(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new En(e)}static emptyPath(){return new En([])}}const ZG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends I0{construct(t,e,i){return new $i(t,e,i)}static isValidIdentifier(t){return ZG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(0===i.length)throw new Le(be.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;s<t.length;){const h=t[s];if("\\"===h){if(s+1===t.length)throw new Le(be.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[s+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Le(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,s+=2}else"`"===h?(u=!u,s++):"."!==h||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new Le(be.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $i(e)}static emptyPath(){return new $i([])}}class st{constructor(t){this.path=t}static fromPath(t){return new st(En.fromString(t))}static fromName(t){return new st(En.fromString(t).popFirst(5))}static empty(){return new st(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===En.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return En.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new st(new En(t.slice()))}}class XT{constructor(t,e,i,s){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=s}}function uP(n){return n.fields.find(t=>2===t.kind)}function _p(n){return n.fields.filter(t=>2!==t.kind)}XT.UNKNOWN_ID=-1;class eE{constructor(t,e){this.fieldPath=t,this.kind=e}}class T0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new T0(0,ko.min())}}function gF(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Bt.fromTimestamp(1e9===i?new hi(e+1,0):new hi(e,i));return new ko(s,st.empty(),t)}function mF(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ko(Bt.min(),st.empty(),-1)}static max(){return new ko(Bt.max(),st.empty(),-1)}}function dP(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=st.comparator(n.documentKey,t.documentKey),0!==e?e:an(n.largestBatchId,t.largestBatchId))}const _F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Dd(n){return hP.apply(this,arguments)}function hP(){return hP=(0,Ie.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==_F)throw n;qe("LocalStore","Unexpectedly lost primary lease")}),hP.apply(this,arguments)}class ge{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ge((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.reject(e)}static resolve(t){return new ge((e,i)=>{e(t)})}static reject(t){return new ge((e,i)=>{i(t)})}static waitFor(t){return new ge((e,i)=>{let s=0,o=0,u=!1;t.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&e()},g=>i(g))}),u=!0,o===s&&e()})}static or(t){let e=ge.resolve(!1);for(const i of t)e=e.next(s=>s?ge.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new ge((i,s)=>{const o=t.length,u=new Array(o);let h=0;for(let g=0;g<o;g++){const v=g;e(t[v]).next(I=>{u[v]=I,++h,h===o&&i(u)},I=>s(I))}})}static doWhile(t,e){return new ge((i,s)=>{const o=()=>{!0===t()?e().next(()=>{o()},s):i()};o()})}}class tE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Mr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new E0(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const s=pP(i.target.error);this.T.reject(new E0(t,s))}}static open(t,e,i,s){try{return new tE(e,t.transaction(s,i))}catch(o){throw new E0(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(qe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new GG(e)}}class Wa{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Wa.v((0,qt.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return qe("SimpleDb","Removing database:",t),yp(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,qt.hl)())return!1;if(Wa.S())return!0;const t=(0,qt.z$)(),e=Wa.v(t),i=0<e&&e<10,s=Wa.D(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,Ie.Z)(function*(){return e.db||(qe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,s)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{s(new E0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;s("VersionError"===h.name?new Le(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Le(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new E0(t,h))},o.onupgradeneeded=u=>{qe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.P.O(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{qe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=i=>e.M(i)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,s){var o=this;return(0,Ie.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.k(t);const g=tE.open(o.db,t,u?"readonly":"readwrite",i),v=s(g).next(I=>(g.R(),I)).catch(I=>(g.abort(I),ge.reject(I))).toPromise();return v.catch(()=>{}),yield g.A,v}catch(g){const v=g,I="FirebaseError"!==v.name&&h<3;if(qe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",I),o.close(),!I)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qG{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return yp(this.$.delete())}}class E0 extends Le{constructor(t,e){super(be.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Sd(n){return"IndexedDbTransactionError"===n.name}class GG{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(qe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),yp(i)}add(t){return qe("SimpleDb","ADD",this.store.name,t,t),yp(this.store.add(t))}get(t){return yp(this.store.get(t)).next(e=>(void 0===e&&(e=null),qe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return qe("SimpleDb","DELETE",this.store.name,t),yp(this.store.delete(t))}count(){return qe("SimpleDb","COUNT",this.store.name),yp(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const s=this.cursor(i),o=[];return this.G(s,(u,h)=>{o.push(h)}).next(()=>o)}{const s=this.store.getAll(i.range);return new ge((o,u)=>{s.onerror=h=>{u(h.target.error)},s.onsuccess=h=>{o(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ge((s,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{s(u.target.result)}})}W(t,e){qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const s=this.cursor(i);return this.G(s,(o,u,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.G(s,e)}Y(t){const e=this.cursor({});return new ge((i,s)=>{e.onerror=o=>{const u=pP(o.target.error);s(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(t,e){const i=[];return new ge((s,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const g=new qG(h),v=e(h.primaryKey,h.value,g);if(v instanceof ge){const I=v.catch(E=>(g.done(),ge.reject(E)));i.push(I)}g.isDone?s():null===g.U?h.continue():h.continue(g.U)}}).next(()=>ge.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function yp(n){return new ge((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const s=pP(i.target.error);e(s)}})}let vF=!1;function pP(n){const t=Wa.v((0,qt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vF||(vF=!0,setTimeout(()=>{throw i},0)),i}}return n}class $G{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;qe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ie.Z)(function*(){e.task=null;try{qe("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){Sd(i)?qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Dd(i)}yield e.Z(1)}))}}class zG{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,Ie.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let s=e,o=!0;return ge.doWhile(()=>!0===o&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return qe("IndexBackiller",`Processing collection: ${u}`),this.nt(t,u,s).next(h=>{s-=h,i.add(u)});o=!1})).next(()=>e-s)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(s=>this.localStore.localDocuments.getNextDocuments(t,e,s,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.st(s,o)).next(h=>(qe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}st(t,e){let i=t;return e.changes.forEach((s,o)=>{const u=mF(o);dP(u,i)>0&&(i=u)}),new ko(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class oo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function bF(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function vp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function wF(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}oo.ot=-1;class Li{constructor(t,e){this.comparator=t,this.root=e||Wr.EMPTY}insert(t,e){return new Li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(t){return new Li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nE(this.root,t,this.comparator,!1)}getReverseIterator(){return new nE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nE(this.root,t,this.comparator,!0)}}class nE{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wr{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=null!=i?i:Wr.RED,this.left=null!=s?s:Wr.EMPTY,this.right=null!=o?o:Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new Wr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):0===o?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return Wr.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(n,t,e,i,s){return this}insert(n,t,e){return new Wr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(t){this.comparator=t,this.data=new Li(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new CF(this.data.getIterator())}getIteratorFrom(t){return new CF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof qn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(s,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new qn(this.comparator);return e.data=t,e}}class CF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wm(n){return n.hasNext()?n.getNext():void 0}class Ro{constructor(t){this.fields=t,t.sort($i.comparator)}static empty(){return new Ro([])}unionWith(t){let e=new qn($i.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ro(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class mr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new mr(e)}static fromUint8Array(t){const e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new mr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return an(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const KG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ad(n){if(Gt(!!n),"string"==typeof n){let t=0;const e=KG.exec(n);if(Gt(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fi(n.seconds),nanos:Fi(n.nanos)}}function Fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bp(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function fP(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function IF(n){const t=n.mapValue.fields.__previous_value__;return fP(t)?IF(t):t}function x0(n){const t=Ad(n.mapValue.fields.__local_write_time__.timestampValue);return new hi(t.seconds,t.nanos)}class YG{constructor(t,e,i,s,o,u,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Vc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Vc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vc&&t.projectId===this.projectId&&t.database===this.database}}function D0(n){return null==n}function S0(n){return 0===n&&1/n==-1/0}function TF(n){return"number"==typeof n&&Number.isInteger(n)&&!S0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},iE={nullValue:"NULL_VALUE"};function wp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fP(n)?4:SF(n)?9007199254740991:10:vt()}function Al(n,t){if(n===t)return!0;const e=wp(n);if(e!==wp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return x0(n).isEqual(x0(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ad(i.timestampValue),u=Ad(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,bp(n.bytesValue).isEqual(bp(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return Fi(i.geoPointValue.latitude)===Fi(s.geoPointValue.latitude)&&Fi(i.geoPointValue.longitude)===Fi(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fi(i.integerValue)===Fi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fi(i.doubleValue),u=Fi(s.doubleValue);return o===u?S0(o)===S0(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return bm(n.arrayValue.values||[],t.arrayValue.values||[],Al);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(bF(o)!==bF(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Al(o[h],u[h])))return!1;return!0}(n,t);default:return vt()}var s}function A0(n,t){return void 0!==(n.values||[]).find(e=>Al(e,t))}function Od(n,t){if(n===t)return 0;const e=wp(n),i=wp(t);if(e!==i)return an(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return an(n.booleanValue,t.booleanValue);case 2:return function(s,o){const u=Fi(s.integerValue||s.doubleValue),h=Fi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return EF(n.timestampValue,t.timestampValue);case 4:return EF(x0(n),x0(t));case 5:return an(n.stringValue,t.stringValue);case 6:return function(s,o){const u=bp(s),h=bp(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const u=s.split("/"),h=o.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=an(u[g],h[g]);if(0!==v)return v}return an(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const u=an(Fi(s.latitude),Fi(o.latitude));return 0!==u?u:an(Fi(s.longitude),Fi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const u=s.values||[],h=o.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=Od(u[g],h[g]);if(v)return v}return an(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Pd.mapValue&&o===Pd.mapValue)return 0;if(s===Pd.mapValue)return 1;if(o===Pd.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),g=o.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let I=0;I<h.length&&I<v.length;++I){const E=an(h[I],v[I]);if(0!==E)return E;const O=Od(u[h[I]],g[v[I]]);if(0!==O)return O}return an(h.length,v.length)}(n.mapValue,t.mapValue);default:throw vt()}}function EF(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return an(n,t);const e=Ad(n),i=Ad(t),s=an(e.seconds,i.seconds);return 0!==s?s:an(e.nanos,i.nanos)}function Cm(n){return gP(n)}function gP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const s=Ad(i);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bp(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=gP(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${gP(i.fields[h])}`;return o+"}"}(n.mapValue):vt();var t}function Cp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function mP(n){return!!n&&"integerValue"in n}function P0(n){return!!n&&"arrayValue"in n}function xF(n){return!!n&&"nullValue"in n}function DF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rE(n){return!!n&&"mapValue"in n}function O0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return vp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=O0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=O0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function SF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function QG(n){return"nullValue"in n?iE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cp(Vc.empty(),st.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:vt()}function JG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cp(Vc.empty(),st.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Pd:vt()}function AF(n,t){const e=Od(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function PF(n,t){const e=Od(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Kr{constructor(t){this.value=t}static empty(){return new Kr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!rE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=O0(e)}setAll(t){let e=$i.emptyPath(),i={},s=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,i,s),i={},s=[],e=h.popLast()}u?i[h.lastSegment()]=O0(u):s.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());rE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Al(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];rE(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){vp(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new Kr(O0(this.value))}}function OF(n){const t=[];return vp(n.fields,(e,i)=>{const s=new $i([e]);if(rE(i)){const o=OF(i.mapValue).fields;if(0===o.length)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)}),new Ro(t)}class Xn{constructor(t,e,i,s,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Xn(t,0,Bt.min(),Bt.min(),Kr.empty(),0)}static newFoundDocument(t,e,i){return new Xn(t,1,e,Bt.min(),i,0)}static newNoDocument(t,e){return new Xn(t,2,e,Bt.min(),Kr.empty(),0)}static newUnknownDocument(t,e){return new Xn(t,3,e,Bt.min(),Kr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class XG{constructor(t,e=null,i=[],s=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.ut=null}}function MF(n,t=null,e=[],i=[],s=null,o=null,u=null){return new XG(n,t,e,i,s,o,u)}function Ip(n){const t=ct(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(s=i).field.canonicalString()+s.op.toString()+Cm(s.value);var s}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),D0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Cm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Cm(i)).join(",")),t.ut=e}return t.ut}function M0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!c5(n.orderBy[s],t.orderBy[s]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((e=n.filters[s]).op!==(i=t.filters[s]).op||!e.field.isEqual(i.field)||!Al(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!FF(n.startAt,t.startAt)&&FF(n.endAt,t.endAt)}function sE(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function oE(n,t){return n.filters.filter(e=>e instanceof Yr&&e.field.isEqual(t))}function kF(n,t,e){let i=iE,s=!0;for(const o of oE(n,t)){let u=iE,h=!0;switch(o.op){case"<":case"<=":u=QG(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=iE}AF({value:i,inclusive:s},{value:u,inclusive:h})<0&&(i=u,s=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];AF({value:i,inclusive:s},{value:u,inclusive:e.inclusive})<0&&(i=u,s=e.inclusive);break}return{value:i,inclusive:s}}function RF(n,t,e){let i=Pd,s=!0;for(const o of oE(n,t)){let u=Pd,h=!0;switch(o.op){case">=":case">":u=JG(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Pd}PF({value:i,inclusive:s},{value:u,inclusive:h})>0&&(i=u,s=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];PF({value:i,inclusive:s},{value:u,inclusive:e.inclusive})>0&&(i=u,s=e.inclusive);break}return{value:i,inclusive:s}}class Yr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new t5(t,e,i):"array-contains"===e?new s5(t,i):"in"===e?new o5(t,i):"not-in"===e?new a5(t,i):"array-contains-any"===e?new l5(t,i):new Yr(t,e,i)}static ct(t,e,i){return"in"===e?new n5(t,i):new r5(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Od(e,this.value)):null!==e&&wp(this.value)===wp(e)&&this.at(Od(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return vt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class t5 extends Yr{constructor(t,e,i){super(t,e,i),this.key=st.fromName(i.referenceValue)}matches(t){const e=st.comparator(t.key,this.key);return this.at(e)}}class n5 extends Yr{constructor(t,e){super(t,"in",e),this.keys=NF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class r5 extends Yr{constructor(t,e){super(t,"not-in",e),this.keys=NF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function NF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>st.fromName(i.referenceValue))}class s5 extends Yr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return P0(e)&&A0(e.arrayValue,this.value)}}class o5 extends Yr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&A0(this.value.arrayValue,e)}}class a5 extends Yr{constructor(t,e){super(t,"not-in",e)}matches(t){if(A0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!A0(this.value.arrayValue,e)}}class l5 extends Yr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!P0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>A0(this.value.arrayValue,i))}}class Md{constructor(t,e){this.position=t,this.inclusive=e}}class Im{constructor(t,e="asc"){this.field=t,this.dir=e}}function c5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function LF(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],u=n.position[s];if(i=o.field.isKeyField()?st.comparator(st.fromName(u.referenceValue),e.key):Od(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function FF(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Al(n.position[e],t.position[e]))return!1;return!0}class Uc{constructor(t,e=null,i=[],s=[],o=null,u="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=g,this.lt=null,this.ft=null}}function VF(n,t,e,i,s,o,u,h){return new Uc(n,t,e,i,s,o,u,h)}function Tm(n){return new Uc(n)}function _P(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yP(n){for(const t of n.filters)if(t.ht())return t.field;return null}function vP(n){return null!==n.collectionGroup}function Em(n){const t=ct(n);if(null===t.lt){t.lt=[];const e=yP(t),i=_P(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new Im(e)),t.lt.push(new Im($i.keyField(),"asc"));else{let s=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Im($i.keyField(),o))}}}return t.lt}function ma(n){const t=ct(n);if(!t.ft)if("F"===t.limitType)t.ft=MF(t.path,t.collectionGroup,Em(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Em(t))e.push(new Im(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Md(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Md(t.startAt.position,t.startAt.inclusive):null;t.ft=MF(t.path,t.collectionGroup,e,t.filters,t.limit,i,s)}return t.ft}function UF(n,t,e){return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function k0(n,t){return M0(ma(n),ma(t))&&n.limitType===t.limitType}function BF(n){return`${Ip(ma(n))}|lt:${n.limitType}`}function bP(n){return`Query(target=${function e5(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Cm(i.value)}`;var i}).join(", ")}]`),D0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Cm(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Cm(e)).join(",")),`Target(${t})`}(ma(n))}; limitType=${n.limitType})`}function wP(n,t){return t.isFoundDocument()&&function(e,i){const s=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):st.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(n,t)&&function(e,i){for(const s of e.explicitOrderBy)if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,t)&&function(e,i){for(const s of e.filters)if(!s.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(s,o,u){const h=LF(s,o,u);return s.inclusive?h<=0:h<0}(e.startAt,Em(e),i)||e.endAt&&!function(s,o,u){const h=LF(s,o,u);return s.inclusive?h>=0:h>0}(e.endAt,Em(e),i)));var e,i}function HF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jF(n){return(t,e)=>{let i=!1;for(const s of Em(n)){const o=d5(s,t,e);if(0!==o)return o;i=i||s.field.isKeyField()}return 0}}function d5(n,t,e){const i=n.field.isKeyField()?st.comparator(t.key,e.key):function(s,o,u){const h=o.data.field(s),g=u.data.field(s);return null!==h&&null!==g?Od(h,g):vt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return vt()}}function ZF(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S0(t)?"-0":t}}function qF(n){return{integerValue:""+n}}function GF(n,t){return TF(t)?qF(t):ZF(n,t)}class aE{constructor(){this._=void 0}}function h5(n,t,e){return n instanceof xm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Tp?zF(n,t):n instanceof Ep?WF(n,t):function(i,s){const o=$F(i,s),u=KF(o)+KF(i._t);return mP(o)&&mP(i._t)?qF(u):ZF(i.wt,u)}(n,t)}function p5(n,t,e){return n instanceof Tp?zF(n,t):n instanceof Ep?WF(n,t):e}function $F(n,t){return n instanceof Dm?mP(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class xm extends aE{}class Tp extends aE{constructor(t){super(),this.elements=t}}function zF(n,t){const e=YF(t);for(const i of n.elements)e.some(s=>Al(s,i))||e.push(i);return{arrayValue:{values:e}}}class Ep extends aE{constructor(t){super(),this.elements=t}}function WF(n,t){let e=YF(t);for(const i of n.elements)e=e.filter(s=>!Al(s,i));return{arrayValue:{values:e}}}class Dm extends aE{constructor(t,e){super(),this.wt=t,this._t=e}}function KF(n){return Fi(n.integerValue||n.doubleValue)}function YF(n){return P0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class R0{constructor(t,e){this.field=t,this.transform=e}}class g5{constructor(t,e){this.version=t,this.transformResults=e}}class wi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class cE{}function QF(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Am(n.key,wi.none()):new Sm(n.key,n.data,wi.none());{const e=n.data,i=Kr.empty();let s=new qn($i.comparator);for(let o of t.fields)if(!s.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),s=s.add(o)}return new Bc(n.key,i,new Ro(s.toArray()),wi.none())}}function m5(n,t,e){n instanceof Sm?function(i,s,o){const u=i.value.clone(),h=e2(i.fieldTransforms,s,o.transformResults);u.setAll(h),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Bc?function(i,s,o){if(!lE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=e2(i.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(XF(i)),h.setAll(u),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function N0(n,t,e,i){return n instanceof Sm?function(s,o,u,h){if(!lE(s.precondition,o))return u;const g=s.value.clone(),v=t2(s.fieldTransforms,h,o);return g.setAll(v),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Bc?function(s,o,u,h){if(!lE(s.precondition,o))return u;const g=t2(s.fieldTransforms,h,o),v=o.data;return v.setAll(XF(s)),v.setAll(g),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(I=>I.field))}(n,t,e,i):(u=e,lE(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function _5(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=$F(i.transform,s||null);null!=o&&(null===e&&(e=Kr.empty()),e.set(i.field,o))}return e||null}function JF(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&bm(e,i,(s,o)=>function f5(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Tp&&i instanceof Tp||e instanceof Ep&&i instanceof Ep?bm(e.elements,i.elements,Al):e instanceof Dm&&i instanceof Dm?Al(e._t,i._t):e instanceof xm&&i instanceof xm);var e,i}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Sm extends cE{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bc extends cE{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XF(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function e2(n,t,e){const i=new Map;Gt(n.length===e.length);for(let s=0;s<e.length;s++){const o=n[s],u=o.transform,h=t.data.field(o.field);i.set(o.field,p5(u,h,e[s]))}return i}function t2(n,t,e){const i=new Map;for(const s of n){const o=s.transform,u=e.data.field(s.field);i.set(s.field,h5(o,u,t))}return i}class Am extends cE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CP extends cE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y5{constructor(t){this.count=t}}var sr,xn;function n2(n){switch(n){default:return vt();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function r2(n){if(void 0===n)return rr("GRPC error has no .code"),be.UNKNOWN;switch(n){case sr.OK:return be.OK;case sr.CANCELLED:return be.CANCELLED;case sr.UNKNOWN:return be.UNKNOWN;case sr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case sr.INTERNAL:return be.INTERNAL;case sr.UNAVAILABLE:return be.UNAVAILABLE;case sr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case sr.NOT_FOUND:return be.NOT_FOUND;case sr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case sr.ABORTED:return be.ABORTED;case sr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case sr.DATA_LOSS:return be.DATA_LOSS;default:return vt()}}(xn=sr||(sr={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class kd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[s,o]of i)if(this.equalsFn(s,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return 1===i.length?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){vp(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return wF(this.inner)}size(){return this.innerSize}}const v5=new Li(st.comparator);function ao(){return v5}const s2=new Li(st.comparator);function L0(...n){let t=s2;for(const e of n)t=t.insert(e.key,e);return t}function o2(n){let t=s2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Pl(){return F0()}function a2(){return F0()}function F0(){return new kd(n=>n.toString(),(n,t)=>n.isEqual(t))}const b5=new Li(st.comparator),w5=new qn(st.comparator);function ln(...n){let t=w5;for(const e of n)t=t.add(e);return t}const C5=new qn(an);function uE(){return C5}class V0{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,U0.createSynthesizedTargetChangeForCurrentChange(t,e)),new V0(Bt.min(),i,uE(),ao(),ln())}}class U0{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new U0(mr.EMPTY_BYTE_STRING,e,ln(),ln(),ln())}}class dE{constructor(t,e,i,s){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=s}}class l2{constructor(t,e){this.targetId=t,this.It=e}}class c2{constructor(t,e,i=mr.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class u2{constructor(){this.Tt=0,this.Et=h2(),this.At=mr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=ln(),e=ln(),i=ln();return this.Et.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:vt()}}),new U0(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=h2()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class I5{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=ao(),this.Bt=d2(),this.Lt=new qn(an)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:vt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,s)=>{this.jt(s)&&e(s)})}zt(t){const e=t.targetId,i=t.It.count,s=this.Ht(e);if(s){const o=s.target;if(sE(o))if(0===i){const u=new st(o.path);this.Kt(e,u,Xn.newNoDocument(u,Bt.min()))}else Gt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,u)=>{const h=this.Ht(u);if(h){if(o.current&&sE(h.target)){const g=new st(h.target.path);null!==this.$t.get(g)||this.Xt(u,g)||this.Kt(u,g,Xn.newNoDocument(g,t))}o.vt&&(e.set(u,o.St()),o.Dt())}});let i=ln();this.Bt.forEach((o,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.Ht(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.$t.forEach((o,u)=>u.setReadTime(t));const s=new V0(t,e,this.Lt,this.$t,i);return this.$t=ao(),this.Bt=d2(),this.Lt=new qn(an),s}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const s=this.Qt(t);this.Xt(t,e)?s.Ct(e,1):s.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new u2,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new qn(an),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||qe("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new u2),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function d2(){return new Li(st.comparator)}function h2(){return new Li(st.comparator)}const T5={asc:"ASCENDING",desc:"DESCENDING"},E5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class x5{constructor(t,e){this.databaseId=t,this.dt=e}}function B0(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function p2(n,t){return n.dt?t.toBase64():t.toUint8Array()}function D5(n,t){return B0(n,t.toTimestamp())}function kr(n){return Gt(!!n),Bt.fromTimestamp(function(t){const e=Ad(t);return new hi(e.seconds,e.nanos)}(n))}function IP(n,t){return(e=n,new En(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function f2(n){const t=En.fromString(n);return Gt(I2(t)),t}function H0(n,t){return IP(n.databaseId,t.path)}function Ol(n,t){const e=f2(t);if(e.get(1)!==n.databaseId.projectId)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new st(m2(e))}function TP(n,t){return IP(n.databaseId,t)}function g2(n){const t=f2(n);return 4===t.length?En.emptyPath():m2(t)}function j0(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m2(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function _2(n,t,e){return{name:H0(n,t),fields:e.value.mapValue.fields}}function y2(n,t,e){const i=Ol(n,t.name),s=kr(t.updateTime),o=new Kr({mapValue:{fields:t.fields}}),u=Xn.newFoundDocument(i,s,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Z0(n,t){let e;if(t instanceof Sm)e={update:_2(n,t.key,t.value)};else if(t instanceof Am)e={delete:H0(n,t.key)};else if(t instanceof Bc)e={update:_2(n,t.key,t.data),updateMask:L5(t.fieldMask)};else{if(!(t instanceof CP))return vt();e={verify:H0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const u=o.transform;if(u instanceof xm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Tp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ep)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dm)return{fieldPath:o.field.canonicalString(),increment:u._t};throw vt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:D5(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:vt()),e;var s}function EP(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?wi.updateTime(kr(s.updateTime)):void 0!==s.exists?wi.exists(s.exists):wi.none():wi.none(),i=t.updateTransforms?t.updateTransforms.map(s=>function(o,u){let h=null;"setToServerValue"in u?(Gt("REQUEST_TIME"===u.setToServerValue),h=new xm):"appendMissingElements"in u?h=new Tp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Ep(u.removeAllFromArray.values||[]):"increment"in u?h=new Dm(o,u.increment):vt();const g=$i.fromServerFormat(u.fieldPath);return new R0(g,h)}(n,s)):[];var s;if(t.update){const s=Ol(n,t.update.name),o=new Kr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Ro((t.updateMask.fieldPaths||[]).map(v=>$i.fromServerFormat(v)));return new Bc(s,o,u,e,i)}return new Sm(s,o,e,i)}if(t.delete){const s=Ol(n,t.delete);return new Am(s,e)}if(t.verify){const s=Ol(n,t.verify);return new CP(s,e)}return vt()}function v2(n,t){return{documents:[TP(n,t.path)]}}function b2(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=TP(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=TP(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(g){if(0===g.length)return;const v=g.map(I=>function(E){if("=="===E.op){if(DF(E.value))return{unaryFilter:{field:Pm(E.field),op:"IS_NAN"}};if(xF(E.value))return{unaryFilter:{field:Pm(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(DF(E.value))return{unaryFilter:{field:Pm(E.field),op:"IS_NOT_NAN"}};if(xF(E.value))return{unaryFilter:{field:Pm(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pm(E.field),op:k5(E.op),value:E.value}}}(I));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);s&&(e.structuredQuery.where=s);const o=function(g){if(0!==g.length)return g.map(v=>{return{field:Pm((I=v).field),direction:M5(I.dir)};var I})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(v=t.limit,n.dt||D0(v)?v:{value:v});var v,h,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function w2(n){let t=g2(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Gt(1===i);const I=e.from[0];I.allDescendants?s=I.collectionId:t=t.child(I.collectionId)}let o=[];e.where&&(o=C2(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(I=>{return new Im(Om((E=I).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let h=null;e.limit&&(h=function(I){let E;return E="object"==typeof I?I.value:I,D0(E)?null:E}(e.limit));let g=null;var I;e.startAt&&(g=new Md((I=e.startAt).values||[],!!I.before));let v=null;return e.endAt&&(v=function(I){return new Md(I.values||[],!I.before)}(e.endAt)),VF(t,s,u,o,h,"F",g,v)}function C2(n){return n?void 0!==n.unaryFilter?[N5(n)]:void 0!==n.fieldFilter?[R5(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>C2(t)).reduce((t,e)=>t.concat(e)):vt():[]}function M5(n){return T5[n]}function k5(n){return E5[n]}function Pm(n){return{fieldPath:n.canonicalString()}}function Om(n){return $i.fromServerFormat(n.fieldPath)}function R5(n){return Yr.create(Om(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}function N5(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Om(n.unaryFilter.field);return Yr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Om(n.unaryFilter.field);return Yr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Om(n.unaryFilter.field);return Yr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Om(n.unaryFilter.field);return Yr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}function L5(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function I2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ks(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=T2(t)),t=F5(n.get(e),t);return T2(t)}function F5(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function T2(n){return n+"\x01\x01"}function Ml(n){const t=n.length;if(Gt(t>=2),2===t)return Gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const e=t-2,i=[];let s="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&vt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let g;0===s.length?g=h:(s+=h,g=s,s=""),i.push(g);break;case"\x10":s+=n.substring(o,u),s+="\0";break;case"\x11":s+=n.substring(o,u+1);break;default:vt()}o=u+2}return new En(i)}const E2=["userId","batchId"];function hE(n,t){return[n,ks(t)]}function x2(n,t,e){return[n,ks(t),e]}const V5={},U5=["prefixPath","collectionGroup","readTime","documentId"],B5=["prefixPath","collectionGroup","documentId"],H5=["collectionGroup","readTime","prefixPath","documentId"],j5=["canonicalId","targetId"],Z5=["targetId","path"],q5=["path","targetId"],G5=["collectionId","parent"],$5=["indexId","uid"],z5=["uid","sequenceNumber"],W5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],K5=["indexId","uid","orderedDocumentKey"],Y5=["userId","collectionPath","documentId"],Q5=["userId","collectionPath","largestBatchId"],J5=["userId","collectionGroup","largestBatchId"],D2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],X5=[...D2,"documentOverlays"],S2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],A2=S2,e$=[...A2,"indexConfiguration","indexState","indexEntries"];class xP extends yF{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Rr(n,t){const e=ct(n);return Wa.N(e.ee,t)}class DP{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&m5(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=N0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=N0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=a2();return this.mutations.forEach(s=>{const o=t.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(s.key)?null:h;const g=QF(u,h);null!==g&&i.set(s.key,g),u.isValidDocument()||u.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ln())}isEqual(t){return this.batchId===t.batchId&&bm(this.mutations,t.mutations,(e,i)=>JF(e,i))&&bm(this.baseMutations,t.baseMutations,(e,i)=>JF(e,i))}}class SP{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Gt(t.mutations.length===i.length);let s=b5;const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new SP(t,e,i,s)}}class AP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rd{constructor(t,e,i,s,o=Bt.min(),u=Bt.min(),h=mr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Rd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class P2{constructor(t){this.ne=t}}function O2(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:pE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:H0(s=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:B0(s,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:xp(t.version)};else{if(!t.isUnknownDocument())return vt();i.unknownDocument={path:e.path.toArray(),version:xp(t.version)}}var s,o;return i}function pE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function xp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Dp(n){const t=new hi(n.seconds,n.nanoseconds);return Bt.fromTimestamp(t)}function Sp(n,t){const e=(t.baseMutations||[]).map(o=>EP(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>EP(n.ne,o)),s=hi.fromMillis(t.localWriteTimeMs);return new DP(t.batchId,s,e,i)}function q0(n){const t=Dp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Dp(n.lastLimboFreeSnapshotVersion):Bt.min();let i;var s;return void 0!==n.query.documents?(Gt(1===(s=n.query).documents.length),i=ma(Tm(g2(s.documents[0])))):i=ma(w2(n.query)),new Rd(i,n.targetId,0,n.lastListenSequenceNumber,t,e,mr.fromBase64String(n.resumeToken))}function M2(n,t){const e=xp(t.snapshotVersion),i=xp(t.lastLimboFreeSnapshotVersion);let s;s=sE(t.target)?v2(n.ne,t.target):b2(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ip(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function PP(n){const t=w2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?UF(t,t.limit,"L"):t}function OP(n,t){return new AP(t.largestBatchId,EP(n.ne,t.overlayMutation))}function k2(n,t){const e=t.path.lastSegment();return[n,ks(t.path.popLast()),e]}function R2(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:xp(i.readTime),documentKey:ks(i.documentKey.path),largestBatchId:i.largestBatchId}}class n${getBundleMetadata(t,e){return N2(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:Dp(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return N2(t).put({bundleId:(i=e).id,createTime:xp(kr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return L2(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:PP(s.bundledQuery),readTime:Dp(s.readTime)};var s})}saveNamedQuery(t,e){return L2(t).put({name:(i=e).name,readTime:xp(kr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function N2(n){return Rr(n,"bundles")}function L2(n){return Rr(n,"namedQueries")}class fE{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new fE(t,e.uid||"")}getOverlay(t,e){return G0(t).get(k2(this.userId,e)).next(i=>i?OP(this.wt,i):null)}getOverlays(t,e){const i=Pl();return ge.forEach(e,s=>this.getOverlay(t,s).next(o=>{null!==o&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){const s=[];return i.forEach((o,u)=>{const h=new AP(e,u);s.push(this.ie(t,h))}),ge.waitFor(s)}removeOverlaysForBatchId(t,e,i){const s=new Set;e.forEach(u=>s.add(ks(u.getCollectionPath())));const o=[];return s.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(G0(t).W("collectionPathOverlayIndex",h))}),ge.waitFor(o)}getOverlaysForCollection(t,e,i){const s=Pl(),o=ks(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return G0(t).K("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=OP(this.wt,g);s.set(v.getKey(),v)}return s})}getOverlaysForCollectionGroup(t,e,i,s){const o=Pl();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return G0(t).J({index:"collectionGroupOverlayIndex",range:h},(g,v,I)=>{const E=OP(this.wt,v);o.size()<s||E.largestBatchId===u?(o.set(E.getKey(),E),u=E.largestBatchId):I.done()}).next(()=>o)}ie(t,e){return G0(t).put(function(i,s,o){const[u,h,g]=k2(s,o.mutation.key);return{userId:s,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Z0(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function G0(n){return Rr(n,"documentOverlays")}class Ap{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Fi(t.integerValue));else if("doubleValue"in t){const i=Fi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),S0(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(bp(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?SF(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):vt()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const s of Object.keys(i))this.le(s,e),this.oe(i[s],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const s of i)this.oe(s,e)}_e(t,e){this.ce(e,37),st.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function i$(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function F2(n){const t=64-function(e){let i=0;for(let s=0;s<8;++s){const o=i$(255&e[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Ap.ye=new Ap;class r${constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const s=e.codePointAt(0);this.Ie(240|s>>>18),this.Ie(128|63&s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const s=e.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}ve(t){const e=this.Ve(t),i=F2(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=255&e[s]}De(t){const e=this.Ve(t),i=F2(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let s=1;s<e.length;++s)e[s]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class s${constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class o${constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class $0{constructor(){this.Me=new r$,this.Fe=new s$(this.Me),this.$e=new o$(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Pp{constructor(t,e,i,s){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=s}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Pp(this.indexId,this.documentKey,this.arrayValue,i)}}function Op(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=V2(n.arrayValue,t.arrayValue),0!==e?e:(e=V2(n.directionalValue,t.directionalValue),0!==e?e:st.comparator(n.documentKey,t.documentKey)))}function V2(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class a${constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=uP(t);if(void 0!==e&&!this.Qe(e))return!1;const i=_p(t);let s=0,o=0;for(;s<i.length&&this.Qe(i[s]);++s);if(s===i.length)return!0;if(void 0!==this.Ke){const u=i[s];if(!this.je(this.Ke,u)||!this.We(this.Ue[o++],u))return!1;++s}for(;s<i.length;++s){const u=i[s];if(o>=this.Ue.length||!this.We(this.Ue[o++],u))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class l${constructor(){this.ze=new MP}addToCollectionParentIndex(t,e){return this.ze.add(e),ge.resolve()}getCollectionParents(t,e){return ge.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return ge.resolve()}deleteFieldIndex(t,e){return ge.resolve()}getDocumentsMatchingTarget(t,e){return ge.resolve(null)}getIndexType(t,e){return ge.resolve(0)}getFieldIndexes(t,e){return ge.resolve([])}getNextCollectionGroupToUpdate(t){return ge.resolve(null)}getMinOffset(t,e){return ge.resolve(ko.min())}getMinOffsetFromCollectionGroup(t,e){return ge.resolve(ko.min())}updateCollectionGroup(t,e,i){return ge.resolve()}updateIndexEntries(t,e){return ge.resolve()}}class MP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new qn(En.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new qn(En.comparator)).toArray()}}const gE=new Uint8Array(0);class c${constructor(t,e){this.user=t,this.databaseId=e,this.He=new MP,this.Je=new kd(i=>Ip(i),(i,s)=>M0(i,s)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:ks(s)};return U2(t).put(o)}return ge.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[fF(e),""],!1,!0);return U2(t).K(s).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Ml(u.parent))}return i})}addFieldIndex(t,e){const i=mE(t),s={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete s.indexId;const o=i.add(s);if(e.indexState){const u=W0(t);return o.next(h=>{u.put(R2(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=mE(t),s=W0(t),o=z0(t);return i.delete(e.indexId).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=z0(t);let s=!0;const o=new Map;return ge.forEach(this.Ye(e),u=>this.Xe(t,u).next(h=>{s&&(s=!!h),o.set(u,h)})).next(()=>{if(s){let u=ln();const h=[];return ge.forEach(o,(g,v)=>{var I;qe("IndexedDbIndexManager",`Using index ${I=g,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(nt=>`${nt.fieldPath}:${nt.kind}`).join(",")}`} to execute ${Ip(e)}`);const E=function(nt,Je){const Lt=uP(Je);if(void 0===Lt)return null;for(const kt of oE(nt,Lt.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(v,g),O=function(nt,Je){const Lt=new Map;for(const kt of _p(Je))for(const wn of oE(nt,kt.fieldPath))switch(wn.op){case"==":case"in":Lt.set(kt.fieldPath.canonicalString(),wn.value);break;case"not-in":case"!=":return Lt.set(kt.fieldPath.canonicalString(),wn.value),Array.from(Lt.values())}return null}(v,g),M=function(nt,Je){const Lt=[];let kt=!0;for(const wn of _p(Je)){const zi=0===wn.kind?kF(nt,wn.fieldPath,nt.startAt):RF(nt,wn.fieldPath,nt.startAt);Lt.push(zi.value),kt&&(kt=zi.inclusive)}return new Md(Lt,kt)}(v,g),V=function(nt,Je){const Lt=[];let kt=!0;for(const wn of _p(Je)){const zi=0===wn.kind?RF(nt,wn.fieldPath,nt.endAt):kF(nt,wn.fieldPath,nt.endAt);Lt.push(zi.value),kt&&(kt=zi.inclusive)}return new Md(Lt,kt)}(v,g),X=this.Ze(g,v,M),ie=this.Ze(g,v,V),Be=this.tn(g,v,O),tt=this.en(g.indexId,E,X,M.inclusive,ie,V.inclusive,Be);return ge.forEach(tt,nt=>i.j(nt,e.limit).next(Je=>{Je.forEach(Lt=>{const kt=st.fromSegments(Lt.documentKey);u.has(kt)||(u=u.add(kt),h.push(kt))})}))}).next(()=>h)}return ge.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,s,o,u,h){const g=(null!=e?e.length:1)*Math.max(i.length,o.length),v=g/(null!=e?e.length:1),I=[];for(let E=0;E<g;++E){const O=e?this.nn(e[E/v]):gE,M=this.sn(t,O,i[E%v],s),V=this.rn(t,O,o[E%v],u),X=h.map(ie=>this.sn(t,O,ie,!0));I.push(...this.createRange(M,V,X))}return I}sn(t,e,i,s){const o=new Pp(t,st.empty(),e,i);return s?o:o.Le()}rn(t,e,i,s){const o=new Pp(t,st.empty(),e,i);return s?o.Le():o}Xe(t,e){const i=new a$(e),s=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next(o=>{let u=null;for(const h of o)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return ge.forEach(this.Ye(e),s=>this.Xe(t,s).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new qn($i.comparator),g=!1;for(const v of u.filters){const I=v;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?g=!0:h=h.add(I.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(g?1:0)}(s)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new $0;for(const s of _p(t)){const o=e.data.field(s.fieldPath);if(null==o)return null;const u=i.Be(s.kind);Ap.ye.re(o,u)}return i.Oe()}nn(t){const e=new $0;return Ap.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const i=new $0;return Ap.ye.re(Cp(this.databaseId,e),i.Be(function(s){const o=_p(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.Oe()}tn(t,e,i){if(null===i)return[];let s=[];s.push(new $0);let o=0;for(const u of _p(t)){const h=i[o++];for(const g of s)if(this.cn(e,u.fieldPath)&&P0(h))s=this.an(s,u,h);else{const v=g.Be(u.kind);Ap.ye.re(h,v)}}return this.hn(s)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Oe();return e}an(t,e,i){const s=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of s){const g=new $0;g.seed(h.Oe()),Ap.ye.re(u,g.Be(e.kind)),o.push(g)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof Yr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=mE(t),s=W0(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const u=[];return ge.forEach(o,h=>s.get([h.indexId,this.uid]).next(g=>{u.push(function(v,I){const E=I?new T0(I.sequenceNumber,new ko(Dp(I.readTime),new st(Ml(I.documentKey)),I.largestBatchId)):T0.empty(),O=v.fields.map(([M,V])=>new eE($i.fromServerFormat(M),V));return new XT(v.indexId,v.collectionGroup,O,E)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,s)=>{const o=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==o?o:an(i.collectionGroup,s.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const s=mE(t),o=W0(t);return this.ln(t).next(u=>s.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ge.forEach(h,g=>o.put(R2(g.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ge.forEach(e,(s,o)=>{const u=i.get(s.collectionGroup);return(u?ge.resolve(u):this.getFieldIndexes(t,s.collectionGroup)).next(h=>(i.set(s.collectionGroup,h),ge.forEach(h,g=>this.fn(t,s,g).next(v=>{const I=this.dn(o,g);return v.isEqual(I)?ge.resolve():this._n(t,o,g,v,I)}))))})}wn(t,e,i,s){return z0(t).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,s){return z0(t).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const s=z0(t);let o=new qn(Op);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(u,h)=>{o=o.add(new Pp(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}dn(t,e){let i=new qn(Op);const s=this.on(e,t);if(null==s)return i;const o=uP(e);if(null!=o){const u=t.data.field(o.fieldPath);if(P0(u))for(const h of u.arrayValue.values||[])i=i.add(new Pp(e.indexId,t.key,this.nn(h),s))}else i=i.add(new Pp(e.indexId,t.key,gE,s));return i}_n(t,e,i,s,o){qe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,g,v,I,E){const O=h.getIterator(),M=g.getIterator();let V=wm(O),X=wm(M);for(;V||X;){let ie=!1,Be=!1;if(V&&X){const tt=v(V,X);tt<0?Be=!0:tt>0&&(ie=!0)}else null!=V?Be=!0:ie=!0;ie?(I(X),X=wm(M)):Be?(E(V),V=wm(O)):(V=wm(O),X=wm(M))}}(s,o,Op,h=>{u.push(this.wn(t,e,i,h))},h=>{u.push(this.mn(t,e,i,h))}),ge.waitFor(u)}ln(t){let e=1;return W0(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,o)=>{o.done(),e=s.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Op(u,h)).filter((u,h,g)=>!h||0!==Op(u,g[h-1]));const s=[];s.push(t);for(const u of i){const h=Op(u,t),g=Op(u,e);if(0===h)s[0]=t.Le();else if(h>0&&g<0)s.push(u),s.push(u.Le());else if(g>0)break}s.push(e);const o=[];for(let u=0;u<s.length;u+=2)o.push(IDBKeyRange.bound([s[u].indexId,this.uid,s[u].arrayValue,s[u].directionalValue,gE,[]],[s[u+1].indexId,this.uid,s[u+1].arrayValue,s[u+1].directionalValue,gE,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(B2)}getMinOffset(t,e){return ge.mapArray(this.Ye(e),i=>this.Xe(t,i).next(s=>s||vt())).next(B2)}}function U2(n){return Rr(n,"collectionParents")}function z0(n){return Rr(n,"indexEntries")}function mE(n){return Rr(n,"indexConfiguration")}function W0(n){return Rr(n,"indexState")}function B2(n){Gt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;dP(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new ko(t.readTime,t.documentKey,e)}const H2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new lo(t,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function j2(n,t,e){const i=n.store("mutations"),s=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const g=i.J({range:u},(I,E,O)=>(h++,O.delete()));o.push(g.next(()=>{Gt(1===h)}));const v=[];for(const I of e.mutations){const E=x2(t,I.key.path,e.batchId);o.push(s.delete(E)),v.push(I.key)}return ge.waitFor(o).next(()=>v)}function _E(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw vt();t=n.noDocument}return JSON.stringify(t).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class yE{constructor(t,e,i,s){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=s,this.gn={}}static se(t,e,i,s){Gt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new yE(o,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nd(t).J({index:"userMutationsIndex",range:i},(s,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const o=Mm(t),u=Nd(t);return u.add({}).next(h=>{Gt("number"==typeof h);const g=new DP(h,e,i,s),v=function(O,M,V){const X=V.baseMutations.map(Be=>Z0(O.ne,Be)),ie=V.mutations.map(Be=>Z0(O.ne,Be));return{userId:M,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:X,mutations:ie}}(this.wt,this.userId,g),I=[];let E=new qn((O,M)=>an(O.canonicalString(),M.canonicalString()));for(const O of s){const M=x2(this.userId,O.key.path,h);E=E.add(O.key.path.popLast()),I.push(u.put(v)),I.push(o.put(M,V5))}return E.forEach(O=>{I.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.gn[h]=g.keys()}),ge.waitFor(I).next(()=>g)})}lookupMutationBatch(t,e){return Nd(t).get(e).next(i=>i?(Gt(i.userId===this.userId),Sp(this.wt,i)):null)}yn(t,e){return this.gn[e]?ge.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const s=i.keys();return this.gn[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Nd(t).J({index:"userMutationsIndex",range:s},(u,h,g)=>{h.userId===this.userId&&(Gt(h.batchId>=i),o=Sp(this.wt,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Nd(t).J({index:"userMutationsIndex",range:e,reverse:!0},(s,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nd(t).K("userMutationsIndex",e).next(i=>i.map(s=>Sp(this.wt,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hE(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=[];return Mm(t).J({range:s},(u,h,g)=>{const[v,I,E]=u,O=Ml(I);if(v===this.userId&&e.path.isEqual(O))return Nd(t).get(E).next(M=>{if(!M)throw vt();Gt(M.userId===this.userId),o.push(Sp(this.wt,M))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qn(an);const s=[];return e.forEach(o=>{const u=hE(this.userId,o.path),h=IDBKeyRange.lowerBound(u),g=Mm(t).J({range:h},(v,I,E)=>{const[O,M,V]=v,X=Ml(M);O===this.userId&&o.path.isEqual(X)?i=i.add(V):E.done()});s.push(g)}),ge.waitFor(s).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,o=hE(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new qn(an);return Mm(t).J({range:u},(g,v,I)=>{const[E,O,M]=g,V=Ml(O);E===this.userId&&i.isPrefixOf(V)?V.length===s&&(h=h.add(M)):I.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],s=[];return e.forEach(o=>{s.push(Nd(t).get(o).next(u=>{if(null===u)throw vt();Gt(u.userId===this.userId),i.push(Sp(this.wt,u))}))}),ge.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return j2(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),ge.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ge.resolve();const i=IDBKeyRange.lowerBound([this.userId]),s=[];return Mm(t).J({range:i},(o,u,h)=>{if(o[0]===this.userId){const g=Ml(o[1]);s.push(g)}else h.done()}).next(()=>{Gt(0===s.length)})})}containsKey(t,e){return Z2(t,this.userId,e)}Tn(t){return q2(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Z2(n,t,e){const i=hE(t,e.path),s=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Mm(n).J({range:o,H:!0},(h,g,v)=>{const[I,E,O]=h;I===t&&E===s&&(u=!0),v.done()}).next(()=>u)}function Nd(n){return Rr(n,"mutations")}function Mm(n){return Rr(n,"documentMutations")}function q2(n){return Rr(n,"mutationQueues")}class Mp{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Mp(0)}static Rn(){return new Mp(-1)}}class u${constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new Mp(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Bt.fromTimestamp(new hi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.Pn(t,s)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>km(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(Gt(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let s=0;const o=[];return km(t).J((u,h)=>{const g=q0(h);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(s++,o.push(this.removeTargetData(t,g)))}).next(()=>ge.waitFor(o)).next(()=>s)}forEachTarget(t,e){return km(t).J((i,s)=>{const o=q0(s);e(o)})}bn(t){return G2(t).get("targetGlobalKey").next(e=>(Gt(null!==e),e))}Pn(t,e){return G2(t).put("targetGlobalKey",e)}vn(t,e){return km(t).put(M2(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ip(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return km(t).J({range:s,index:"queryTargetsIndex"},(u,h,g)=>{const v=q0(h);M0(e,v.target)&&(o=v,g.done())}).next(()=>o)}addMatchingKeys(t,e,i){const s=[],o=Ld(t);return e.forEach(u=>{const h=ks(u.path);s.push(o.put({targetId:i,path:h})),s.push(this.referenceDelegate.addReference(t,i,u))}),ge.waitFor(s)}removeMatchingKeys(t,e,i){const s=Ld(t);return ge.forEach(e,o=>{const u=ks(o.path);return ge.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Ld(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=Ld(t);let o=ln();return s.J({range:i,H:!0},(u,h,g)=>{const v=Ml(u[1]),I=new st(v);o=o.add(I)}).next(()=>o)}containsKey(t,e){const i=ks(e.path),s=IDBKeyRange.bound([i],[fF(i)],!1,!0);let o=0;return Ld(t).J({index:"documentTargetsIndex",H:!0,range:s},([u,h],g,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}te(t,e){return km(t).get(e).next(i=>i?q0(i):null)}}function km(n){return Rr(n,"targets")}function G2(n){return Rr(n,"targetGlobal")}function Ld(n){return Rr(n,"targetDocuments")}function $2([n,t],[e,i]){const s=an(n,e);return 0===s?an(t,i):s}class d${constructor(t){this.Sn=t,this.buffer=new qn($2),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();$2(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class h${constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;qe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ie.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Sd(i)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Dd(i)}yield e.kn(3e5)}))}}class p${constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ge.resolve(oo.ot);const i=new d$(e);return this.On.forEachTarget(t,s=>i.xn(s.sequenceNumber)).next(()=>this.On.Fn(t,s=>i.xn(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.On.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(H2)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H2):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let i,s,o,u,h,g,v;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(t,s))).next(E=>(i=E,h=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(v=Date.now(),lP()<=Id.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${s} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${E} documents in `+(v-g)+`ms\nTotal Duration: ${v-I}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:E})))}}class f${constructor(t,e){this.db=t,this.garbageCollector=new p$(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,s)=>e(s))}addReference(t,e,i){return vE(t,i)}removeReference(t,e,i){return vE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return vE(t,e)}Un(t,e){return function(i,s){let o=!1;return q2(i).Y(u=>Z2(i,u,s).next(h=>(h&&(o=!0),ge.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Ln(t,(u,h)=>{if(h<=e){const g=this.Un(t,u).next(v=>{if(!v)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Bt.min()),Ld(t).delete([0,ks(u.path)])))});s.push(g)}}).next(()=>ge.waitFor(s)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return vE(t,e)}Ln(t,e){const i=Ld(t);let s,o=oo.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(o!==oo.ot&&e(new st(Ml(s)),o),o=v,s=g):o=oo.ot}).next(()=>{o!==oo.ot&&e(new st(Ml(s)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function vE(n,t){return Ld(n).put((i=n.currentSequenceNumber,{targetId:0,path:ks(t.path),sequenceNumber:i}));var i}class z2{constructor(){this.changes=new kd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Xn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ge.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class g${constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return kp(t).put(i)}removeEntry(t,e,i){return kp(t).delete(function(s,o){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],pE(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=Xn.newInvalidDocument(e);return kp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(K0(e))},(s,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:Xn.newInvalidDocument(e)};return kp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(K0(e))},(s,o)=>{i={document:this.Kn(e,o),size:_E(o)}}).next(()=>i)}getEntries(t,e){let i=ao();return this.Qn(t,e,(s,o)=>{const u=this.Kn(s,o);i=i.insert(s,u)}).next(()=>i)}jn(t,e){let i=ao(),s=new Li(st.comparator);return this.Qn(t,e,(o,u)=>{const h=this.Kn(o,u);i=i.insert(o,h),s=s.insert(o,_E(u))}).next(()=>({documents:i,Wn:s}))}Qn(t,e,i){if(e.isEmpty())return ge.resolve();let s=new qn(Q2);e.forEach(g=>s=s.add(g));const o=IDBKeyRange.bound(K0(s.first()),K0(s.last())),u=s.getIterator();let h=u.getNext();return kp(t).J({index:"documentKeyIndex",range:o},(g,v,I)=>{const E=st.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&Q2(h,E)<0;)i(h,null),h=u.getNext();h&&h.isEqual(E)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?I.q(K0(h)):I.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const s=[e.popLast().toArray(),e.lastSegment(),pE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kp(t).K(IDBKeyRange.bound(s,o,!0)).next(u=>{let h=ao();for(const g of u){const v=this.Kn(st.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(t,e,i,s){let o=ao();const u=Y2(e,i),h=Y2(e,ko.max());return kp(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,I)=>{const E=this.Kn(st.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(E.key,E),o.size===s&&I.done()}).next(()=>o)}newChangeBuffer(t){return new m$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return K2(t).get("remoteDocumentGlobalKey").next(e=>(Gt(!!e),e))}qn(t,e){return K2(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function t$(n,t){let e;if(t.document)e=y2(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=st.fromSegments(t.noDocument.path),s=Dp(t.noDocument.readTime);e=Xn.newNoDocument(i,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return vt();{const i=st.fromSegments(t.unknownDocument.path),s=Dp(t.unknownDocument.version);e=Xn.newUnknownDocument(i,s)}}return t.readTime&&e.setReadTime(function(i){const s=new hi(i[0],i[1]);return Bt.fromTimestamp(s)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(Bt.min()))return i}return Xn.newInvalidDocument(t)}}function W2(n){return new g$(n)}class m$ extends z2{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new kd(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(t){const e=[];let i=0,s=new qn((o,u)=>an(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const g=O2(this.zn.wt,u);s=s.add(o.path.popLast()),i+=_E(g)-h.size,e.push(this.zn.addEntry(t,o,g))}else if(i-=h.size,this.trackRemovals){const g=O2(this.zn.wt,u.convertToNoDocument(Bt.min()));e.push(this.zn.addEntry(t,o,g))}}),s.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),ge.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:s})=>(s.forEach((o,u)=>{this.Hn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function K2(n){return Rr(n,"remoteDocumentGlobal")}function kp(n){return Rr(n,"remoteDocumentsV14")}function K0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Y2(n,t){const e=t.documentKey.path.toArray();return[n,pE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Q2(n,t){const e=n.path.toArray(),i=t.path.toArray();let s=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(s=an(e[o],i[o]),s)return s;return s=an(e.length,i.length),s||(s=an(e[e.length-2],i[i.length-2]),s||an(e[e.length-1],i[i.length-1]))}class _${constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class J2{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.getBaseDocument(t,e,i))).next(s=>(null!==i&&N0(i.mutation,s,Ro.empty(),hi.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ln()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ln()){const s=Pl();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let u=L0();return o.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Pl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ln()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,s){let o=ao();const u=F0(),h=F0();return e.forEach((g,v)=>{const I=i.get(v.key);s.has(v.key)&&(void 0===I||I.mutation instanceof Bc)?o=o.insert(v.key,v):void 0!==I&&(u.set(v.key,I.mutation.getFieldMask()),N0(I.mutation,v,I.mutation.getFieldMask(),hi.now()))}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((v,I)=>u.set(v,I)),e.forEach((v,I)=>{var E;return h.set(v,new _$(I,null!==(E=u.get(v))&&void 0!==E?E:null))}),h))}recalculateAndSaveOverlays(t,e){const i=F0();let s=new Li((u,h)=>u-h),o=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(g=>{const v=e.get(g);if(null===v)return;let I=i.get(g)||Ro.empty();I=h.applyToLocalView(v,I),i.set(g,I);const E=(s.get(h.batchId)||ln()).add(g);s=s.insert(h.batchId,E)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,I=g.value,E=a2();I.forEach(O=>{if(!o.has(O)){const M=QF(e.get(O),i.get(O));null!==M&&E.set(O,M),o=o.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,E))}return ge.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return st.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):vP(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var s}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):ge.resolve(Pl());let h=-1,g=o;return u.next(v=>ge.forEach(v,(I,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),o.get(I)?ge.resolve():this.getBaseDocument(t,I,E).next(O=>{g=g.insert(I,O)}))).next(()=>this.populateOverlays(t,v,o)).next(()=>this.computeViews(t,g,v,ln())).next(I=>({batchId:h,changes:o2(I)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new st(e)).next(i=>{let s=L0();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const s=e.collectionGroup;let o=L0();return this.indexManager.getCollectionParents(t,s).next(u=>ge.forEach(u,h=>{const g=(v=e,I=h.child(s),new Uc(I,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,I;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(v=>{v.forEach((I,E)=>{o=o.insert(I,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let s;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(s=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,g)=>{const v=g.getKey();null===s.get(v)&&(s=s.insert(v,Xn.newInvalidDocument(v)))});let u=L0();return s.forEach((h,g)=>{const v=o.get(h);void 0!==v&&N0(v.mutation,g,Ro.empty(),hi.now()),wP(e,g)&&(u=u.insert(h,g))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):ge.resolve(Xn.newInvalidDocument(e))}}class y${constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return ge.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:kr(i.createTime)}),ge.resolve()}getNamedQuery(t,e){return ge.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:PP(i.bundledQuery),readTime:kr(i.readTime)}),ge.resolve();var i}}class v${constructor(){this.overlays=new Li(st.comparator),this.Xn=new Map}getOverlay(t,e){return ge.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Pl();return ge.forEach(e,s=>this.getOverlay(t,s).next(o=>{null!==o&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.ie(t,e,o)}),ge.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Xn.get(i);return void 0!==s&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),ge.resolve()}getOverlaysForCollection(t,e,i){const s=Pl(),o=e.length+1,u=new st(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&g.largestBatchId>i&&s.set(g.getKey(),g)}return ge.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new Li((v,I)=>v-I);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let I=o.get(v.largestBatchId);null===I&&(I=Pl(),o=o.insert(v.largestBatchId,I)),I.set(v.getKey(),v)}}const h=Pl(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,I)=>h.set(v,I)),!(h.size()>=s)););return ge.resolve(h)}ie(t,e,i){const s=this.overlays.get(i.key);if(null!==s){const u=this.Xn.get(s.largestBatchId).delete(i.key);this.Xn.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new AP(e,i));let o=this.Xn.get(e);void 0===o&&(o=ln(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class kP{constructor(){this.Zn=new qn(Nr.ts),this.es=new qn(Nr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Nr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Nr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new st(new En([])),i=new Nr(e,t),s=new Nr(e,t+1),o=[];return this.es.forEachInRange([i,s],u=>{this.rs(u),o.push(u.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new st(new En([])),i=new Nr(e,t),s=new Nr(e,t+1);let o=ln();return this.es.forEachInRange([i,s],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Nr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Nr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return st.comparator(t.key,e.key)||an(t.ls,e.ls)}static ns(t,e){return an(t.ls,e.ls)||st.comparator(t.key,e.key)}}class b${constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new qn(Nr.ts)}checkEmpty(t){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,s){const o=this.fs;this.fs++;const u=new DP(o,e,i,s);this.mutationQueue.push(u);for(const h of s)this.ds=this.ds.add(new Nr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(t,e){return ge.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const s=this.ws(e+1),o=s<0?0:s;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Nr(e,0),s=new Nr(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,s],u=>{const h=this._s(u.ls);o.push(h)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new qn(an);return e.forEach(s=>{const o=new Nr(s,0),u=new Nr(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,u],h=>{i=i.add(h.ls)})}),ge.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;st.isDocumentKey(o)||(o=o.child(""));const u=new Nr(new st(o),0);let h=new qn(an);return this.ds.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===s&&(h=h.add(g.ls)),!0)},u),ge.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const s=this._s(i);null!==s&&e.push(s)}),e}removeMutationBatch(t,e){Gt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return ge.forEach(e.mutations,s=>{const o=new Nr(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Nr(e,0),s=this.ds.firstAfterOrEqual(i);return ge.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return ge.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class w${constructor(t){this.ps=t,this.docs=new Li(st.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,u=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ge.resolve(i?i.document.mutableCopy():Xn.newInvalidDocument(e))}getEntries(t,e){let i=ao();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Xn.newInvalidDocument(s))}),ge.resolve(i)}getAllFromCollection(t,e,i){let s=ao();const o=new st(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||dP(mF(g),i)<=0||(s=s.insert(g.key,g.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(t,e,i,s){vt()}Is(t,e){return ge.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new C$(this)}getSize(t){return ge.resolve(this.size)}}class C$ extends z2{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.zn.addEntry(t,s)):this.zn.removeEntry(i)}),ge.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class I${constructor(t){this.persistence=t,this.Ts=new kd(e=>Ip(e),M0),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Es=0,this.As=new kP,this.targetCount=0,this.Rs=Mp.An()}forEachTarget(t,e){return this.Ts.forEach((i,s)=>e(s)),ge.resolve()}getLastRemoteSnapshotVersion(t){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ge.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),ge.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Mp(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,ge.resolve()}updateTargetData(t,e){return this.vn(e),ge.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),s++)}),ge.waitFor(o).next(()=>s)}getTargetCount(t){return ge.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return ge.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),ge.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(u=>{o.push(s.markPotentiallyOrphaned(t,u))}),ge.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),ge.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return ge.resolve(i)}containsKey(t,e){return ge.resolve(this.As.containsKey(e))}}class X2{constructor(t,e){this.bs={},this.overlays={},this.Ps=new oo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new I$(this),this.indexManager=new l$,this.remoteDocumentCache=new w$(i=>this.referenceDelegate.Ss(i)),this.wt=new P2(e),this.Ds=new y$(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new v$,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new b$(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){qe("MemoryPersistence","Starting transaction:",t);const s=new T$(this.Ps.next());return this.referenceDelegate.Cs(),i(s).next(o=>this.referenceDelegate.xs(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ns(t,e){return ge.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class T$ extends yF{constructor(t){super(),this.currentSequenceNumber=t}}class bE{constructor(t){this.persistence=t,this.ks=new kP,this.Os=null}static Ms(t){return new bE(t)}get Fs(){if(this.Os)return this.Os;throw vt()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),ge.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),ge.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(s=>this.Fs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Fs,i=>{const s=st.fromPath(i);return this.$s(t,s).next(o=>{o||e.removeEntry(s,Bt.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return ge.or([()=>ge.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class E${constructor(t){this.wt=t}O(t,e,i,s){const o=new tE("createOrUpgrade",e);var h;i<1&&s>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",E2,{unique:!0}),h.createObjectStore("documentMutations"),eV(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ge.resolve();return i<3&&s>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),eV(t)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(o))),i<4&&s>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").K().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",E2,{unique:!0});const I=g.store("mutations"),E=v.map(O=>I.put(O));return ge.waitFor(E)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&s>=5&&(u=u.next(()=>this.Bs(o))),i<6&&s>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&s>=7&&(u=u.next(()=>this.Us(o))),i<8&&s>=8&&(u=u.next(()=>this.qs(t,o))),i<9&&s>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&s>=10&&(u=u.next(()=>this.Ks(o))),i<11&&s>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&s>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:Y5});g.createIndex("collectionPathOverlayIndex",Q5,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",J5,{unique:!1})}(t)})),i<13&&s>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:U5});g.createIndex("documentKeyIndex",B5),g.createIndex("collectionGroupIndex",H5)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&s>=14&&(u=u.next(()=>this.Qs(t,o))),i<15&&s>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:$5}).createIndex("sequenceNumberIndex",z5,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:W5}).createIndex("documentKeyIndex",K5,{unique:!1})}(t))),u}Ls(t){let e=0;return t.store("remoteDocuments").J((i,s)=>{e+=_E(s)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(s=>ge.forEach(s,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>ge.forEach(h,g=>{Gt(g.userId===o.userId);const v=Sp(this.wt,g);return j2(t,o.userId,v).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(s=>{const o=[];return i.J((u,h)=>{const g=new En(u),v=[0,ks(g)];o.push(e.get(v).next(I=>I?ge.resolve():e.put({targetId:0,path:ks(g),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>ge.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:G5});const i=e.store("collectionParents"),s=new MP,o=u=>{if(s.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:ks(g)})}};return e.store("remoteDocuments").J({H:!0},(u,h)=>{const g=new En(u);return o(g.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,h,g],v)=>{const I=Ml(h);return o(I.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,s)=>{const o=q0(s),u=M2(this.wt,o);return e.put(u)})}Gs(t,e){const i=e.store("remoteDocuments"),s=[];return i.J((o,u)=>{const h=e.store("remoteDocumentsV14"),g=(v=u,v.document?new st(En.fromString(v.document.name).popFirst(5)):v.noDocument?st.fromSegments(v.noDocument.path):v.unknownDocument?st.fromSegments(v.unknownDocument.path):vt()).path.toArray();var v;const I={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(I))}).next(()=>ge.waitFor(s))}Qs(t,e){const i=e.store("mutations"),s=W2(this.wt),o=new X2(bE.Ms,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(g=>{var v;let I=null!==(v=h.get(g.userId))&&void 0!==v?v:ln();Sp(this.wt,g).keys().forEach(E=>I=I.add(E)),h.set(g.userId,I)}),ge.forEach(h,(g,v)=>{const I=new Or(v),E=fE.se(this.wt,I),O=o.getIndexManager(I),M=yE.se(I,this.wt,O,o.referenceDelegate);return new J2(s,M,E,O).recalculateAndSaveOverlaysForDocumentKeys(new xP(e,oo.ot),g).next()})})}}function eV(n){n.createObjectStore("targetDocuments",{keyPath:Z5}).createIndex("documentTargetsIndex",q5,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j5,{unique:!0}),n.createObjectStore("targetGlobal")}const RP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NP{constructor(t,e,i,s,o,u,h,g,v,I,E=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=u,this.document=h,this.Ws=v,this.zs=I,this.Hs=E,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=O=>Promise.resolve(),!NP.V())throw new Le(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f$(this,s),this.ei=e+"main",this.wt=new P2(g),this.ni=new Wa(this.ei,this.Hs,new E$(this.wt)),this.Vs=new u$(this.referenceDelegate,this.wt),this.remoteDocumentCache=W2(this.wt),this.Ds=new n$,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===I&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,RP);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new oo(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,Ie.Z)(function*(s){if(e.started)return t(s)});return function(s){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,Ie.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,Ie.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>wE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(Sd(t))return qe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Y0(t).get("owner").next(e=>ge.resolve(this.di(e)))}_i(t){return wE(t).delete(this.clientId)}wi(){var t=this;return(0,Ie.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=Rr(i,"clientMetadata");return s.K().next(o=>{const u=t.gi(o,18e5),h=o.filter(g=>-1===u.indexOf(g));return ge.forEach(h,g=>s.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?ge.resolve(!0):Y0(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,RP);return!1}}return!(!this.networkEnabled||!this.inForeground)||wE(t).K().next(i=>void 0===this.gi(i,5e3).find(s=>{if(this.clientId!==s.clientId){const u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&qe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ie.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new xP(e,oo.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>wE(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return yE.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new c$(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return fE.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){qe("IndexedDbPersistence","Starting transaction:",t);const s="readonly"===e?"readonly":"readwrite",o=15===(u=this.Hs)?e$:14===u?A2:13===u?S2:12===u?X5:11===u?D2:void vt();var u;let h;return this.ni.runTransaction(t,s,o,g=>(h=new xP(g,this.Ps?this.Ps.next():oo.ot),"readwrite-primary"===e?this.ai(h).next(v=>!!v||this.hi(h)).next(v=>{if(!v)throw rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Le(be.FAILED_PRECONDITION,_F);return i(h)}).next(v=>this.fi(h).next(()=>v)):this.bi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}bi(t){return Y0(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Le(be.FAILED_PRECONDITION,RP)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Y0(t).put("owner",e)}static V(){return Wa.V()}li(t){const e=Y0(t);return e.get("owner").next(i=>this.di(i)?(qe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return qe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){rr("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(t){}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Y0(n){return Rr(n,"owner")}function wE(n){return Rr(n,"clientMetadata")}function LP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class FP{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=s}static Vi(t,e){let i=ln(),s=ln();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new FP(t,e.fromCache,i,s)}}class tV{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,s){return this.Ci(t,e).next(o=>o||this.xi(t,e,s,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){return ge.resolve(null)}xi(t,e,i,s){return function u5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||s.isEqual(Bt.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const u=this.ki(e,o);return this.Oi(e,u,i,s)?this.Ni(t,e):(lP()<=Id.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bP(e)),this.Mi(t,u,e,gF(s,-1)))})}ki(t,e){let i=new qn(jF(t));return e.forEach((s,o)=>{wP(t,o)&&(i=i.add(o))}),i}Oi(t,e,i,s){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ni(t,e){return lP()<=Id.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",bP(e)),this.Di.getDocumentsMatchingQuery(t,e,ko.min())}Mi(t,e,i,s){return this.Di.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class x${constructor(t,e,i,s){this.persistence=t,this.Fi=e,this.wt=s,this.$i=new Li(an),this.Bi=new kd(o=>Ip(o),M0),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new J2(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function nV(n,t,e,i){return new x$(n,t,e,i)}function iV(n,t){return VP.apply(this,arguments)}function VP(){return VP=(0,Ie.Z)(function*(n,t){const e=ct(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let g=ln();for(const v of s){u.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}for(const v of o){h.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}return e.localDocuments.getDocuments(i,g).next(v=>({Ki:v,removedBatchIds:u,addedBatchIds:h}))})})}),VP.apply(this,arguments)}function D$(n,t){const e=ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const I=g.batch,E=I.keys();let O=ge.resolve();return E.forEach(M=>{O=O.next(()=>v.getEntry(h,M)).next(V=>{const X=g.docVersions.get(M);Gt(null!==X),V.version.compareTo(X)<0&&(I.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,I))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=ln();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function rV(n){const t=ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function S$(n,t){const e=ct(n),i=t.snapshotVersion;let s=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Ui.newChangeBuffer({trackRemovals:!0});s=e.$i;const h=[];t.targetChanges.forEach((I,E)=>{const O=s.get(E);if(!O)return;h.push(e.Vs.removeMatchingKeys(o,I.removedDocuments,E).next(()=>e.Vs.addMatchingKeys(o,I.addedDocuments,E)));let M=O.withSequenceNumber(o.currentSequenceNumber);var V,X,ie;t.targetMismatches.has(E)?M=M.withResumeToken(mr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):I.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(I.resumeToken,i)),s=s.insert(E,M),X=M,ie=I,(0===(V=O).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(o,M))});let g=ao(),v=ln();if(t.documentUpdates.forEach(I=>{t.resolvedLimboDocuments.has(I)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,I))}),h.push(sV(o,u,t.documentUpdates).next(I=>{g=I.Gi,v=I.Qi})),!i.isEqual(Bt.min())){const I=e.Vs.getLastRemoteSnapshotVersion(o).next(E=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(I)}return ge.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,v)).next(()=>g)}).then(o=>(e.$i=s,o))}function sV(n,t,e){let i=ln(),s=ln();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=ao();return e.forEach((h,g)=>{const v=o.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(h)),g.isNoDocument()&&g.version.isEqual(Bt.min())?(t.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(g),u=u.insert(h,g)):qe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Gi:u,Qi:s}})}function A$(n,t){const e=ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Rm(n,t){const e=ct(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Vs.getTargetData(i,t).next(o=>o?(s=o,ge.resolve(s)):e.Vs.allocateTargetId(i).next(u=>(s=new Rd(t,u,0,i.currentSequenceNumber),e.Vs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.$i.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function Nm(n,t,e){return UP.apply(this,arguments)}function UP(){return UP=(0,Ie.Z)(function*(n,t,e){const i=ct(n),s=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Sd(u))throw u;qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.$i=i.$i.remove(t),i.Bi.delete(s.target)}),UP.apply(this,arguments)}function CE(n,t,e){const i=ct(n);let s=Bt.min(),o=ln();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const I=ct(h),E=I.Bi.get(v);return void 0!==E?ge.resolve(I.$i.get(E)):I.Vs.getTargetData(g,v)}(i,u,ma(t)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{o=g})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,t,e?s:Bt.min(),e?o:ln())).next(h=>(lV(i,HF(t),h),{documents:h,ji:o})))}function oV(n,t){const e=ct(n),i=ct(e.Vs),s=e.$i.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(u=>u?u.target:null))}function aV(n,t){const e=ct(n),i=e.Li.get(t)||Bt.min();return e.persistence.runTransaction("Get new document changes","readonly",s=>e.Ui.getAllFromCollectionGroup(s,t,gF(i,-1),Number.MAX_SAFE_INTEGER)).then(s=>(lV(e,t,s),s))}function lV(n,t,e){let i=Bt.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function BP(){return BP=(0,Ie.Z)(function*(n,t,e,i){const s=ct(n);let o=ln(),u=ao();for(const v of e){const I=t.Wi(v.metadata.name);v.document&&(o=o.add(I));const E=t.zi(v);E.setReadTime(t.Hi(v.metadata.readTime)),u=u.insert(I,E)}const h=s.Ui.newChangeBuffer({trackRemovals:!0}),g=yield Rm(s,(v=i,ma(Tm(En.fromString(`__bundle__/docs/${v}`)))));var v;return s.persistence.runTransaction("Apply bundle documents","readwrite",v=>sV(v,h,u).next(I=>(h.apply(v),I)).next(I=>s.Vs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>s.Vs.addMatchingKeys(v,o,g.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(v,I.Gi,I.Qi)).next(()=>I.Gi)))}),BP.apply(this,arguments)}function O$(n,t){return HP.apply(this,arguments)}function HP(){return HP=(0,Ie.Z)(function*(n,t,e=ln()){const i=yield Rm(n,ma(PP(t.bundledQuery))),s=ct(n);return s.persistence.runTransaction("Save named query","readwrite",o=>{const u=kr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return s.Ds.saveNamedQuery(o,t);const h=i.withResumeToken(mr.EMPTY_BYTE_STRING,u);return s.$i=s.$i.insert(h.targetId,h),s.Vs.updateTargetData(o,h).next(()=>s.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>s.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>s.Ds.saveNamedQuery(o,t))})}),HP.apply(this,arguments)}function cV(n,t){return`firestore_clients_${n}_${t}`}function uV(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function jP(n,t){return`firestore_targets_${n}_${t}`}class IE{constructor(t,e,i,s){this.user=t,this.batchId=e,this.state=i,this.error=s}static Ji(t,e,i){const s=JSON.parse(i);let o,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(o=new Le(s.error.code,s.error.message))),u?new IE(t,e,s.state,o):(rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Q0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let s,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new Le(i.error.code,i.error.message))),o?new Q0(t,i.state,s):(rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class TE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let s="object"==typeof i&&i.activeTargetIds instanceof Array,o=uE();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=TF(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return s?new TE(t,o):(rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class ZP{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ZP(e.clientId,e.onlineState):(rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class qP{constructor(){this.activeTargetIds=uE()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GP{constructor(t,e,i,s,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Li(an),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=cV(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new qP),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.syncEngine.Ri();for(const s of e){if(s===t.tr)continue;const o=t.getItem(cV(t.persistenceKey,s));if(o){const u=TE.Ji(s,o);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const s=t.wr(i);s&&t.mr(s)}for(const s of t.ir)t.nr(s);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(jP(this.persistenceKey,t));if(i){const s=Q0.Ji(t,i);s&&(e=s.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(jP(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(s=>{this.pr(s)}),this.currentUser=t,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return qe("SharedClientState","READ",t,e),e}setItem(t,e){qe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){qe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ie.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const s=e.Rr(i.key);return e.br(s,null)}{const s=e.Pr(i.key,i.newValue);if(s)return e.br(s.clientId,s)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const s=e.vr(i.key,i.newValue);if(s)return e.Vr(s)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const s=e.Sr(i.key,i.newValue);if(s)return e.Dr(s)}}else if(i.key===e.lr){if(null!==i.newValue){const s=e.wr(i.newValue);if(s)return e.mr(s)}}else if(i.key===e.ur){const s=function(o){let u=oo.ot;if(null!=o)try{const h=JSON.parse(o);Gt("number"==typeof h),u=h}catch(h){rr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);s!==oo.ot&&e.sequenceNumberHandler(s)}else if(i.key===e.dr){const s=e.Cr(i.newValue);yield Promise.all(s.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const s=new IE(this.currentUser,t,e,i),o=uV(this.persistenceKey,this.currentUser,t);this.setItem(o,s.Yi())}pr(t){const e=uV(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const s=jP(this.persistenceKey,t),o=new Q0(t,e,i);this.setItem(s,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return TE.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),s=Number(i[1]);return IE.Ji(new Or(void 0!==i[2]?i[2]:null),s,e)}Sr(t,e){const i=this.hr.exec(t),s=Number(i[1]);return Q0.Ji(s,e)}wr(t){return ZP.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,Ie.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);qe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),s=this.gr(this.sr),o=this.gr(i),u=[],h=[];return o.forEach(g=>{s.has(g)||u.push(g)}),s.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Mr(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=uE();return t.forEach((i,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class dV{constructor(){this.Fr=new qP,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new qP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class M${Br(t){}shutdown(){}}class hV{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const k$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class R${constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class N$ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,s,o){const u=this.oo(t,e);qe("RestConnection","Sending: ",u,i);const h={};return this.uo(h,s,o),this.co(t,u,h,i).then(g=>(qe("RestConnection","Received: ",g),g),g=>{throw C0("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}ao(t,e,i,s,o,u){return this.ro(t,e,i,s,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+vm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}oo(t,e){return`${this.so}/v1/${e}:${k$[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,s){return new Promise((o,u)=>{const h=new kG;h.listenOnce(PG.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case aP.NO_ERROR:const v=h.getResponseJson();qe("Connection","XHR received:",JSON.stringify(v)),o(v);break;case aP.TIMEOUT:qe("Connection",'RPC "'+t+'" timed out'),u(new Le(be.DEADLINE_EXCEEDED,"Request time out"));break;case aP.HTTP_ERROR:const I=h.getStatus();if(qe("Connection",'RPC "'+t+'" failed with status:',I,"response text:",h.getResponseText()),I>0){const E=h.getResponseJson().error;if(E&&E.status&&E.message){const O=function(M){const V=M.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(V)>=0?V:be.UNKNOWN}(E.status);u(new Le(O,E.message))}else u(new Le(be.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Le(be.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{qe("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(s);h.send(e,"POST",g,i,15)})}ho(t,e,i){const s=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=SG(),u=AG(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new MG({})),this.uo(h.initMessageHeaders,e,i),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const g=s.join("");qe("Connection","Creating WebChannel: "+g,h);const v=o.createWebChannel(g,h);let I=!1,E=!1;const O=new R$({jr:V=>{E?qe("Connection","Not sending because WebChannel is closed:",V):(I||(qe("Connection","Opening WebChannel transport."),v.open(),I=!0),qe("Connection","WebChannel sending:",V),v.send(V))},Wr:()=>v.close()}),M=(V,X,ie)=>{V.listen(X,Be=>{try{ie(Be)}catch(tt){setTimeout(()=>{throw tt},0)}})};return M(v,JT.EventType.OPEN,()=>{E||qe("Connection","WebChannel transport opened.")}),M(v,JT.EventType.CLOSE,()=>{E||(E=!0,qe("Connection","WebChannel transport closed"),O.eo())}),M(v,JT.EventType.ERROR,V=>{E||(E=!0,C0("Connection","WebChannel transport errored:",V),O.eo(new Le(be.UNAVAILABLE,"The operation could not be completed")))}),M(v,JT.EventType.MESSAGE,V=>{var X;if(!E){const ie=V.data[0];Gt(!!ie);const Be=ie,tt=Be.error||(null===(X=Be[0])||void 0===X?void 0:X.error);if(tt){qe("Connection","WebChannel received error:",tt);const nt=tt.status;let Je=function(kt){const wn=sr[kt];if(void 0!==wn)return r2(wn)}(nt),Lt=tt.message;void 0===Je&&(Je=be.INTERNAL,Lt="Unknown error status: "+nt+" with message "+tt.message),E=!0,O.eo(new Le(Je,Lt)),v.close()}else qe("Connection","WebChannel received:",ie),O.no(ie)}}),M(u,OG.STAT_EVENT,V=>{V.stat===cF.PROXY?qe("Connection","Detected buffering proxy"):V.stat===cF.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function pV(){return"undefined"!=typeof window?window:null}function EE(){return"undefined"!=typeof document?document:null}function J0(n){return new x5(n,!0)}class $P{constructor(t,e,i=1e3,s=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=s,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),s=Math.max(0,e-i);s>0&&qe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class fV{constructor(t,e,i,s,o,u,h,g){this.js=t,this.Ao=i,this.Ro=s,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new $P(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,Ie.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,Ie.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,Ie.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===be.RESOURCE_EXHAUSTED?(rr(e.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===be.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Po===e&&this.Uo(i,s)},i=>{t(()=>{const s=new Le(be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(s)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{i(()=>this.qo(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}xo(){var t=this;this.state=5,this.So.Io((0,Ie.Z)(function*(){t.state=0,t.start()}))}qo(t){return qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L$ extends fV{constructor(t,e,i,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,u),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function A5(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:vt(),s=t.targetChange.targetIds||[],o=function(g,v){return g.dt?(Gt(void 0===v||"string"==typeof v),mr.fromBase64String(v||"")):(Gt(void 0===v||v instanceof Uint8Array),mr.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const v=void 0===g.code?be.UNKNOWN:r2(g.code);return new Le(v,g.message||"")}(u);e=new c2(i,s,o,h||null)}else if("documentChange"in t){const i=t.documentChange,s=Ol(n,i.document.name),o=kr(i.document.updateTime),u=new Kr({mapValue:{fields:i.document.fields}}),h=Xn.newFoundDocument(s,o,u);e=new dE(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,s=Ol(n,i.document),o=i.readTime?kr(i.readTime):Bt.min(),u=Xn.newNoDocument(s,o);e=new dE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,s=Ol(n,i.document);e=new dE([],i.removedTargetIds||[],s,null)}else{if(!("filter"in t))return vt();{const i=t.filter,o=new y5(i.count||0);e=new l2(i.targetId,o)}}var g;return e}(this.wt,t),i=function(s){if(!("targetChange"in s))return Bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Bt.min():o.readTime?kr(o.readTime):Bt.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=j0(this.wt),e.addTarget=function(s,o){let u;const h=o.target;return u=sE(h)?{documents:v2(s,h)}:{query:b2(s,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=p2(s,o.resumeToken):o.snapshotVersion.compareTo(Bt.min())>0&&(u.readTime=B0(s,o.snapshotVersion.toTimestamp())),u}(this.wt,t);const i=function O5(n,t){const e=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Mo(e)}jo(t){const e={};e.database=j0(this.wt),e.removeTarget=t,this.Mo(e)}}class F$ extends fV{constructor(t,e,i,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,u),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function P5(n,t){return n&&n.length>0?(Gt(void 0!==t),n.map(e=>function(i,s){let o=kr(i.updateTime?i.updateTime:s);return o.isEqual(Bt.min())&&(o=kr(s)),new g5(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=kr(t.commitTime);return this.listener.Jo(i,e)}return Gt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=j0(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Z0(this.wt,i))};this.Mo(e)}}class V$ extends class{}{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ro(t,e,i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(be.UNKNOWN,s.toString())})}ao(t,e,i,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ao(t,e,i,o,u,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(be.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class U${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(rr(e),this.su=!1):qe("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class B${constructor(t,e,i,s,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(h=>{i.enqueueAndForget((0,Ie.Z)(function*(){var g;Fd(u)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ie.Z)(function*(v){const I=ct(v);I.lu.add(4),yield Lm(I),I._u.set("Unknown"),I.lu.delete(4),yield X0(I)}),function(v){return g.apply(this,arguments)})(u))}))}),this._u=new U$(i,s)}}function X0(n){return zP.apply(this,arguments)}function zP(){return zP=(0,Ie.Z)(function*(n){if(Fd(n))for(const t of n.fu)yield t(!0)}),zP.apply(this,arguments)}function Lm(n){return WP.apply(this,arguments)}function WP(){return WP=(0,Ie.Z)(function*(n){for(const t of n.fu)yield t(!1)}),WP.apply(this,arguments)}function xE(n,t){const e=ct(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),QP(e)?YP(e):Vm(e).Co()&&KP(e,t))}function eb(n,t){const e=ct(n),i=Vm(e);e.hu.delete(t),i.Co()&&gV(e,t),0===e.hu.size&&(i.Co()?i.ko():Fd(e)&&e._u.set("Unknown"))}function KP(n,t){n.wu.Nt(t.targetId),Vm(n).Qo(t)}function gV(n,t){n.wu.Nt(t),Vm(n).jo(t)}function YP(n){n.wu=new I5({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),Vm(n).start(),n._u.iu()}function QP(n){return Fd(n)&&!Vm(n).Do()&&n.hu.size>0}function Fd(n){return 0===ct(n).lu.size}function mV(n){n.wu=void 0}function H$(n){return JP.apply(this,arguments)}function JP(){return JP=(0,Ie.Z)(function*(n){n.hu.forEach((t,e)=>{KP(n,t)})}),JP.apply(this,arguments)}function j$(n,t){return XP.apply(this,arguments)}function XP(){return XP=(0,Ie.Z)(function*(n,t){mV(n),QP(n)?(n._u.uu(t),YP(n)):n._u.set("Unknown")}),XP.apply(this,arguments)}function Z$(n,t,e){return eO.apply(this,arguments)}function eO(){return eO=(0,Ie.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof c2&&2===t.state&&t.cause)try{yield(i=(0,Ie.Z)(function*(s,o){const u=o.cause;for(const h of o.targetIds)s.hu.has(h)&&(yield s.remoteSyncer.rejectListen(h,u),s.hu.delete(h),s.wu.removeTarget(h))}),function(s,o){return i.apply(this,arguments)})(n,t)}catch(i){qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield DE(n,i)}else if(t instanceof dE?n.wu.Ut(t):t instanceof l2?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Bt.min()))try{const i=yield rV(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const u=s.wu.Yt(o);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=s.hu.get(g);v&&s.hu.set(g,v.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const g=s.hu.get(h);if(!g)return;s.hu.set(h,g.withResumeToken(mr.EMPTY_BYTE_STRING,g.snapshotVersion)),gV(s,h);const v=new Rd(g.target,h,1,g.sequenceNumber);KP(s,v)}),s.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){qe("RemoteStore","Failed to raise snapshot:",i),yield DE(n,i)}var i}),eO.apply(this,arguments)}function DE(n,t,e){return tO.apply(this,arguments)}function tO(){return tO=(0,Ie.Z)(function*(n,t,e){if(!Sd(t))throw t;n.lu.add(1),yield Lm(n),n._u.set("Offline"),e||(e=()=>rV(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield X0(n)}))}),tO.apply(this,arguments)}function _V(n,t){return t().catch(e=>DE(n,e,t))}function Fm(n){return nO.apply(this,arguments)}function nO(){return nO=(0,Ie.Z)(function*(n){const t=ct(n),e=Vd(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;q$(t);)try{const s=yield A$(t.localStore,i);if(null===s){0===t.au.length&&e.ko();break}i=s.batchId,G$(t,s)}catch(s){yield DE(t,s)}yV(t)&&vV(t)}),nO.apply(this,arguments)}function q$(n){return Fd(n)&&n.au.length<10}function G$(n,t){n.au.push(t);const e=Vd(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function yV(n){return Fd(n)&&!Vd(n).Do()&&n.au.length>0}function vV(n){Vd(n).start()}function $$(n){return iO.apply(this,arguments)}function iO(){return iO=(0,Ie.Z)(function*(n){Vd(n).Xo()}),iO.apply(this,arguments)}function z$(n){return rO.apply(this,arguments)}function rO(){return rO=(0,Ie.Z)(function*(n){const t=Vd(n);for(const e of n.au)t.Ho(e.mutations)}),rO.apply(this,arguments)}function W$(n,t,e){return sO.apply(this,arguments)}function sO(){return sO=(0,Ie.Z)(function*(n,t,e){const i=n.au.shift(),s=SP.from(i,t,e);yield _V(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Fm(n)}),sO.apply(this,arguments)}function K$(n,t){return oO.apply(this,arguments)}function oO(){return oO=(0,Ie.Z)(function*(n,t){var e;t&&Vd(n).zo&&(yield(e=(0,Ie.Z)(function*(i,s){if(n2(o=s.code)&&o!==be.ABORTED){const u=i.au.shift();Vd(i).No(),yield _V(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),yield Fm(i)}var o}),function(i,s){return e.apply(this,arguments)})(n,t)),yV(n)&&vV(n)}),oO.apply(this,arguments)}function bV(n,t){return aO.apply(this,arguments)}function aO(){return aO=(0,Ie.Z)(function*(n,t){const e=ct(n);e.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const i=Fd(e);e.lu.add(3),yield Lm(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield X0(e)}),aO.apply(this,arguments)}function lO(n,t){return cO.apply(this,arguments)}function cO(){return cO=(0,Ie.Z)(function*(n,t){const e=ct(n);t?(e.lu.delete(2),yield X0(e)):t||(e.lu.add(2),yield Lm(e),e._u.set("Unknown"))}),cO.apply(this,arguments)}function Vm(n){return n.mu||(n.mu=function(t,e,i){const s=ct(t);return s.tu(),new L$(e,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,i)}(n.datastore,n.asyncQueue,{zr:H$.bind(null,n),Jr:j$.bind(null,n),Go:Z$.bind(null,n)}),n.fu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.mu.No(),QP(n)?YP(n):n._u.set("Unknown")):(yield n.mu.stop(),mV(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Vd(n){return n.gu||(n.gu=function(t,e,i){const s=ct(t);return s.tu(),new F$(e,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,i)}(n.datastore,n.asyncQueue,{zr:$$.bind(null,n),Jr:K$.bind(null,n),Yo:z$.bind(null,n),Jo:W$.bind(null,n)}),n.fu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.gu.No(),yield Fm(n)):(yield n.gu.stop(),n.au.length>0&&(qe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class uO{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,s,o){const u=Date.now()+i,h=new uO(t,e,u,s,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(be.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(n,t){if(rr("AsyncQueue",`${t}: ${n}`),Sd(n))return new Le(be.UNAVAILABLE,`${t}: ${n}`);throw n}class Bm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||st.comparator(e.key,i.key):(e,i)=>st.comparator(e.key,i.key),this.keyedMap=L0(),this.sortedSet=new Li(this.comparator)}static emptySet(t){return new Bm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Bm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class wV{constructor(){this.yu=new Li(st.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):vt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Hm{constructor(t,e,i,s,o,u,h,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g}static fromInitialDocuments(t,e,i,s){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Hm(t,e,Bm.emptySet(e),o,i,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&k0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}class Y${constructor(){this.Iu=void 0,this.listeners=[]}}class Q${constructor(){this.queries=new kd(t=>BF(t),k0),this.onlineState="Unknown",this.Tu=new Set}}function dO(n,t){return hO.apply(this,arguments)}function hO(){return hO=(0,Ie.Z)(function*(n,t){const e=ct(n),i=t.query;let s=!1,o=e.queries.get(i);if(o||(s=!0,o=new Y$),s)try{o.Iu=yield e.onListen(i)}catch(u){const h=Um(u,`Initialization of query '${bP(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&gO(e)}),hO.apply(this,arguments)}function pO(n,t){return fO.apply(this,arguments)}function fO(){return fO=(0,Ie.Z)(function*(n,t){const e=ct(n),i=t.query;let s=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),s=0===o.listeners.length)}if(s)return e.queries.delete(i),e.onUnlisten(i)}),fO.apply(this,arguments)}function J$(n,t){const e=ct(n);let i=!1;for(const s of t){const u=e.queries.get(s.query);if(u){for(const h of u.listeners)h.Au(s)&&(i=!0);u.Iu=s}}i&&gO(e)}function X$(n,t,e){const i=ct(n),s=i.queries.get(t);if(s)for(const o of s.listeners)o.onError(e);i.queries.delete(t)}function gO(n){n.Tu.forEach(t=>{t.next()})}class mO{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)3!==s.type&&i.push(s);t=new Hm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Hm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class ez{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class CV{constructor(t){this.wt=t}Wi(t){return Ol(this.wt,t)}zi(t){return t.metadata.exists?y2(this.wt,t.document,!1):Xn.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return kr(t)}}class tz{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=IV(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=En.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new CV(this.wt);for(const s of t)if(s.metadata.queries){const o=i.Wi(s.metadata.name);for(const u of s.metadata.queries){const h=(e.get(u)||ln()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,Ie.Z)(function*(){const e=yield function P$(n,t,e,i){return BP.apply(this,arguments)}(t.localStore,new CV(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const s of t.queries)yield O$(t.localStore,s,i.get(s.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function IV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class TV{constructor(t){this.key=t}}class EV{constructor(t){this.key=t}}class xV{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=ln(),this.mutatedKeys=ln(),this.Lu=jF(t),this.Uu=new Bm(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new wV,s=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,h=!1;const g="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,v="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((I,E)=>{const O=s.get(I),M=wP(this.query,E)?E:null,V=!!O&&this.mutatedKeys.has(O.key),X=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let ie=!1;O&&M?O.data.isEqual(M.data)?V!==X&&(i.track({type:3,doc:M}),ie=!0):this.Qu(O,M)||(i.track({type:2,doc:M}),ie=!0,(g&&this.Lu(M,g)>0||v&&this.Lu(M,v)<0)&&(h=!0)):!O&&M?(i.track({type:0,doc:M}),ie=!0):O&&!M&&(i.track({type:1,doc:O}),ie=!0,(g||v)&&(h=!0)),ie&&(M?(u=u.add(M),o=X?o.add(I):o.delete(I)):(u=u.delete(I),o=o.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),o=o.delete(I.key),i.track({type:1,doc:I})}return{Uu:u,Gu:i,Oi:h,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const s=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((v,I)=>function(E,O){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return M(E)-M(O)}(v.type,I.type)||this.Lu(v.doc,I.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,g=h!==this.$u;return this.$u=h,0!==o.length||g?{snapshot:new Hm(this.query,t.Uu,s,o,t.mutatedKeys,0===h,g,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new wV,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=ln(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new EV(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new TV(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=ln();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Hm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class nz{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class iz{constructor(t){this.key=t,this.Xu=!1}}class rz{constructor(t,e,i,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new kd(h=>BF(h),k0),this.ec=new Map,this.nc=new Set,this.sc=new Li(st.comparator),this.ic=new Map,this.rc=new kP,this.oc={},this.uc=new Map,this.cc=Mp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function sz(n,t){return _O.apply(this,arguments)}function _O(){return _O=(0,Ie.Z)(function*(n,t){const e=BO(n);let i,s;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),s=o.view.Yu();else{const u=yield Rm(e.localStore,ma(t));e.isPrimaryClient&&xE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,s=yield yO(e,t,i,"current"===h)}return s}),_O.apply(this,arguments)}function yO(n,t,e,i){return vO.apply(this,arguments)}function vO(){return vO=(0,Ie.Z)(function*(n,t,e,i){n.hc=(I,E,O)=>{return(M=(0,Ie.Z)(function*(V,X,ie,Be){let tt=X.view.Ku(ie);tt.Oi&&(tt=yield CE(V.localStore,X.query,!1).then(({documents:Lt})=>X.view.Ku(Lt,tt)));const nt=Be&&Be.targetChanges.get(X.targetId),Je=X.view.applyChanges(tt,V.isPrimaryClient,nt);return AO(V,X.targetId,Je.zu),Je.snapshot}),function(V,X,ie,Be){return M.apply(this,arguments)})(n,I,E,O);var M};const s=yield CE(n.localStore,t,!0),o=new xV(t,s.ji),u=o.Ku(s.documents),h=U0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),g=o.applyChanges(u,n.isPrimaryClient,h);AO(n,e,g.zu);const v=new nz(t,e,o);return n.tc.set(t,v),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),g.snapshot}),vO.apply(this,arguments)}function oz(n,t){return bO.apply(this,arguments)}function bO(){return bO=(0,Ie.Z)(function*(n,t){const e=ct(n),i=e.tc.get(t),s=e.ec.get(i.targetId);if(s.length>1)return e.ec.set(i.targetId,s.filter(o=>!k0(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),eb(e.remoteStore,i.targetId),jm(e,i.targetId)}).catch(Dd))):(jm(e,i.targetId),yield Nm(e.localStore,i.targetId,!0))}),bO.apply(this,arguments)}function wO(){return wO=(0,Ie.Z)(function*(n,t,e){const i=HO(n);try{const s=yield function(o,u){const h=ct(o),g=hi.now(),v=u.reduce((O,M)=>O.add(M.key),ln());let I,E;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=ao(),V=ln();return h.Ui.getEntries(O,v).next(X=>{M=X,M.forEach((ie,Be)=>{Be.isValidDocument()||(V=V.add(ie))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,M)).next(X=>{I=X;const ie=[];for(const Be of u){const tt=_5(Be,I.get(Be.key).overlayedDocument);null!=tt&&ie.push(new Bc(Be.key,tt,OF(tt.value.mapValue),wi.exists(!0)))}return h.mutationQueue.addMutationBatch(O,g,ie,u)}).next(X=>{E=X;const ie=X.applyToLocalDocumentSet(I,V);return h.documentOverlayCache.saveOverlays(O,X.batchId,ie)})}).then(()=>({batchId:E.batchId,changes:o2(I)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,u,h){let g=o.oc[o.currentUser.toKey()];g||(g=new Li(an)),g=g.insert(u,h),o.oc[o.currentUser.toKey()]=g}(i,s.batchId,e),yield Hc(i,s.changes),yield Fm(i.remoteStore)}catch(s){const o=Um(s,"Failed to persist write");e.reject(o)}}),wO.apply(this,arguments)}function DV(n,t){return CO.apply(this,arguments)}function CO(){return CO=(0,Ie.Z)(function*(n,t){const e=ct(n);try{const i=yield S$(e.localStore,t);t.targetChanges.forEach((s,o)=>{const u=e.ic.get(o);u&&(Gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Xu=!0:s.modifiedDocuments.size>0?Gt(u.Xu):s.removedDocuments.size>0&&(Gt(u.Xu),u.Xu=!1))}),yield Hc(e,i,t)}catch(i){yield Dd(i)}}),CO.apply(this,arguments)}function SV(n,t,e){const i=ct(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const s=[];i.tc.forEach((o,u)=>{const h=u.view.Eu(t);h.snapshot&&s.push(h.snapshot)}),function(o,u){const h=ct(o);h.onlineState=u;let g=!1;h.queries.forEach((v,I)=>{for(const E of I.listeners)E.Eu(u)&&(g=!0)}),g&&gO(h)}(i.eventManager,t),s.length&&i.Zu.Go(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function lz(n,t,e){return IO.apply(this,arguments)}function IO(){return IO=(0,Ie.Z)(function*(n,t,e){const i=ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.ic.get(t),o=s&&s.key;if(o){let u=new Li(st.comparator);u=u.insert(o,Xn.newNoDocument(o,Bt.min()));const h=ln().add(o),g=new V0(Bt.min(),new Map,new qn(an),u,h);yield DV(i,g),i.sc=i.sc.remove(o),i.ic.delete(t),PO(i)}else yield Nm(i.localStore,t,!1).then(()=>jm(i,t,e)).catch(Dd)}),IO.apply(this,arguments)}function cz(n,t){return TO.apply(this,arguments)}function TO(){return TO=(0,Ie.Z)(function*(n,t){const e=ct(n),i=t.batch.batchId;try{const s=yield D$(e.localStore,t);SO(e,i,null),DO(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Hc(e,s)}catch(s){yield Dd(s)}}),TO.apply(this,arguments)}function uz(n,t,e){return EO.apply(this,arguments)}function EO(){return EO=(0,Ie.Z)(function*(n,t,e){const i=ct(n);try{const s=yield function(o,u){const h=ct(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,u).next(I=>(Gt(null!==I),v=I.keys(),h.mutationQueue.removeMutationBatch(g,I))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(i.localStore,t);SO(i,t,e),DO(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Hc(i,s)}catch(s){yield Dd(s)}}),EO.apply(this,arguments)}function xO(){return xO=(0,Ie.Z)(function*(n,t){const e=ct(n);Fd(e.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=ct(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const s=e.uc.get(i)||[];s.push(t),e.uc.set(i,s)}catch(i){const s=Um(i,"Initialization of waitForPendingWrites() operation failed");t.reject(s)}}),xO.apply(this,arguments)}function DO(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function SO(n,t,e){const i=ct(n);let s=i.oc[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.oc[i.currentUser.toKey()]=s}}function jm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||AV(n,i)})}function AV(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(eb(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),PO(n))}function AO(n,t,e){for(const i of e)i instanceof TV?(n.rc.addReference(i.key,t),hz(n,i)):i instanceof EV?(qe("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||AV(n,i.key)):vt()}function hz(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(qe("SyncEngine","New document in limbo: "+e),n.nc.add(i),PO(n))}function PO(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new st(En.fromString(t)),i=n.cc.next();n.ic.set(i,new iz(e)),n.sc=n.sc.insert(e,i),xE(n.remoteStore,new Rd(ma(Tm(e.path)),i,2,oo.ot))}}function Hc(n,t,e){return OO.apply(this,arguments)}function OO(){return OO=(0,Ie.Z)(function*(n,t,e){const i=ct(n),s=[],o=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,g)=>{u.push(i.hc(g,t,e).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v.fromCache?"not-current":"current"),s.push(v);const I=FP.Vi(g.targetId,v);o.push(I)}}))}),yield Promise.all(u),i.Zu.Go(s),yield(h=(0,Ie.Z)(function*(g,v){const I=ct(g);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ge.forEach(v,O=>ge.forEach(O.Pi,M=>I.persistence.referenceDelegate.addReference(E,O.targetId,M)).next(()=>ge.forEach(O.vi,M=>I.persistence.referenceDelegate.removeReference(E,O.targetId,M)))))}catch(E){if(!Sd(E))throw E;qe("LocalStore","Failed to update sequence numbers: "+E)}for(const E of v){const O=E.targetId;if(!E.fromCache){const M=I.$i.get(O),X=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);I.$i=I.$i.insert(O,X)}}}),function(g,v){return h.apply(this,arguments)})(i.localStore,o))}),OO.apply(this,arguments)}function pz(n,t){return MO.apply(this,arguments)}function MO(){return MO=(0,Ie.Z)(function*(n,t){const e=ct(n);if(!e.currentUser.isEqual(t)){qe("SyncEngine","User change. New user:",t.toKey());const i=yield iV(e.localStore,t);e.currentUser=t,(s=e).uc.forEach(u=>{u.forEach(h=>{h.reject(new Le(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Hc(e,i.Ki)}var s}),MO.apply(this,arguments)}function fz(n,t){const e=ct(n),i=e.ic.get(t);if(i&&i.Xu)return ln().add(i.key);{let s=ln();const o=e.ec.get(t);if(!o)return s;for(const u of o){const h=e.tc.get(u);s=s.unionWith(h.view.qu)}return s}}function gz(n,t){return kO.apply(this,arguments)}function kO(){return kO=(0,Ie.Z)(function*(n,t){const e=ct(n),i=yield CE(e.localStore,t.query,!0),s=t.view.Ju(i);return e.isPrimaryClient&&AO(e,t.targetId,s.zu),s}),kO.apply(this,arguments)}function mz(n,t){return RO.apply(this,arguments)}function RO(){return RO=(0,Ie.Z)(function*(n,t){const e=ct(n);return aV(e.localStore,t).then(i=>Hc(e,i))}),RO.apply(this,arguments)}function _z(n,t,e,i){return NO.apply(this,arguments)}function NO(){return NO=(0,Ie.Z)(function*(n,t,e,i){const s=ct(n),o=yield function(u,h){const g=ct(u),v=ct(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",I=>v.yn(I,h).next(E=>E?g.localDocuments.getDocuments(I,E):ge.resolve(null)))}(s.localStore,t);var h;null!==o?("pending"===e?yield Fm(s.remoteStore):"acknowledged"===e||"rejected"===e?(SO(s,t,i||null),DO(s,t),h=t,ct(ct(s.localStore).mutationQueue).In(h)):vt(),yield Hc(s,o)):qe("SyncEngine","Cannot apply mutation batch with id: "+t)}),NO.apply(this,arguments)}function LO(){return LO=(0,Ie.Z)(function*(n,t){const e=ct(n);if(BO(e),HO(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),s=yield PV(e,i.toArray());e.ac=!0,yield lO(e.remoteStore,!0);for(const o of s)xE(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let s=Promise.resolve();e.ec.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then(()=>(jm(e,u),Nm(e.localStore,u,!0))),eb(e.remoteStore,u)}),yield s,yield PV(e,i),function(o){const u=ct(o);u.ic.forEach((h,g)=>{eb(u.remoteStore,g)}),u.rc.cs(),u.ic=new Map,u.sc=new Li(st.comparator)}(e),e.ac=!1,yield lO(e.remoteStore,!1)}}),LO.apply(this,arguments)}function PV(n,t,e){return FO.apply(this,arguments)}function FO(){return FO=(0,Ie.Z)(function*(n,t,e){const i=ct(n),s=[],o=[];for(const u of t){let h;const g=i.ec.get(u);if(g&&0!==g.length){h=yield Rm(i.localStore,ma(g[0]));for(const v of g){const I=i.tc.get(v),E=yield gz(i,I);E.snapshot&&o.push(E.snapshot)}}else{const v=yield oV(i.localStore,u);h=yield Rm(i.localStore,v),yield yO(i,OV(v),u,!1)}s.push(h)}return i.Zu.Go(o),s}),FO.apply(this,arguments)}function OV(n){return VF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vz(n){const t=ct(n);return ct(ct(t.localStore).persistence).Ri()}function bz(n,t,e,i){return VO.apply(this,arguments)}function VO(){return VO=(0,Ie.Z)(function*(n,t,e,i){const s=ct(n);if(s.ac)return void qe("SyncEngine","Ignoring unexpected query state notification.");const o=s.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield aV(s.localStore,HF(o[0])),h=V0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Hc(s,u,h);break}case"rejected":yield Nm(s.localStore,t,!0),jm(s,t,i);break;default:vt()}}),VO.apply(this,arguments)}function wz(n,t,e){return UO.apply(this,arguments)}function UO(){return UO=(0,Ie.Z)(function*(n,t,e){const i=BO(n);if(i.ac){for(const s of t){if(i.ec.has(s)){qe("SyncEngine","Adding an already active target "+s);continue}const o=yield oV(i.localStore,s),u=yield Rm(i.localStore,o);yield yO(i,OV(o),u.targetId,!1),xE(i.remoteStore,u)}for(const s of e)i.ec.has(s)&&(yield Nm(i.localStore,s,!1).then(()=>{eb(i.remoteStore,s),jm(i,s)}).catch(Dd))}}),UO.apply(this,arguments)}function BO(n){const t=ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=DV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lz.bind(null,t),t.Zu.Go=J$.bind(null,t.eventManager),t.Zu.lc=X$.bind(null,t.eventManager),t}function HO(n){const t=ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uz.bind(null,t),t}class MV{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ie.Z)(function*(){e.wt=J0(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return nV(this.persistence,new tV,t.initialUser,this.wt)}_c(t){return new X2(bE.Ms,this.wt)}dc(t){return new dV}terminate(){var t=this;return(0,Ie.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class kV extends MV{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield HO(i.yc.syncEngine),yield Fm(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return nV(this.persistence,new tV,t.initialUser,this.wt)}mc(t,e){return new h$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new zG(e,this.persistence);return new $G(t.asyncQueue,i)}_c(t){const e=LP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new NP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,pV(),EE(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new dV}}class Iz extends kV{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t);const s=i.yc.syncEngine;i.sharedClientState instanceof GP&&(i.sharedClientState.syncEngine={kr:_z.bind(null,s),Or:bz.bind(null,s),Mr:wz.bind(null,s),Ri:vz.bind(null,s),Nr:mz.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,Ie.Z)(function*(u){yield function yz(n,t){return LO.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}dc(t){const e=pV();if(!GP.V(e))throw new Le(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=LP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new GP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class jO{initialize(t,e){var i=this;return(0,Ie.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>SV(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=pz.bind(null,i.syncEngine),yield lO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Q$}createDatastore(t){const e=J0(t.databaseInfo.databaseId),i=new N$(t.databaseInfo);return new V$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,s=t.asyncQueue,o=h=>SV(this.syncEngine,h,0),u=hV.V()?new hV:new M$,new B$(e,i,s,o,u);var e,i,s,o,u}createSyncEngine(t,e){return function(i,s,o,u,h,g,v){const I=new rz(i,s,o,u,h,g);return v&&(I.ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ie.Z)(function*(e){const i=ct(e);qe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Lm(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function RV(n,t=10240){let e=0;return{read:()=>(0,Ie.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class SE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Tz{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Mr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,Ie.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,Ie.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),s=Number(i);isNaN(s)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(s);return new ez(JSON.parse(o),e.length+s)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,Ie.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,Ie.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Ez{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Le(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,Ie.Z)(function*(o,u){const h=ct(o),g=j0(h.wt)+"/documents",v={documents:u.map(M=>H0(h.wt,M))},I=yield h.ao("BatchGetDocuments",g,v,u.length),E=new Map;I.forEach(M=>{const V=function S5(n,t){return"found"in t?function(e,i){Gt(!!i.found);const s=Ol(e,i.found.name),o=kr(i.found.updateTime),u=new Kr({mapValue:{fields:i.found.fields}});return Xn.newFoundDocument(s,o,u)}(n,t):"missing"in t?function(e,i){Gt(!!i.missing),Gt(!!i.readTime);const s=Ol(e,i.missing),o=kr(i.readTime);return Xn.newNoDocument(s,o)}(n,t):vt()}(h.wt,M);E.set(V.key.toString(),V)});const O=[];return u.forEach(M=>{const V=E.get(M.toString());Gt(!!V),O.push(V)}),O}),function(o,u){return s.apply(this,arguments)})(e.datastore,t);var s;return i.forEach(s=>e.recordVersion(s)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Am(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,s)=>{const o=st.fromPath(s);t.mutations.push(new CP(o,t.precondition(o)))}),yield(i=(0,Ie.Z)(function*(s,o){const u=ct(s),h=j0(u.wt)+"/documents",g={writes:o.map(v=>Z0(u.wt,v))};yield u.ro("Commit",h,g)}),function(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw vt();e=Bt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Le(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?wi.updateTime(e):wi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Bt.min()))throw new Le(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wi.updateTime(e)}return wi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class xz{constructor(t,e,i,s,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=s,this.deferred=o,this.Dc=i.maxAttempts,this.So=new $P(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,Ie.Z)(function*(){const e=new Ez(t.datastore),i=t.xc(e);i&&i.then(s=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(s)}).catch(o=>{t.Nc(o)}))}).catch(s=>{t.Nc(s)})}))}xc(t){try{const e=this.updateFunction(t);return!D0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!n2(e)}return!1}}class Dz{constructor(t,e,i,s){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Or.UNAUTHENTICATED,this.clientId=pF.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ie.Z)(function*(h){qe("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(qe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Ie.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Um(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}function NV(n,t){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ie.Z)(function*(o){i.isEqual(o)||(yield iV(t.localStore,o),i=o)});return function(o){return s.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),ZO.apply(this,arguments)}function LV(n,t){return qO.apply(this,arguments)}function qO(){return qO=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield GO(n);qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(s=>bV(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>bV(t.remoteStore,o)),n.onlineComponents=t}),qO.apply(this,arguments)}function GO(n){return $O.apply(this,arguments)}function $O(){return $O=(0,Ie.Z)(function*(n){return n.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield NV(n,new MV)),n.offlineComponents}),$O.apply(this,arguments)}function AE(n){return zO.apply(this,arguments)}function zO(){return zO=(0,Ie.Z)(function*(n){return n.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield LV(n,new jO)),n.onlineComponents}),zO.apply(this,arguments)}function FV(n){return GO(n).then(t=>t.persistence)}function WO(n){return GO(n).then(t=>t.localStore)}function VV(n){return AE(n).then(t=>t.remoteStore)}function KO(n){return AE(n).then(t=>t.syncEngine)}function Zm(n){return YO.apply(this,arguments)}function YO(){return YO=(0,Ie.Z)(function*(n){const t=yield AE(n),e=t.eventManager;return e.onListen=sz.bind(null,t.syncEngine),e.onUnlisten=oz.bind(null,t.syncEngine),e}),YO.apply(this,arguments)}function UV(n,t,e={}){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,o,u,h,g){const v=new SE({next:E=>{o.enqueueAndForget(()=>pO(s,I));const O=E.docs.has(u);!O&&E.fromCache?g.reject(new Le(be.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&E.fromCache&&h&&"server"===h.source?g.reject(new Le(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),I=new mO(Tm(u.path),v,{includeMetadataChanges:!0,Du:!0});return dO(s,I)}(yield Zm(n),n.asyncQueue,t,e,i)})),i.promise}function BV(n,t,e={}){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,o,u,h,g){const v=new SE({next:E=>{o.enqueueAndForget(()=>pO(s,I)),E.fromCache&&"server"===h.source?g.reject(new Le(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),I=new mO(u,v,{includeMetadataChanges:!0,Du:!0});return dO(s,I)}(yield Zm(n),n.asyncQueue,t,e,i)})),i.promise}const HV=new Map;function QO(n,t,e){if(!e)throw new Le(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function jV(n,t,e,i){if(!0===t&&!0===i)throw new Le(be.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ZV(n){if(!st.isDocumentKey(n))throw new Le(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qV(n){if(st.isDocumentKey(n))throw new Le(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":vt()}function In(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Le(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=PE(n);throw new Le(be.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function GV(n,t){if(t<=0)throw new Le(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class $V{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Le(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Le(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tb{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $V({}),this._settingsFrozen=!1,t instanceof Vc?this._databaseId=t:(this._app=t,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Le(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(s.options.projectId)}(t))}get app(){if(!this._app)throw new Le(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $V(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new LG;switch(e.type){case"gapi":const i=e.client;return Gt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new BG(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Le(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=HV.get(t);e&&(qe("ComponentProvider","Removing Datastore"),HV.delete(t),e.terminate())}(this),Promise.resolve()}}class ii{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ii(this.firestore,t,this._key)}}class as{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new as(this.firestore,t,this._query)}}class kl extends as{constructor(t,e,i){super(t,e,Tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ii(this.firestore,null,new st(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function zV(n,t,...e){if(n=(0,qt.m9)(n),QO("collection","path",t),n instanceof tb){const i=En.fromString(t,...e);return qV(i),new kl(n,null,i)}{if(!(n instanceof ii||n instanceof kl))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return qV(i),new kl(n.firestore,null,i)}}function OE(n,t,...e){if(n=(0,qt.m9)(n),1===arguments.length&&(t=pF.I()),QO("doc","path",t),n instanceof tb){const i=En.fromString(t,...e);return ZV(i),new ii(n,null,new st(i))}{if(!(n instanceof ii||n instanceof kl))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return ZV(i),new ii(n.firestore,n instanceof kl?n.converter:null,new st(i))}}function WV(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),(n instanceof ii||n instanceof kl)&&(t instanceof ii||t instanceof kl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function KV(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),n instanceof as&&t instanceof as&&n.firestore===t.firestore&&k0(n._query,t._query)&&n.converter===t.converter}class Vz{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new $P(this,"async_queue_retry"),this.Kc=()=>{const e=EE();e&&qe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=EE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=EE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Mr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,Ie.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!Sd(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,rr("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const s=uO.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(s),s}Gc(){this.Bc&&vt()}verifyOperationInProgress(){}zc(){var t=this;return(0,Ie.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function JO(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class Uz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class pi extends tb{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new Vz,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||YV(this),this._firestoreClient.terminate()}}function or(n){return n._firestoreClient||YV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YV(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new YG(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new Dz(n._authCredentials,n._appCheckCredentials,n._queue,i)}function QV(n,t,e){const i=new Mr;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield NV(n,e),yield LV(n,t),i.resolve()}catch(s){const o=s;if(!("FirebaseError"===(u=o).name?u.code===be.FAILED_PRECONDITION||u.code===be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function JV(n){if(n._initialized||n._terminated)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Le(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rl(mr.fromBase64String(t))}catch(e){throw new Le(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Rl(mr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rp{constructor(t){this._methodName=t}}class ME{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Le(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Le(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return an(this._lat,t._lat)||an(this._long,t._long)}}const Kz=/^__.*__$/;class Yz{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Bc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sm(t,this.data,e,this.fieldTransforms)}}class XV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Bc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function eU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class kE{constructor(t,e,i,s,o,u){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=s,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new kE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.ta({path:i,na:!1});return s.sa(t),s}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.ta({path:i,na:!1});return s.Xc(),s}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return LE(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(eU(this.Zc)&&Kz.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class Qz{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||J0(t)}aa(t,e,i,s=!1){return new kE({Zc:t,methodName:e,ca:i,path:$i.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Np(n){const t=n._freezeSettings(),e=J0(n._databaseId);return new Qz(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RE(n,t,e,i,s,o={}){const u=n.aa(o.merge||o.mergeFields?2:0,t,e,s);nM("Data must be an object, but it was:",u,i);const h=iU(i,u);let g,v;if(o.merge)g=new Ro(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const I=[];for(const E of o.mergeFields){const O=iM(t,E,e);if(!u.contains(O))throw new Le(be.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);sU(I,O)||I.push(O)}g=new Ro(I),v=u.fieldTransforms.filter(E=>g.covers(E.field))}else g=null,v=u.fieldTransforms;return new Yz(new Kr(h),g,v)}class nb extends Rp{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nb}}function tU(n,t,e){return new kE({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class XO extends Rp{_toFieldTransform(t){return new R0(t.path,new xm)}isEqual(t){return t instanceof XO}}class Jz extends Rp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=tU(this,t,!0),i=this.ha.map(o=>Lp(o,e)),s=new Tp(i);return new R0(t.path,s)}isEqual(t){return this===t}}class Xz extends Rp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=tU(this,t,!0),i=this.ha.map(o=>Lp(o,e)),s=new Ep(i);return new R0(t.path,s)}isEqual(t){return this===t}}class e8 extends Rp{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Dm(t.wt,GF(t.wt,this.la));return new R0(t.path,e)}isEqual(t){return this===t}}function eM(n,t,e,i){const s=n.aa(1,t,e);nM("Data must be an object, but it was:",s,i);const o=[],u=Kr.empty();vp(i,(g,v)=>{const I=NE(t,g,e);v=(0,qt.m9)(v);const E=s.ia(I);if(v instanceof nb)o.push(I);else{const O=Lp(v,E);null!=O&&(o.push(I),u.set(I,O))}});const h=new Ro(o);return new XV(u,h,s.fieldTransforms)}function tM(n,t,e,i,s,o){const u=n.aa(1,t,e),h=[iM(t,i,e)],g=[s];if(o.length%2!=0)throw new Le(be.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)h.push(iM(t,o[O])),g.push(o[O+1]);const v=[],I=Kr.empty();for(let O=h.length-1;O>=0;--O)if(!sU(v,h[O])){const M=h[O];let V=g[O];V=(0,qt.m9)(V);const X=u.ia(M);if(V instanceof nb)v.push(M);else{const ie=Lp(V,X);null!=ie&&(v.push(M),I.set(M,ie))}}const E=new Ro(v);return new XV(I,E,u.fieldTransforms)}function nU(n,t,e,i=!1){return Lp(e,n.aa(i?4:3,t))}function Lp(n,t){if(rU(n=(0,qt.m9)(n)))return nM("Unsupported field value:",t,n),iU(n,t);if(n instanceof Rp)return function(e,i){if(!eU(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const s=[];let o=0;for(const u of e){let h=Lp(u,i.ra(o));null==h&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}}(n,t)}return function(e,i){if(null===(e=(0,qt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return GF(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=hi.fromDate(e);return{timestampValue:B0(i.wt,s)}}if(e instanceof hi){const s=new hi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:B0(i.wt,s)}}if(e instanceof ME)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rl)return{bytesValue:p2(i.wt,e._byteString)};if(e instanceof ii){const s=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(s))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:IP(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${PE(e)}`)}(n,t)}function iU(n,t){const e={};return wF(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vp(n,(i,s)=>{const o=Lp(s,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function rU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hi||n instanceof ME||n instanceof Rl||n instanceof ii||n instanceof Rp)}function nM(n,t,e){if(!rU(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=PE(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function iM(n,t,e){if((t=(0,qt.m9)(t))instanceof jc)return t._internalPath;if("string"==typeof t)return NE(n,t);throw LE("Field path arguments must be of type string or ",n,!1,void 0,e)}const t8=new RegExp("[~\\*/\\[\\]]");function NE(n,t,e){if(t.search(t8)>=0)throw LE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new jc(...t.split("."))._internalPath}catch(i){throw LE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function LE(n,t,e,i,s){const o=i&&!i.isEmpty(),u=void 0!==s;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${s}`),g+=")"),new Le(be.INVALID_ARGUMENT,h+n+g)}function sU(n,t){return n.some(e=>e.isEqual(t))}class ib{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new n8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(FE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class n8 extends ib{data(){return super.data()}}function FE(n,t){return"string"==typeof t?NE(n,t):t instanceof jc?t._internalPath:t._delegate._internalPath}class Fp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zc extends ib{constructor(t,e,i,s,o,u){super(t,e,i,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(FE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class rb extends Zc{data(t={}){return super.data(t)}}class Ud{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Fp(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new rb(this._firestore,this._userDataWriter,i.key,i,new Fp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Le(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new rb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||3!==u.type).map(u=>{const h=new rb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:r8(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function r8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function oU(n,t){return n instanceof Zc&&t instanceof Zc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ud&&t instanceof Ud&&n._firestore===t._firestore&&KV(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function aU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sb{}function Bd(n,...t){for(const e of t)n=e._apply(n);return n}class s8 extends sb{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Np(t.firestore),i=function(s,o,u,h,g,v,I){let E;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){pU(I,v);const M=[];for(const V of I)M.push(hU(h,s,V));E={arrayValue:{values:M}}}else E=hU(h,s,I)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||pU(I,v),E=nU(u,"where",I,"in"===v||"not-in"===v);const O=Yr.create(g,v,E);return function(M,V){if(V.ht()){const ie=yP(M);if(null!==ie&&!ie.isEqual(V.field))throw new Le(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ie.toString()}' and '${V.field.toString()}'`);const Be=_P(M);null!==Be&&fU(0,V.field,Be)}const X=function(ie,Be){for(const tt of ie.filters)if(Be.indexOf(tt.op)>=0)return tt.op;return null}(M,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==X)throw new Le(be.INVALID_ARGUMENT,X===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${X.toString()}' filters.`)}(s,O),O}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new as(t.firestore,t.converter,function(s,o){const u=s.filters.concat([o]);return new Uc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),u,s.limit,s.limitType,s.startAt,s.endAt)}(t._query,i))}}class a8 extends sb{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,s,o){if(null!==i.startAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Im(s,o);return function(h,g){if(null===_P(h)){const v=yP(h);null!==v&&fU(0,v,g.field)}}(i,u),u}(t._query,this.fa,this.wa);return new as(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Uc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class lU extends sb{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new as(t.firestore,t.converter,UF(t._query,this.ma,this.ga))}}class cU extends sb{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=dU(t,this.type,this.ya,this.pa);return new as(t.firestore,t.converter,(s=e,new Uc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class uU extends sb{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=dU(t,this.type,this.ya,this.pa);return new as(t.firestore,t.converter,(s=e,new Uc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function dU(n,t,e,i){if(e[0]=(0,qt.m9)(e[0]),e[0]instanceof ib)return function(s,o,u,h,g){if(!h)throw new Le(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const I of Em(s))if(I.field.isKeyField())v.push(Cp(o,h.key));else{const E=h.data.field(I.field);if(fP(E))throw new Le(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const O=I.field.canonicalString();throw new Le(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(E)}return new Md(v,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const s=Np(n.firestore);return function(o,u,h,g,v,I){const E=o.explicitOrderBy;if(v.length>E.length)throw new Le(be.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let M=0;M<v.length;M++){const V=v[M];if(E[M].field.isKeyField()){if("string"!=typeof V)throw new Le(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof V}`);if(!vP(o)&&-1!==V.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${V}' contains a slash.`);const X=o.path.child(En.fromString(V));if(!st.isDocumentKey(X))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const ie=new st(X);O.push(Cp(u,ie))}else{const X=nU(h,g,V);O.push(X)}}return new Md(O,I)}(n._query,n.firestore._databaseId,s,t,e,i)}}function hU(n,t,e){if("string"==typeof(e=(0,qt.m9)(e))){if(""===e)throw new Le(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vP(t)&&-1!==e.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(En.fromString(e));if(!st.isDocumentKey(i))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cp(n,new st(i))}if(e instanceof ii)return Cp(n,e._key);throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${PE(e)}.`)}function pU(n,t){if(!Array.isArray(n)||0===n.length)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function fU(n,t,e){if(!e.isEqual(t))throw new Le(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const g8={maxAttempts:5};class rM{convertValue(t,e="none"){switch(wp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw vt()}}convertObject(t,e){const i={};return vp(t.fields,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new ME(Fi(t.latitude),Fi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=IF(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(x0(t));default:return null}}convertTimestamp(t){const e=Ad(t);return new hi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=En.fromString(t);Gt(I2(i));const s=new Vc(i.get(1),i.get(3)),o=new st(i.popFirst(5));return s.isEqual(e)||rr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function VE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class m8 extends rM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ii(this.firestore,null,e)}}class gU{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Np(t)}set(t,e,i){this._verifyNotCommitted();const s=Hd(t,this._firestore),o=VE(s.converter,e,i),u=RE(this._dataReader,"WriteBatch.set",s._key,o,null!==s.converter,i);return this._mutations.push(u.toMutation(s._key,wi.none())),this}update(t,e,i,...s){this._verifyNotCommitted();const o=Hd(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof jc?tM(this._dataReader,"WriteBatch.update",o._key,e,i,s):eM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,wi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Hd(t,this._firestore);return this._mutations=this._mutations.concat(new Am(e._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hd(n,t){if((n=(0,qt.m9)(n)).firestore!==t)throw new Le(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vp extends rM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ii(this.firestore,null,e)}}function mU(n,t,e){n=In(n,ii);const i=In(n.firestore,pi),s=VE(n.converter,t,e);return qm(i,[RE(Np(i),"setDoc",n._key,s,null!==n.converter,e).toMutation(n._key,wi.none())])}function _U(n,t,e,...i){n=In(n,ii);const s=In(n.firestore,pi),o=Np(s);let u;return u="string"==typeof(t=(0,qt.m9)(t))||t instanceof jc?tM(o,"updateDoc",n._key,t,e,i):eM(o,"updateDoc",n._key,t),qm(s,[u.toMutation(n._key,wi.exists(!0))])}function yU(n,...t){var e,i,s;n=(0,qt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||JO(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(JO(t[u])){const E=t[u];t[u]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[u+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[u+2]=null===(s=E.complete)||void 0===s?void 0:s.bind(E)}let g,v,I;if(n instanceof ii)v=In(n.firestore,pi),I=Tm(n._key.path),g={next:E=>{t[u]&&t[u](sM(v,n,E))},error:t[u+1],complete:t[u+2]};else{const E=In(n,as);v=In(E.firestore,pi),I=E._query;const O=new Vp(v);g={next:M=>{t[u]&&t[u](new Ud(v,O,E,M))},error:t[u+1],complete:t[u+2]},aU(n._query)}return function(E,O,M,V){const X=new SE(V),ie=new mO(O,X,M);return E.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return dO(yield Zm(E),ie)})),()=>{X.Tc(),E.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return pO(yield Zm(E),ie)}))}}(or(v),I,h,g)}function qm(n,t){return function(e,i){const s=new Mr;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function az(n,t,e){return wO.apply(this,arguments)}(yield KO(e),i,s)})),s.promise}(or(n),t)}function sM(n,t,e){const i=e.docs.get(t._key),s=new Vp(n);return new Zc(n,s,t._key,i,new Fp(e.hasPendingWrites,e.fromCache),t.converter)}class x8 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Np(t)}get(t){const e=Hd(t,this._firestore),i=new m8(this._firestore);return this._transaction.lookup([e._key]).then(s=>{if(!s||1!==s.length)return vt();const o=s[0];if(o.isFoundDocument())return new ib(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new ib(this._firestore,i,e._key,null,e.converter);throw vt()})}set(t,e,i){const s=Hd(t,this._firestore),o=VE(s.converter,e,i),u=RE(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,u),this}update(t,e,i,...s){const o=Hd(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof jc?tM(this._dataReader,"Transaction.update",o._key,e,i,s):eM(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Hd(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Hd(t,this._firestore),i=new Vp(this._firestore);return super.get(t).then(s=>new Zc(this._firestore,i,e._key,s._document,new Fp(!1,!1),e.converter))}}function oM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function bU(){if("undefined"==typeof Uint8Array)throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function wU(){if(!function WG(){return"undefined"!=typeof atob}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){vm=pr.SDK_VERSION,(0,pr._registerComponent)(new Mu.wA("firestore",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=new pi(s,new VG(e.getProvider("auth-internal")),new HG(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,pr.registerVersion)(uF,"3.4.12",n),(0,pr.registerVersion)(uF,"3.4.12","esm2017")}();class ob{constructor(t){this._delegate=t}static fromBase64String(t){return wU(),new ob(Rl.fromBase64String(t))}static fromUint8Array(t){return bU(),new ob(Rl.fromUint8Array(t))}toBase64(){return wU(),this._delegate.toBase64()}toUint8Array(){return bU(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aM(n){return function N8(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class L8{enableIndexedDbPersistence(t,e){return function Hz(n,t){JV(n=In(n,pi));const e=or(n),i=n._freezeSettings(),s=new jO;return QV(e,s,new kV(s,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function jz(n){JV(n=In(n,pi));const t=or(n),e=n._freezeSettings(),i=new jO;return QV(t,i,new Iz(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Zz(n){if(n._initialized&&!n._terminated)throw new Le(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(e=(0,Ie.Z)(function*(i){if(!Wa.V())return Promise.resolve();const s=i+"main";yield Wa.delete(s)}),function(i){return e.apply(this,arguments)})(LP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class CU{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Vc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&C0("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Lz(n,t,e,i={}){var s;const o=(n=In(n,tb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&C0("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Or.MOCK_USER;else{u=(0,qt.Sg)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Le(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Or(g)}n._authCredentials=new FG(new dF(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function Gz(n){return function Sz(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield FV(n),e=yield VV(n);return t.setNetworkEnabled(!0),function(i){const s=ct(i);return s.lu.delete(0),X0(s)}(e)}))}(or(n=In(n,pi)))}(this._delegate)}disableNetwork(){return function $z(n){return function Az(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield FV(n),e=yield VV(n);return t.setNetworkEnabled(!1),(i=(0,Ie.Z)(function*(s){const o=ct(s);o.lu.add(0),yield Lm(o),o._u.set("Offline")}),function(s){return i.apply(this,arguments)})(e);var i}))}(or(n=In(n,pi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,jV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qz(n){return function(t){const e=new Mr;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function dz(n,t){return xO.apply(this,arguments)}(yield KO(t),e)})),e.promise}(or(n=In(n,pi)))}(this._delegate)}onSnapshotsInSync(t){return function E8(n,t){return function Mz(n,t){const e=new SE(t);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield Zm(n),s=e,ct(i).Tu.add(s),void s.next();var i,s})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield Zm(n),s=e,void ct(i).Tu.delete(s);var i,s}))}}(or(n=In(n,pi)),JO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Gm(this,zV(this._delegate,t))}catch(e){throw Rs(e,"collection()","Firestore.collection()")}}doc(t){try{return new _a(this,OE(this._delegate,t))}catch(e){throw Rs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ns(this,function Fz(n,t){if(n=In(n,tb),QO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new as(n,null,(e=t,new Uc(En.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Rs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function D8(n,t,e){n=In(n,pi);const i=Object.assign(Object.assign({},g8),e);return function(s){if(s.maxAttempts<1)throw new Le(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function kz(n,t,e){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const s=yield(o=n,AE(o).then(u=>u.datastore));var o;new xz(n.asyncQueue,s,e,t,i).run()})),i.promise}(or(n),s=>t(new x8(n,s)),i)}(this._delegate,e=>t(new IU(this,e)))}batch(){return or(this._delegate),new TU(new gU(this._delegate,t=>qm(this._delegate,t)))}loadBundle(t){return function zz(n,t){const e=or(n=In(n,pi)),i=new Uz;return function Rz(n,t,e,i){const s=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,v){if(g instanceof Uint8Array)return RV(g,v);if(g instanceof ArrayBuffer)return RV(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Tz(g,u);var g}(e,J0(t));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function Cz(n,t,e){const i=ct(n);var s;(s=(0,Ie.Z)(function*(o,u,h){try{const g=yield u.getMetadata();if(yield function(O,M){const V=ct(O),X=kr(M.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ie=>V.Ds.getBundleMetadata(ie,M.id)).then(ie=>!!ie&&ie.createTime.compareTo(X)>=0)}(o.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(IV(g));const v=new tz(g,o.localStore,u.wt);let I=yield u.fc();for(;I;){const O=yield v.Nu(I);O&&h._updateProgress(O),I=yield u.fc()}const E=yield v.complete();return yield Hc(o,E.Mu,void 0),yield function(O,M){const V=ct(O);return V.persistence.runTransaction("Save bundle","readwrite",X=>V.Ds.saveBundleMetadata(X,M))}(o.localStore,g),h._completeWith(E.progress),Promise.resolve(E.Ou)}catch(g){return C0("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var O}),function(o,u,h){return s.apply(this,arguments)})(i,t,e).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}(yield KO(n),s,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Wz(n,t){return function Nz(n,t){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(e,i){const s=ct(e);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ds.getNamedQuery(o,i))}(yield WO(n),t)}))}(or(n=In(n,pi)),t).then(e=>e?new as(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ns(this,e):null)}}class UE extends rM{constructor(t){super(),this.firestore=t}convertBytes(t){return new ob(new Rl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return _a.forKey(e,this.firestore,null)}}class IU{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new UE(t)}get(t){const e=Bp(t);return this._delegate.get(e).then(i=>new ab(this._firestore,new Zc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const s=Bp(t);return i?(oM("Transaction.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=Bp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=Bp(t);return this._delegate.delete(e),this}}class TU{constructor(t){this._delegate=t}set(t,e,i){const s=Bp(t);return i?(oM("WriteBatch.set",i),this._delegate.set(s,e,i)):this._delegate.set(s,e),this}update(t,e,i,...s){const o=Bp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...s),this}delete(t){const e=Bp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Up{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new rb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lb(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Up.INSTANCES;let s=i.get(t);s||(s=new WeakMap,i.set(t,s));let o=s.get(e);return o||(o=new Up(t,new UE(t),e),s.set(e,o)),o}}Up.INSTANCES=new WeakMap;class _a{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new UE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new _a(e,new ii(e._delegate,i,new st(t)))}static forKey(t,e,i){return new _a(e,new ii(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Gm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Gm(this.firestore,zV(this._delegate,t))}catch(e){throw Rs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,qt.m9)(t))instanceof ii&&WV(this._delegate,t)}set(t,e){e=oM("DocumentReference.set",e);try{return e?mU(this._delegate,t,e):mU(this._delegate,t)}catch(i){throw Rs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?_U(this._delegate,t):_U(this._delegate,t,e,...i)}catch(s){throw Rs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function I8(n){return qm(In(n.firestore,pi),[new Am(n._key,wi.none())])}(this._delegate)}onSnapshot(...t){const e=EU(t),i=xU(t,s=>new ab(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return yU(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function y8(n){n=In(n,ii);const t=In(n.firestore,pi),e=or(t),i=new Vp(t);return function Pz(n,t){const e=new Mr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(s,o,u){try{const h=yield function(g,v){const I=ct(g);return I.persistence.runTransaction("read document","readonly",E=>I.localDocuments.getDocument(E,v))}(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Le(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=Um(h,`Failed to get document '${o} from cache`);u.reject(g)}}),function(s,o,u){return i.apply(this,arguments)})(yield WO(n),t,e);var i})),e.promise}(e,n._key).then(s=>new Zc(t,i,n._key,s,new Fp(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function v8(n){n=In(n,ii);const t=In(n.firestore,pi);return UV(or(t),n._key,{source:"server"}).then(e=>sM(t,n,e))}(this._delegate):function _8(n){n=In(n,ii);const t=In(n.firestore,pi);return UV(or(t),n._key).then(e=>sM(t,n,e))}(this._delegate),e.then(i=>new ab(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new _a(this.firestore,this._delegate.withConverter(t?Up.getInstance(this.firestore,t):null))}}function Rs(n,t,e){return n.message=n.message.replace(t,e),n}function EU(n){for(const t of n)if("object"==typeof t&&!aM(t))return t;return{}}function xU(n,t){var e,i;let s;return s=aM(n[0])?n[0]:aM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{s.next&&s.next(t(o))},error:null===(e=s.error)||void 0===e?void 0:e.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class ab{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return oU(this._delegate,t._delegate)}}class lb extends ab{data(t){const e=this._delegate.data(t);return function NG(n,t){n||vt()}(void 0!==e),e}}class Ns{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new UE(t)}where(t,e,i){try{return new Ns(this.firestore,Bd(this._delegate,function o8(n,t,e){const i=t,s=FE("where",n);return new s8(s,i,e)}(t,e,i)))}catch(s){throw Rs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ns(this.firestore,Bd(this._delegate,function l8(n,t="asc"){const e=t,i=FE("orderBy",n);return new a8(i,e)}(t,e)))}catch(i){throw Rs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ns(this.firestore,Bd(this._delegate,function c8(n){return GV("limit",n),new lU("limit",n,"F")}(t)))}catch(e){throw Rs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ns(this.firestore,Bd(this._delegate,function u8(n){return GV("limitToLast",n),new lU("limitToLast",n,"L")}(t)))}catch(e){throw Rs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ns(this.firestore,Bd(this._delegate,function d8(...n){return new cU("startAt",n,!0)}(...t)))}catch(e){throw Rs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ns(this.firestore,Bd(this._delegate,function h8(...n){return new cU("startAfter",n,!1)}(...t)))}catch(e){throw Rs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ns(this.firestore,Bd(this._delegate,function p8(...n){return new uU("endBefore",n,!1)}(...t)))}catch(e){throw Rs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ns(this.firestore,Bd(this._delegate,function f8(...n){return new uU("endAt",n,!0)}(...t)))}catch(e){throw Rs(e,"endAt()","Query.endAt()")}}isEqual(t){return KV(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function w8(n){n=In(n,as);const t=In(n.firestore,pi),e=or(t),i=new Vp(t);return function Oz(n,t){const e=new Mr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(s,o,u){try{const h=yield CE(s,o,!0),g=new xV(o,h.ji),v=g.Ku(h.documents),I=g.applyChanges(v,!1);u.resolve(I.snapshot)}catch(h){const g=Um(h,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(s,o,u){return i.apply(this,arguments)})(yield WO(n),t,e);var i})),e.promise}(e,n._query).then(s=>new Ud(t,i,n,s))}(this._delegate):"server"===(null==t?void 0:t.source)?function C8(n){n=In(n,as);const t=In(n.firestore,pi),e=or(t),i=new Vp(t);return BV(e,n._query,{source:"server"}).then(s=>new Ud(t,i,n,s))}(this._delegate):function b8(n){n=In(n,as);const t=In(n.firestore,pi),e=or(t),i=new Vp(t);return aU(n._query),BV(e,n._query).then(s=>new Ud(t,i,n,s))}(this._delegate),e.then(i=>new lM(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=EU(t),i=xU(t,s=>new lM(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return yU(this._delegate,e,i)}withConverter(t){return new Ns(this.firestore,this._delegate.withConverter(t?Up.getInstance(this.firestore,t):null))}}class V8{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new lb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new lb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new V8(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new lb(this._firestore,i))})}isEqual(t){return oU(this._delegate,t._delegate)}}class Gm extends Ns{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new _a(this.firestore,t):null}doc(t){try{return new _a(this.firestore,void 0===t?OE(this._delegate):OE(this._delegate,t))}catch(e){throw Rs(e,"doc()","CollectionReference.doc()")}}add(t){return function T8(n,t){const e=In(n.firestore,pi),i=OE(n),s=VE(n.converter,t);return qm(e,[RE(Np(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,wi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new _a(this.firestore,e))}isEqual(t){return WV(this._delegate,t._delegate)}withConverter(t){return new Gm(this.firestore,this._delegate.withConverter(t?Up.getInstance(this.firestore,t):null))}}function Bp(n){return In(n,ii)}class cM{constructor(...t){this._delegate=new jc(...t)}static documentId(){return new cM($i.keyField().canonicalString())}isEqual(t){return(t=(0,qt.m9)(t))instanceof jc&&this._delegate._internalPath.isEqual(t._internalPath)}}class Hp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function A8(){return new XO("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Hp(t)}static delete(){const t=function S8(){return new nb("deleteField")}();return t._methodName="FieldValue.delete",new Hp(t)}static arrayUnion(...t){const e=function P8(...n){return new Jz("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Hp(e)}static arrayRemove(...t){const e=function O8(...n){return new Xz("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Hp(e)}static increment(t){const e=function M8(n){return new e8("increment",n)}(t);return e._methodName="FieldValue.increment",new Hp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const U8={Firestore:CU,GeoPoint:ME,Timestamp:hi,Blob:ob,Transaction:IU,WriteBatch:TU,DocumentReference:_a,DocumentSnapshot:ab,Query:Ns,QueryDocumentSnapshot:lb,QuerySnapshot:lM,CollectionReference:Gm,FieldPath:cM,FieldValue:Hp,setLogLevel:function F8(n){!function RG(n){xd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function DU(n,t){return function j8(n,t=ep.z){return new Zi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function uM(n,t){return DU(n,t).pipe((0,Nt.U)(e=>({payload:e,type:"query"})))}function BE(n,t){return uM(n,t).pipe(io(void 0),tp(),(0,Nt.U)(([e,i])=>{const s=i.payload.docChanges(),o=s.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=s.find(I=>I.doc.ref.isEqual(u.ref)),v=null==e?void 0:e.payload.docs.find(I=>I.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function SU(n,t,e){return BE(n,e).pipe(oa((i,s)=>function q8(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function G8(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return dM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return dM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return dM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,s.map(o=>o.payload),t),[]),ev(),(0,Nt.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function dM(n,t,e,...i){const s=n.slice();return s.splice(t,e,...i),s}function AU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function H8(n){(function B8(n,t){n.INTERNAL.registerComponent(new Mu.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),s=e.getProvider("firestore").getImmediate();return t(i,s)},"PUBLIC").setServiceProps(Object.assign({},U8)))})(n,(t,e)=>new CU(t,e,new L8)),n.registerVersion("@firebase/firestore-compat","0.1.21")}(xq.Z);class PU{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=BE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Nt.U)(i=>i.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(io(void 0),tp(),is(([i,s])=>s.length>0||!i),(0,Nt.U)(([i,s])=>s),P.iC)}auditTrail(t){return this.stateChanges(t).pipe(oa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AU(t);return SU(this.query,e,this.afs.schedulers.outsideAngular).pipe(P.iC)}valueChanges(t={}){return uM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),P.iC)}get(t){return(0,ti.D)(this.query.get(t)).pipe(P.iC)}add(t){return this.ref.add(t)}doc(t){return new OU(this.ref.doc(t),this.afs)}}class OU{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:s,query:o}=RU(i,e);return new PU(s,o,this.afs)}snapshotChanges(){return function Z8(n,t){return DU(n,t).pipe(io(void 0),tp(),(0,Nt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(P.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Nt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ti.D)(this.ref.get(t)).pipe(P.iC)}}class $8{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?BE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),is(e=>e.length>0),P.iC):BE(this.query,this.afs.schedulers.outsideAngular).pipe(P.iC)}auditTrail(t){return this.stateChanges(t).pipe(oa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AU(t);return SU(this.query,e,this.afs.schedulers.outsideAngular).pipe(P.iC)}valueChanges(t={}){return uM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(i=>i.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),P.iC)}get(t){return(0,ti.D)(this.query.get(t)).pipe(P.iC)}}const MU=new r.OlP("angularfire2.enableFirestorePersistence"),kU=new r.OlP("angularfire2.firestore.persistenceSettings"),z8=new r.OlP("angularfire2.firestore.settings"),W8=new r.OlP("angularfire2.firestore.use-emulator");function RU(n,t=(e=>e)){return{query:t(n),ref:n}}let K8=(()=>{class n{constructor(e,i,s,o,u,h,g,v,I,E,O,M,V,X,ie,Be,tt){this.schedulers=g;const nt=(0,Ss.on)(e,h,i),Je=I;E&&ZN(nt,h,O,V,X,ie,M,Be),[this.firestore,this.persistenceEnabled$]=(0,Ss.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const Lt=h.runOutsideAngular(()=>nt.firestore());if(o&&Lt.settings(o),Je&&Lt.useEmulator(...Je),s&&!us(u)){const kt=()=>{try{return(0,ti.D)(Lt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(wn){return"undefined"!=typeof console&&console.warn(wn),gt(!1)}};return[Lt,h.runOutsideAngular(kt)]}return[Lt,gt(!1)]},[o,Je,s])}collection(e,i){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=RU(s,i),h=this.schedulers.ngZone.run(()=>o);return new PU(h,u,this)}collectionGroup(e,i){const s=i||(u=>u),o=this.firestore.collectionGroup(e);return new $8(s(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>i);return new OU(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(r.LFG(Ss.Dh),r.LFG(Ss.xv,8),r.LFG(MU,8),r.LFG(z8,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(P.HU),r.LFG(kU,8),r.LFG(W8,8),r.LFG(hA,8),r.LFG(FN,8),r.LFG(VN,8),r.LFG(UN,8),r.LFG(BN,8),r.LFG(HN,8),r.LFG(jN,8),r.LFG(uA,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Y8=(()=>{class n{constructor(){ET.Z.registerVersion("angularfire",P.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:MU,useValue:!0},{provide:kU,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[K8]}),n})();const Q8={apiKey:"AIzaSyCDzQqkkYEuZjADSFzOHvCUMAzAkdSoLj0",authDomain:"ntitest-b206c.firebaseapp.com",databaseURL:"https://ntitest-b206c-default-rtdb.firebaseio.com",projectId:"ntitest-b206c",storageBucket:"ntitest-b206c.appspot.com",messagingSenderId:"136238870827",appId:"1:136238870827:web:4d22aea54e719cddd7956e",measurementId:"G-6528MB3NDL"};function J8(n){return new XZ(n,"./assets/translate/",".json")}let X8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n,bootstrap:[MB]}),n.\u0275inj=r.cJS({providers:[El,{provide:gg,useClass:pj,multi:!0}],imports:[[ba,HR,iB,ea,hr,x,Av,lB,$I,bd,ba,HR,$I,wj,Bj,om,FI,bd,xs,q1,$j,ea,hn,gZ,IZ,hj,JZ,tD,LC,Yg.forRoot({loader:{provide:Wh,useFactory:J8,deps:[fg]}}),Ss.hO.initializeApp(Q8),Eq,Y8]]}),n})();(0,r.G48)(),zd().bootstrapModule(X8).catch(n=>console.error(n))},7982:(ot,Ce,k)=>{k.d(Ce,{Gb:()=>r.Gb});var r=k(579)},5867:(ot,Ce,k)=>{k.d(Ce,{C6:()=>r.getApps,Mq:()=>r.getApp});var r=k(9681);(0,r.registerVersion)("firebase","9.9.0","app")},127:(ot,Ce,k)=>{k.d(Ce,{Z:()=>r.Z});var r=k(3942);r.Z.registerVersion("firebase","9.9.0","app-compat")},1451:(ot,Ce,k)=>{k.r(Ce);var r=k(5861),te=k(3942),F=k(2090),le=k(9681),we=k(655),Te=k(1877),ce=k(4859);const Ne=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function Ee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new Te.Yd("@firebase/auth");function je(y,...f){Ve.logLevel<=Te.in.ERROR&&Ve.error(`Auth (${le.SDK_VERSION}): ${y}`,...f)}function Oe(y,...f){throw Ze(y,...f)}function Ge(y,...f){return Ze(y,...f)}function Se(y,f,_){const w=Object.assign(Object.assign({},He()),{[f]:_});return new F.LL("auth","Firebase",w).create(f,{appName:y.name})}function it(y,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&Oe(y,"argument-error"),Se(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...f){if("string"!=typeof y){const _=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(_,...w)}return ye.create(y,...f)}function W(y,f,..._){if(!y)throw Ze(f,..._)}function H(y){const f="INTERNAL ASSERTION FAILED: "+y;throw je(f),new Error(f)}function ee(y,f){y||H(f)}const de=new Map;function se(y){ee(y instanceof Function,"Expected a class definition");let f=de.get(y);return f?(ee(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,de.set(y,f),f)}function wt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Vt(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class An{constructor(f,_){this.shortDelay=f,this.longDelay=_,ee(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function at(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(y,f){ee(y.emulator,"Emulator should always be set here");const{url:_}=y.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class fi{static initialize(f,_,w){this.fetchImpl=f,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void H("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void H("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void H("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ri=new An(3e4,6e4);function Ht(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Rt(y,f,_,w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,r.Z)(function*(y,f,_,w,x={}){return _r(y,x,(0,r.Z)(function*(){let P={},J={};w&&("GET"===f?J=w:P={body:JSON.stringify(w)});const fe=(0,F.xO)(Object.assign({key:y.config.apiKey},J)).slice(1),ze=yield y._getAdditionalHeaders();return ze["Content-Type"]="application/json",y.languageCode&&(ze["X-Firebase-Locale"]=y.languageCode),fi.fetch()(Ti(y,y.config.apiHost,_,fe),Object.assign({method:f,headers:ze,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function _r(y,f,_){return si.apply(this,arguments)}function si(){return(si=(0,r.Z)(function*(y,f,_){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},_n),f);try{const x=new Vi(y),P=yield Promise.race([_(),x.promise]);x.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw gi(y,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const fe=P.ok?J.errorMessage:J.error.message,[ze,lt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw gi(y,"credential-already-in-use",J);if("EMAIL_EXISTS"===ze)throw gi(y,"email-already-in-use",J);if("USER_DISABLED"===ze)throw gi(y,"user-disabled",J);const Ot=w[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Se(y,Ot,lt);Oe(y,Ot)}}catch(x){if(x instanceof F.ZR)throw x;Oe(y,"network-request-failed")}})).apply(this,arguments)}function Un(y,f,_,w){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,r.Z)(function*(y,f,_,w,x={}){const P=yield Rt(y,f,_,w,x);return"mfaPendingCredential"in P&&Oe(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ti(y,f,_,w){const x=`${f}${_}?${w}`;return y.config.emulator?Cn(y.config,x):`${y.config.apiScheme}://${x}`}class Vi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Ge(this.auth,"network-request-failed")),ri.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gi(y,f,_){const w={appName:y.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const x=Ge(y,f,w);return x.customData._tokenResponse=_,x}function oi(){return(oi=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function pn(y,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ei(y,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function yn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ui(){return(Ui=(0,r.Z)(function*(y,f=!1){const _=(0,F.m9)(y),w=yield _.getIdToken(f),x=ut(w);W(x&&x.exp&&x.auth_time&&x.iat,_.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,J=null==P?void 0:P.sign_in_provider;return{claims:x,token:w,authTime:yn(en(x.auth_time)),issuedAtTime:yn(en(x.iat)),expirationTime:yn(en(x.exp)),signInProvider:J||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function en(y){return 1e3*Number(y)}function ut(y){var f;const[_,w,x]=y.split(".");if(void 0===_||void 0===w||void 0===x)return je("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,F.tV)(w);return P?JSON.parse(P):(je("Failed to decode base64 JWT payload"),null)}catch(P){return je("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function vn(y,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,r.Z)(function*(y,f,_=!1){if(_)return f;try{return yield f}catch(w){throw w instanceof F.ZR&&zt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ar{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,r.Z)(function*(){yield _.iteration()}),w)}iteration(){var f=this;return(0,r.Z)(function*(){var _;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(_=w)||void 0===_?void 0:_.code)&&f.schedule(!0))}f.schedule()})()}}class ei{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zn(y){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.Z)(function*(y){var f;const _=y.auth,w=yield y.getIdToken(),x=yield vn(y,Ei(_,{idToken:w}));W(null==x?void 0:x.users.length,_,"internal-error");const P=x.users[0];y._notifyReloadListener(P);const J=(null===(f=P.providerUserInfo)||void 0===f?void 0:f.length)?U(P.providerUserInfo):[],fe=K(y.providerData,J),Ot=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==fe?void 0:fe.length)),Ct={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:fe,metadata:new ei(P.createdAt,P.lastLoginAt),isAnonymous:Ot};Object.assign(y,Ct)})).apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(y){const f=(0,F.m9)(y);yield zn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function K(y,f){return[...y.filter(w=>!f.some(x=>x.providerId===w.providerId)),...f]}function U(y){return y.map(f=>{var{providerId:_}=f,w=(0,we._T)(f,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function $(){return($=(0,r.Z)(function*(y,f){const _=yield _r(y,{},(0,r.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:P}=y.config,J=Ti(y,x,"/v1/token",`key=${P}`),fe=yield y._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",fi.fetch()(J,{method:"POST",headers:fe,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){W(f.idToken,"internal-error"),W(void 0!==f.idToken,"internal-error"),W(void 0!==f.refreshToken,"internal-error");const _="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function dt(y){const f=ut(y);return W(f,"internal-error"),W(void 0!==f.exp,"internal-error"),W(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}getToken(f,_=!1){var w=this;return(0,r.Z)(function*(){return W(!w.accessToken||w.refreshToken,f,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var w=this;return(0,r.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:J}=yield function q(y,f){return $.apply(this,arguments)}(f,_);w.updateTokensAndExpiration(x,P,Number(J))})()}updateTokensAndExpiration(f,_,w){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,_){const{refreshToken:w,accessToken:x,expirationTime:P}=_,J=new Pe;return w&&(W("string"==typeof w,"internal-error",{appName:f}),J.refreshToken=w),x&&(W("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),P&&(W("number"==typeof P,"internal-error",{appName:f}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Pe,this.toJSON())}_performRefresh(){return H("not implemented")}}function Ye(y,f){W("string"==typeof y||void 0===y,"internal-error",{appName:f})}class ft{constructor(f){var{uid:_,auth:w,stsTokenManager:x}=f,P=(0,we._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new ei(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,r.Z)(function*(){const w=yield vn(_,_.stsTokenManager.getToken(_.auth,f));return W(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(f){return function Ki(y){return Ui.apply(this,arguments)}(this,f)}reload(){return function Qi(y){return j.apply(this,arguments)}(this)}_assign(f){this!==f&&(W(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ft(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var w=this;return(0,r.Z)(function*(){let x=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),x=!0),_&&(yield zn(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,r.Z)(function*(){const _=yield f.getIdToken();return yield vn(f,function Et(y,f){return oi.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var w,x,P,J,fe,ze,lt,Ot;const Ct=null!==(w=_.displayName)&&void 0!==w?w:void 0,li=null!==(x=_.email)&&void 0!==x?x:void 0,ns=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,fc=null!==(J=_.photoURL)&&void 0!==J?J:void 0,E_=null!==(fe=_.tenantId)&&void 0!==fe?fe:void 0,Fa=null!==(ze=_._redirectEventId)&&void 0!==ze?ze:void 0,Ch=null!==(lt=_.createdAt)&&void 0!==lt?lt:void 0,Uf=null!==(Ot=_.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:Bf,emailVerified:Ih,isAnonymous:x_,providerData:Hf,stsTokenManager:D_}=_;W(Bf&&D_,f,"internal-error");const Ie=Pe.fromJSON(this.name,D_);W("string"==typeof Bf,f,"internal-error"),Ye(Ct,f.name),Ye(li,f.name),W("boolean"==typeof Ih,f,"internal-error"),W("boolean"==typeof x_,f,"internal-error"),Ye(ns,f.name),Ye(fc,f.name),Ye(E_,f.name),Ye(Fa,f.name),Ye(Ch,f.name),Ye(Uf,f.name);const pr=new ft({uid:Bf,auth:f,email:li,emailVerified:Ih,displayName:Ct,isAnonymous:x_,photoURL:fc,phoneNumber:ns,tenantId:E_,stsTokenManager:Ie,createdAt:Ch,lastLoginAt:Uf});return Hf&&Array.isArray(Hf)&&(pr.providerData=Hf.map(qt=>Object.assign({},qt))),Fa&&(pr._redirectEventId=Fa),pr}static _fromIdTokenResponse(f,_,w=!1){return(0,r.Z)(function*(){const x=new Pe;x.updateFromServerResponse(_);const P=new ft({uid:_.localId,auth:f,stsTokenManager:x,isAnonymous:w});return yield zn(P),P})()}}const rn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(_,w){var x=this;return(0,r.Z)(function*(){x.storage[_]=w})()}_get(_){var w=this;return(0,r.Z)(function*(){const x=w.storage[_];return void 0===x?null:x})()}_remove(_){var w=this;return(0,r.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return y.type="NONE",y})();function ae(y,f,_){return`firebase:${y}:${f}:${_}`}class pe{constructor(f,_,w){this.persistence=f,this.auth=_,this.userKey=w;const{config:x,name:P}=this.auth;this.fullUserKey=ae(this.userKey,x.apiKey,P),this.fullPersistenceKey=ae("persistence",x.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,r.Z)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?ft._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,r.Z)(function*(){if(_.persistence===f)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,w="authUser"){return(0,r.Z)(function*(){if(!_.length)return new pe(se(rn),f,w);const x=(yield Promise.all(_.map(function(){var lt=(0,r.Z)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let P=x[0]||se(rn);const J=ae(w,f.config.apiKey,f.name);let fe=null;for(const lt of _)try{const Ot=yield lt._get(J);if(Ot){const Ct=ft._fromJSON(f,Ot);lt!==P&&(fe=Ct),P=lt;break}}catch(Ot){}const ze=x.filter(lt=>lt._shouldAllowMigration);return P._shouldAllowMigration&&ze.length?(P=ze[0],fe&&(yield P._set(J,fe.toJSON())),yield Promise.all(_.map(function(){var lt=(0,r.Z)(function*(Ot){if(Ot!==P)try{yield Ot._remove(J)}catch(Ct){}});return function(Ot){return lt.apply(this,arguments)}}())),new pe(P,f,w)):new pe(P,f,w)})()}}function Ue(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(bt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if($e(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(sn(f))return"Blackberry";if(Qt(f))return"Webos";if(rt(f))return"Safari";if((f.includes("chrome/")||Pt(f))&&!f.includes("edge/"))return"Chrome";if(jt(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function $e(y=(0,F.z$)()){return/firefox\//i.test(y)}function rt(y=(0,F.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Pt(y=(0,F.z$)()){return/crios\//i.test(y)}function bt(y=(0,F.z$)()){return/iemobile/i.test(y)}function jt(y=(0,F.z$)()){return/android/i.test(y)}function sn(y=(0,F.z$)()){return/blackberry/i.test(y)}function Qt(y=(0,F.z$)()){return/webos/i.test(y)}function gn(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function vr(y=(0,F.z$)()){return gn(y)||jt(y)||Qt(y)||sn(y)||/windows phone/i.test(y)||bt(y)}function Fs(y,f=[]){let _;switch(y){case"Browser":_=Ue((0,F.z$)());break;case"Worker":_=`${Ue((0,F.z$)())}-${y}`;break;default:_=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${le.SDK_VERSION}/${w}`}class Bi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const w=P=>new Promise((J,fe)=>{try{J(f(P))}catch(ze){fe(ze)}});w.onAbort=_,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,r.Z)(function*(){var w;if(_.auth.currentUser===f)return;const x=[];try{for(const P of _.queue)yield P(f),P.onAbort&&x.push(P.onAbort)}catch(P){x.reverse();for(const J of x)try{J()}catch(fe){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=P)||void 0===w?void 0:w.message})}})()}}class Xe{constructor(f,_,w){this.app=f,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ue(this),this.idTokenSubscription=new ue(this),this.beforeStateQueue=new Bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,_){var w=this;return _&&(this._popupRedirectResolver=se(_)),this._initializationPromise=this.queue((0,r.Z)(function*(){var x,P;if(!w._deleted&&(w.persistenceManager=yield pe.create(w,f),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(J){}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,r.Z)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUser(f){var _=this;return(0,r.Z)(function*(){var w;const x=yield _.assertedPersistence.getCurrentUser();let P=x,J=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const fe=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,ze=null==P?void 0:P._redirectEventId,lt=yield _.tryRedirectSignIn(f);(!fe||fe===ze)&&(null==lt?void 0:lt.user)&&(P=lt.user,J=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(P)}catch(fe){P=x,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(fe))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return W(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var _=this;return(0,r.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch(x){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,r.Z)(function*(){var w;try{yield zn(f)}catch(x){if("auth/network-request-failed"!==(null===(w=x)||void 0===w?void 0:w.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Tt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,r.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,r.Z)(function*(){const w=f?(0,F.m9)(f):null;return w&&W(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(f,_=!1){var w=this;return(0,r.Z)(function*(){if(!w._deleted)return f&&W(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,r.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,r.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var _=this;return this.queue((0,r.Z)(function*(){yield _.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,_,w){return this.registerStateListener(this.authStateSubscription,f,_,w)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,w){return this.registerStateListener(this.idTokenSubscription,f,_,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var w=this;return(0,r.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(_);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,r.Z)(function*(){if(!_.redirectPersistenceManager){const w=f&&se(f)||_._popupRedirectResolver;W(w,_,"argument-error"),_.redirectPersistenceManager=yield pe.create(_,[se(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,r.Z)(function*(){var w,x;return _._isInitialized&&(yield _.queue((0,r.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===f?_._currentUser:(null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,r.Z)(function*(){if(f===_.currentUser)return _.queue((0,r.Z)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,w,x){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return W(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof _?f.addObserver(_,w,x):f.addObserver(_)}directlySetCurrentUser(f){var _=this;return(0,r.Z)(function*(){_.currentUser&&_.currentUser!==f&&(_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh()),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,r.Z)(function*(){var _;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function B(y){return(0,F.m9)(y)}class ue{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ht(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function tn(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Pn{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return H("not implemented")}_getIdTokenResponse(f){return H("not implemented")}_linkToIdToken(f,_){return H("not implemented")}_getReauthenticationResolver(f){return H("not implemented")}}function Hi(y,f){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:resetPassword",Ht(y,f))})).apply(this,arguments)}function Vs(y,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ka(y,f){return Us.apply(this,arguments)}function Us(){return(Us=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",Ht(y,f))})).apply(this,arguments)}function Bs(){return(Bs=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signInWithPassword",Ht(y,f))})).apply(this,arguments)}function ls(y,f){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:sendOobCode",Ht(y,f))})).apply(this,arguments)}function Mn(y,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,r.Z)(function*(y,f){return ls(y,f)})).apply(this,arguments)}function Ll(y,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,r.Z)(function*(y,f){return ls(y,f)})).apply(this,arguments)}function br(y,f){return co.apply(this,arguments)}function co(){return(co=(0,r.Z)(function*(y,f){return ls(y,f)})).apply(this,arguments)}function Fl(y,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,r.Z)(function*(y,f){return ls(y,f)})).apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,f))})).apply(this,arguments)}function Vl(){return(Vl=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,f))})).apply(this,arguments)}class Di extends Pn{constructor(f,_,w,x=null){super("password",w),this._email=f,this._password=_,this._tenantId=x}static _fromEmailAndPassword(f,_){return new Di(f,_,"password")}static _fromEmailAndCode(f,_,w=null){return new Di(f,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,r.Z)(function*(){switch(_.signInMethod){case"password":return function On(y,f){return Bs.apply(this,arguments)}(f,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Fr(y,f){return wr.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:Oe(f,"internal-error")}})()}_linkToIdToken(f,_){var w=this;return(0,r.Z)(function*(){switch(w.signInMethod){case"password":return Vs(f,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function uo(y,f){return Vl.apply(this,arguments)}(f,{idToken:_,email:w._email,oobCode:w._password});default:Oe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Hs(y,f){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signInWithIdp",Ht(y,f))})).apply(this,arguments)}class Qr extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new Qr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):Oe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x}=_,P=(0,we._T)(_,["providerId","signInMethod"]);if(!w||!x)return null;const J=new Qr(w,x);return J.idToken=P.idToken||void 0,J.accessToken=P.accessToken||void 0,J.secret=P.secret,J.nonce=P.nonce,J.pendingToken=P.pendingToken||null,J}_getIdTokenResponse(f){return Hs(f,this.buildRequest())}_linkToIdToken(f,_){const w=this.buildRequest();return w.idToken=_,Hs(f,w)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Hs(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,F.xO)(_)}return f}}function $c(y,f){return zc.apply(this,arguments)}function zc(){return(zc=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:sendVerificationCode",Ht(y,f))})).apply(this,arguments)}function Kc(){return(Kc=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,f))})).apply(this,arguments)}function qd(){return(qd=(0,r.Z)(function*(y,f){const _=yield Un(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,f));if(_.temporaryProof)throw gi(y,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Yc={USER_NOT_FOUND:"user-not-found"};function Gd(){return(Gd=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Yc)})).apply(this,arguments)}class Vo extends Pn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new Vo({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new Vo({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function Wc(y,f){return Kc.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function $m(y,f){return qd.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function zm(y,f){return Gd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:w,verificationCode:x}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:w,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:w,phoneNumber:x,temporaryProof:P}=f;return w||_||x||P?new Vo({verificationId:_,verificationCode:w,phoneNumber:x,temporaryProof:P}):null}}class Ya{constructor(f){var _,w,x,P,J,fe;const ze=(0,F.zd)((0,F.pd)(f)),lt=null!==(_=ze.apiKey)&&void 0!==_?_:null,Ot=null!==(w=ze.oobCode)&&void 0!==w?w:null,Ct=function Qc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=ze.mode)&&void 0!==x?x:null);W(lt&&Ot&&Ct,"argument-error"),this.apiKey=lt,this.operation=Ct,this.code=Ot,this.continueUrl=null!==(P=ze.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=ze.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(fe=ze.tenantId)&&void 0!==fe?fe:null}static parseLink(f){const _=function Ul(y){const f=(0,F.zd)((0,F.pd)(y)).link,_=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||_||f||y}(f);try{return new Ya(_)}catch(w){return null}}}let Bl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(_,w){return Di._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const x=Ya.parseLink(w);return W(x,"argument-error"),Di._fromEmailAndCode(_,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Xi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Uo extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Vr extends Uo{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return W("providerId"in _&&"signInMethod"in _,"argument-error"),Qr._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return W(f.idToken||f.accessToken,"argument-error"),Qr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Vr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Vr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:P,nonce:J,providerId:fe}=f;if(!w&&!x&&!_&&!P||!fe)return null;try{return new Vr(fe)._credential({idToken:_,accessToken:w,nonce:J,pendingToken:P})}catch(ze){return null}}}let ya=(()=>{class y extends Uo{constructor(){super("facebook.com")}static credential(_){return Qr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Qa=(()=>{class y extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Qr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:x}=_;if(!w&&!x)return null;try{return y.credential(w,x)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Jc=(()=>{class y extends Uo{constructor(){super("github.com")}static credential(_){return Qr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Jr extends Pn{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return Hs(f,this.buildRequest())}_linkToIdToken(f,_){const w=this.buildRequest();return w.idToken=_,Hs(f,w)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Hs(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x,pendingToken:P}=_;return w&&x&&P&&w===x?new Jr(w,P):null}static _create(f,_){return new Jr(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class js extends Xi{constructor(f){W(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return js.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return js.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=Jr.fromJSON(f);return W(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:w}=f;if(!_||!w)return null;try{return Jr._create(w,_)}catch(x){return null}}}let Ja=(()=>{class y extends Uo{constructor(){super("twitter.com")}static credential(_,w){return Qr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=_;if(!w||!x)return null;try{return y.credential(w,x)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Si(y,f){return us.apply(this,arguments)}function us(){return(us=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signUp",Ht(y,f))})).apply(this,arguments)}class lr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,w,x=!1){return(0,r.Z)(function*(){const P=yield ft._fromIdTokenResponse(f,w,x),J=Xc(w);return new lr({user:P,providerId:J,_tokenResponse:w,operationType:_})})()}static _forOperation(f,_,w){return(0,r.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const x=Xc(w);return new lr({user:f,providerId:x,_tokenResponse:w,operationType:_})})()}}function Xc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function jl(){return(jl=(0,r.Z)(function*(y){var f;const _=B(y);if(yield _._initializationPromise,null===(f=_.currentUser)||void 0===f?void 0:f.isAnonymous)return new lr({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Si(_,{returnSecureToken:!0}),x=yield lr._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class Bo extends F.ZR{constructor(f,_,w,x){var P;super(_.code,_.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Bo.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,_,w,x){return new Bo(f,_,w,x)}}function Zl(y,f,_,w){return("reauthenticate"===f?_._getReauthenticationResolver(y):_._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Bo._fromErrorAndOperation(y,P,f,w):P})}function ds(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Fn(){return(Fn=(0,r.Z)(function*(y,f){const _=(0,F.m9)(y);yield Dn(!0,_,f);const{providerUserInfo:w}=yield pn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),x=ds(w||[]);return _.providerData=_.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Xa(y,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,r.Z)(function*(y,f,_=!1){const w=yield vn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),_);return lr._forOperation(y,"link",w)})).apply(this,arguments)}function Dn(y,f,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,r.Z)(function*(y,f,_){yield zn(f);const x=!1===y?"provider-already-linked":"no-such-provider";W(ds(f.providerData).has(_)===y,f.auth,x)})).apply(this,arguments)}function ql(y,f){return va.apply(this,arguments)}function va(){return(va=(0,r.Z)(function*(y,f,_=!1){var w;const{auth:x}=y,P="reauthenticate";try{const J=yield vn(y,Zl(x,P,f,y),_);W(J.idToken,x,"internal-error");const fe=ut(J.idToken);W(fe,x,"internal-error");const{sub:ze}=fe;return W(y.uid===ze,x,"user-mismatch"),lr._forOperation(y,P,J)}catch(J){throw"auth/user-not-found"===(null===(w=J)||void 0===w?void 0:w.code)&&Oe(x,"user-mismatch"),J}})).apply(this,arguments)}function ji(y,f){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,r.Z)(function*(y,f,_=!1){const w="signIn",x=yield Zl(y,w,f),P=yield lr._fromIdTokenResponse(y,w,x);return _||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ho(y,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,r.Z)(function*(y,f){return ji(B(y),f)})).apply(this,arguments)}function R(y,f){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(function*(y,f){const _=(0,F.m9)(y);return yield Dn(!1,_,f.providerId),Xa(_,f)})).apply(this,arguments)}function Q(y,f){return he.apply(this,arguments)}function he(){return(he=(0,r.Z)(function*(y,f){return ql((0,F.m9)(y),f)})).apply(this,arguments)}function ke(y,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(y,f){return Un(y,"POST","/v1/accounts:signInWithCustomToken",Ht(y,f))})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(y,f){const _=B(y),w=yield ke(_,{token:f,returnSecureToken:!0}),x=yield lr._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(x.user),x})).apply(this,arguments)}class jn{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?Ai._fromServerResponse(f,_):Oe(f,"internal-error")}}class Ai extends jn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new Ai(_)}}function kn(y,f,_){var w;W((null===(w=_.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),W(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(W(_.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(W(_.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function Br(){return(Br=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y),x={requestType:"PASSWORD_RESET",email:f};_&&kn(w,x,_),yield Ll(w,x)})).apply(this,arguments)}function jo(){return(jo=(0,r.Z)(function*(y,f,_){yield Hi((0,F.m9)(y),{oobCode:f,newPassword:_})})).apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(y,f){yield Ka((0,F.m9)(y),{oobCode:f})})).apply(this,arguments)}function eu(y,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,r.Z)(function*(y,f){const _=(0,F.m9)(y),w=yield Hi(_,{oobCode:f}),x=w.requestType;switch(W(x,_,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(w.mfaInfo,_,"internal-error");default:W(w.email,_,"internal-error")}let P=null;return w.mfaInfo&&(P=jn._fromServerResponse(B(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(y,f){const{data:_}=yield eu((0,F.m9)(y),f);return _.email})).apply(this,arguments)}function Zo(){return(Zo=(0,r.Z)(function*(y,f,_){const w=B(y),x=yield Si(w,{returnSecureToken:!0,email:f,password:_}),P=yield lr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function tu(){return(tu=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y),x={requestType:"EMAIL_SIGNIN",email:f};W(_.handleCodeInApp,w,"argument-error"),_&&kn(w,x,_),yield br(w,x)})).apply(this,arguments)}function Oi(){return(Oi=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y),x=Bl.credentialWithLink(f,_||wt());return W(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ho(w,x)})).apply(this,arguments)}function ho(y,f){return ru.apply(this,arguments)}function ru(){return(ru=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:createAuthUri",Ht(y,f))})).apply(this,arguments)}function ps(){return(ps=(0,r.Z)(function*(y,f){const w={identifier:f,continueUri:Vt()?wt():"http://localhost"},{signinMethods:x}=yield ho((0,F.m9)(y),w);return x||[]})).apply(this,arguments)}function su(){return(su=(0,r.Z)(function*(y,f){const _=(0,F.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&kn(_.auth,x,f);const{email:P}=yield Mn(_.auth,x);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function zd(){return(zd=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};_&&kn(w.auth,P,_);const{email:J}=yield Fl(w.auth,P);J!==y.email&&(yield y.reload())})).apply(this,arguments)}function Wd(y,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,r.Z)(function*(y,f){return Rt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $l(){return($l=(0,r.Z)(function*(y,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const w=(0,F.m9)(y),P={idToken:yield w.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},J=yield vn(w,Wd(w.auth,P));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const fe=w.providerData.find(({providerId:ze})=>"password"===ze);fe&&(fe.displayName=w.displayName,fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function nl(y,f,_){return ou.apply(this,arguments)}function ou(){return(ou=(0,r.Z)(function*(y,f,_){const{auth:w}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),_&&(P.password=_);const J=yield vn(y,Vs(w,P));yield y._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class il{constructor(f,_,w={}){this.isNewUser=f,this.providerId=_,this.profile=w}}class Yp extends il{constructor(f,_,w,x){super(f,_,w),this.username=x}}class zl extends il{constructor(f,_){super(f,"facebook.com",_)}}class qo extends Yp{constructor(f,_){super(f,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Jm extends il{constructor(f,_){super(f,"google.com",_)}}class ur extends Yp{constructor(f,_,w){super(f,"twitter.com",_,w)}}function qs(y){const{user:f,_tokenResponse:_}=y;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Kp(y){var f,_;if(!y)return null;const{providerId:w}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const J=null===(_=null===(f=ut(y.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new il(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new zl(P,x);case"github.com":return new qo(P,x);case"google.com":return new Jm(P,x);case"twitter.com":return new ur(P,x,y.screenName||null);case"custom":case"anonymous":return new il(P,null);default:return new il(P,w,x)}}(_)}class po{constructor(f,_){this.type=f,this.credential=_}static _fromIdtoken(f){return new po("enroll",f)}static _fromMfaPendingCredential(f){return new po("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,w;if(null==f?void 0:f.multiFactorSession){if(null===(_=f.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return po._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return po._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Kl{constructor(f,_,w){this.session=f,this.hints=_,this.signInResolver=w}static _fromError(f,_){const w=B(f),x=_.customData._serverResponse,P=(x.mfaInfo||[]).map(fe=>jn._fromServerResponse(w,fe));W(x.mfaPendingCredential,w,"internal-error");const J=po._fromMfaPendingCredential(x.mfaPendingCredential);return new Kl(J,P,function(){var fe=(0,r.Z)(function*(ze){const lt=yield ze._process(w,J);delete x.mfaInfo,delete x.mfaPendingCredential;const Ot=Object.assign(Object.assign({},x),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(_.operationType){case"signIn":const Ct=yield lr._fromIdTokenResponse(w,_.operationType,Ot);return yield w._updateCurrentUser(Ct.user),Ct;case"reauthenticate":return W(_.user,w,"internal-error"),lr._forOperation(_.user,_.operationType,Ot);default:Oe(w,"internal-error")}});return function(ze){return fe.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,r.Z)(function*(){return _.signInResolver(f)})()}}function fb(y,f){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",Ht(y,f))}class Jp{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>jn._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Jp(f)}getSession(){var f=this;return(0,r.Z)(function*(){return po._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,_){var w=this;return(0,r.Z)(function*(){const x=f,P=yield w.getSession(),J=yield vn(w.user,x._process(w.user.auth,P,_));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(f){var _=this;return(0,r.Z)(function*(){var w;const x="string"==typeof f?f:f.uid,P=yield _.user.getIdToken(),J=yield vn(_.user,function au(y,f){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(y,f))}(_.user.auth,{idToken:P,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:fe})=>fe!==x),yield _.user._updateTokensIfNecessary(J);try{yield _.user.reload()}catch(fe){if("auth/user-token-expired"!==(null===(w=fe)||void 0===w?void 0:w.code))throw fe}})()}}const Xp=new WeakMap,Yl="__sak";class ef{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Yl,"1"),this.storage.removeItem(Yl),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ql=(()=>{class y extends ef{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gb(){const y=(0,F.z$)();return rt(y)||gn(y)}()&&function ai(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=vr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),P=this.localCache[w];x!==P&&_(w,P,x)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((fe,ze,lt)=>{this.notifyListeners(fe,lt)});const x=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(x);if(_.newValue!==fe)null!==_.newValue?this.storage.setItem(x,_.newValue):this.storage.removeItem(x);else if(this.localCache[x]===_.newValue&&!w)return}const P=()=>{const fe=this.storage.getItem(x);!w&&this.localCache[x]===fe||this.notifyListeners(x,fe)},J=this.storage.getItem(x);!function Wn(){return(0,F.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,w){this.localCache[_]=w;const x=this.listeners[_];if(x)for(const P of Array.from(x))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var x=()=>super._set,P=this;return(0,r.Z)(function*(){yield x().call(P,_,w),P.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,x=this;return(0,r.Z)(function*(){const P=yield w().call(x,_);return x.localCache[_]=JSON.stringify(P),P})()}_remove(_){var w=()=>super._remove,x=this;return(0,r.Z)(function*(){yield w().call(x,_),delete x.localCache[_]})()}}return y.type="LOCAL",y})(),fs=(()=>{class y extends ef{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return y.type="SESSION",y})();let nf=(()=>{class y{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(P=>P.isListeningto(_));if(w)return w;const x=new y(_);return this.receivers.push(x),x}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,r.Z)(function*(){const x=_,{eventId:P,eventType:J,data:fe}=x.data,ze=w.handlersMap[J];if(!(null==ze?void 0:ze.size))return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const lt=Array.from(ze).map(function(){var Ct=(0,r.Z)(function*(li){return li(x.origin,fe)});return function(li){return Ct.apply(this,arguments)}}()),Ot=yield function Yd(y){return Promise.all(y.map(function(){var f=(0,r.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return f.apply(this,arguments)}}()))}(lt);x.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:Ot})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function qi(y="",f=10){let _="";for(let w=0;w<f;w++)_+=Math.floor(10*Math.random());return y+_}class rl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,w=50){var x=this;return(0,r.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,fe;return new Promise((ze,lt)=>{const Ot=qi("",20);P.port1.start();const Ct=setTimeout(()=>{lt(new Error("unsupported_event"))},w);fe={messageChannel:P,onMessage(li){const ns=li;if(ns.data.eventId===Ot)switch(ns.data.status){case"ack":clearTimeout(Ct),J=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),ze(ns.data.response);break;default:clearTimeout(Ct),clearTimeout(J),lt(new Error("invalid_response"))}}},x.handlers.add(fe),P.port1.addEventListener("message",fe.onMessage),x.target.postMessage({eventType:f,eventId:Ot,data:_},[P.port2])}).finally(()=>{fe&&x.removeMessageHandler(fe)})})()}}function Kt(){return window}function sl(){return void 0!==Kt().WorkerGlobalScope&&"function"==typeof Kt().importScripts}function ol(){return(ol=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Jd="firebaseLocalStorageDb",Mi="firebaseLocalStorage",cu="fbase_key";class fo{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ca(y,f){return y.transaction([Mi],f?"readwrite":"readonly").objectStore(Mi)}function uu(){const y=indexedDB.open(Jd,1);return new Promise((f,_)=>{y.addEventListener("error",()=>{_(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Mi,{keyPath:cu})}catch(x){_(x)}}),y.addEventListener("success",(0,r.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Mi)?f(w):(w.close(),yield function e_(){const y=indexedDB.deleteDatabase(Jd);return new fo(y).toPromise()}(),f(yield uu()))}))})}function dr(y,f,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,r.Z)(function*(y,f,_){const w=Ca(y,!0).put({[cu]:f,value:_});return new fo(w).toPromise()})).apply(this,arguments)}function ki(){return(ki=(0,r.Z)(function*(y,f){const _=Ca(y,!1).get(f),w=yield new fo(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function go(y,f){const _=Ca(y,!0).delete(f);return new fo(_).toPromise()}const Go=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,r.Z)(function*(){return _.db||(_.db=yield uu()),_.db})()}_withRetries(_){var w=this;return(0,r.Z)(function*(){let x=0;for(;;)try{const P=yield w._openDb();return yield _(P)}catch(P){if(x++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,r.Z)(function*(){return sl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,r.Z)(function*(){_.receiver=nf._getInstance(function rf(){return sl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,r.Z)(function*(x,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(x,P){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,r.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,r.Z)(function*(){var w,x;if(_.activeServiceWorker=yield function mb(){return ol.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new rl(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,r.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Qd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const _=yield uu();return yield dr(_,Yl,"1"),yield go(_,Yl),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,r.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var x=this;return(0,r.Z)(function*(){return x._withPendingWrite((0,r.Z)(function*(){return yield x._withRetries(P=>dr(P,_,w)),x.localCache[_]=w,x.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,r.Z)(function*(){const x=yield w._withRetries(P=>function Xd(y,f){return ki.apply(this,arguments)}(P,_));return w.localCache[_]=x,x})()}_remove(_){var w=this;return(0,r.Z)(function*(){return w._withPendingWrite((0,r.Z)(function*(){return yield w._withRetries(x=>go(x,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,r.Z)(function*(){const w=yield _._withRetries(J=>{const fe=Ca(J,!1).getAll();return new fo(fe).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:J,value:fe}of w)P.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(fe)&&(_.notifyListeners(J,fe),x.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!P.has(J)&&(_.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(_,w){this.localCache[_]=w;const x=this.listeners[_];if(x)for(const P of Array.from(x))P(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function eh(y,f){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",Ht(y,f))}function al(){return(al=(0,r.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $o(y){return new Promise((f,_)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=x=>{const P=Ge("internal-error");P.customData=x,_(P)},w.type="text/javascript",w.charset="UTF-8",function hu(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function Gs(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ea=1e12;class xa{constructor(f){this.auth=f,this.counter=Ea,this._widgets=new Map}render(f,_){const w=this.counter;return this._widgets.set(w,new _b(f,this.auth.name,_||{})),this.counter++,w}reset(f){var _;const w=f||Ea;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(f){var _;return(null===(_=this._widgets.get(f||Ea))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,r.Z)(function*(){var w;return null===(w=_._widgets.get(f||Ea))||void 0===w||w.execute(),""})()}}class _b{constructor(f,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;W(x,"argument-error",{appName:_}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sf(y){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(_.charAt(Math.floor(Math.random()*_.length)));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zn=Gs("rcb"),ih=new An(3e4,6e4);class af{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=Kt().grecaptcha)||void 0===f?void 0:f.render)}load(f,_=""){return W(function i_(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(_),f,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Kt().grecaptcha):new Promise((w,x)=>{const P=Kt().setTimeout(()=>{x(Ge(f,"network-request-failed"))},ih.get());Kt()[Zn]=()=>{Kt().clearTimeout(P),delete Kt()[Zn];const fe=Kt().grecaptcha;if(!fe)return void x(Ge(f,"internal-error"));const ze=fe.render;fe.render=(lt,Ot)=>{const Ct=ze(lt,Ot);return this.counter++,Ct},this.hostLanguage=_,w(fe)},$o(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Zn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),x(Ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!!(null===(_=Kt().grecaptcha)||void 0===_?void 0:_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class r_{load(f){return(0,r.Z)(function*(){return new xa(f)})()}clearedOneInstance(){}}const lf="recaptcha",cf={theme:"light",type:"image"};class zo{constructor(f,_=Object.assign({},cf),w){this.parameters=_,this.type=lf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=B(w),this.isInvisible="invisible"===this.parameters.size,W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;W(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new r_:new af,this.validateStartingState()}verify(){var f=this;return(0,r.Z)(function*(){f.assertNotDestroyed();const _=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(_)||new Promise(P=>{const J=fe=>{!fe||(f.tokenChangeListeners.delete(J),P(fe))};f.tokenChangeListeners.add(J),f.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof f)f(_);else if("string"==typeof f){const w=Kt()[f];"function"==typeof w&&w(_)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,r.Z)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,r.Z)(function*(){W(Vt()&&!sl(),f.auth,"internal-error"),yield function s_(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function th(y){return al.apply(this,arguments)}(f.auth);W(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yn{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=Vo._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Cr(){return(Cr=(0,r.Z)(function*(y,f,_){const w=B(y),x=yield yi(w,f,(0,F.m9)(_));return new Yn(x,P=>Ho(w,P))})).apply(this,arguments)}function fu(){return(fu=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y);yield Dn(!1,w,"phone");const x=yield yi(w.auth,f,(0,F.m9)(_));return new Yn(x,P=>R(w,P))})).apply(this,arguments)}function ys(){return(ys=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y),x=yield yi(w.auth,f,(0,F.m9)(_));return new Yn(x,P=>Q(w,P))})).apply(this,arguments)}function yi(y,f,_){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(y,f,_){var w;const x=yield _.verify();try{let P;if(W("string"==typeof x,y,"argument-error"),W(_.type===lf,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const J=P.session;if("phoneNumber"in P)return W("enroll"===J.type,y,"internal-error"),(yield fb(y,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{W("signin"===J.type,y,"internal-error");const fe=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return W(fe,y,"missing-multi-factor-info"),(yield eh(y,{mfaPendingCredential:J.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield $c(y,{phoneNumber:P.phoneNumber,recaptchaToken:x});return J}}finally{_._reset()}})).apply(this,arguments)}function Sa(){return(Sa=(0,r.Z)(function*(y,f){yield Xa((0,F.m9)(y),f)})).apply(this,arguments)}let Jl=(()=>{class y{constructor(_){this.providerId=y.PROVIDER_ID,this.auth=B(_)}verifyPhoneNumber(_,w){return yi(this.auth,_,(0,F.m9)(w))}static credential(_,w){return Vo._fromVerification(_,w)}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:x}=_;return w&&x?Vo._fromTokenResponse(w,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function mo(y,f){return f?se(f):(W(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class uf extends Pn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Hs(f,this._buildIdpRequest())}_linkToIdToken(f,_){return Hs(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return Hs(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function GE(y){return ji(y.auth,new uf(y),y.bypassAuthState)}function o_(y){const{auth:f,user:_}=y;return W(_,f,"internal-error"),ql(_,new uf(y),y.bypassAuthState)}function es(y){return gu.apply(this,arguments)}function gu(){return(gu=(0,r.Z)(function*(y){const{auth:f,user:_}=y;return W(_,f,"internal-error"),Xa(_,new uf(y),y.bypassAuthState)})).apply(this,arguments)}class ll{constructor(f,_,w,x,P=!1){this.auth=f,this.resolver=w,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,r.Z)(function*(w,x){f.pendingPromise={resolve:w,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(w,x){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,r.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:P,tenantId:J,error:fe,type:ze}=f;if(fe)return void _.reject(fe);const lt={auth:_.auth,requestUri:w,sessionId:x,tenantId:J||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ze)(lt))}catch(Ot){_.reject(Ot)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return GE;case"linkViaPopup":case"linkViaRedirect":return es;case"reauthViaPopup":case"reauthViaRedirect":return o_;default:Oe(this.auth,"internal-error")}}resolve(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $E=new An(2e3,1e4);function mu(){return(mu=(0,r.Z)(function*(y,f,_){const w=B(y);it(y,f,Xi);const x=mo(w,_);return new Wo(w,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function rh(){return(rh=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y);it(w.auth,f,Xi);const x=mo(w.auth,_);return new Wo(w.auth,"reauthViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}function cl(){return(cl=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y);it(w.auth,f,Xi);const x=mo(w.auth,_);return new Wo(w.auth,"linkViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}let Wo=(()=>{class y extends ll{constructor(_,w,x,P,J){super(_,w,P,J),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var _=this;return(0,r.Z)(function*(){const w=yield _.execute();return W(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,r.Z)(function*(){ee(1===_.filter.length,"Popup operations only handle one event");const w=qi();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(x=>{_.reject(x)}),_.resolver._isIframeWebStorageSupported(_.auth,x=>{x||_.reject(Ge(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,$E.get())};_()}}return y.currentPopupAction=null,y})();const vs=new Map;class yb extends ll{constructor(f,_,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,r.Z)(function*(){let w=vs.get(_.auth._key());if(!w){try{const P=(yield function Aa(y,f){return Ko.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;w=()=>Promise.resolve(P)}catch(x){w=()=>Promise.reject(x)}vs.set(_.auth._key(),w)}return _.bypassAuthState||vs.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,w=this;return(0,r.Z)(function*(){if("signInViaRedirect"===f.type)return _().call(w,f);if("unknown"!==f.type){if(f.eventId){const x=yield w.auth._redirectUserForId(f.eventId);if(x)return w.user=x,_().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ko(){return(Ko=(0,r.Z)(function*(y,f){const _=pf(f),w=_u(y);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(_));return yield w._remove(_),x})).apply(this,arguments)}function dl(y,f){return sh.apply(this,arguments)}function sh(){return(sh=(0,r.Z)(function*(y,f){return _u(y)._set(pf(f),"true")})).apply(this,arguments)}function oh(y,f){vs.set(y._key(),f)}function _u(y){return se(y._redirectPersistence)}function pf(y){return ae("pendingRedirect",y.config.apiKey,y.name)}function vu(){return(vu=(0,r.Z)(function*(y,f,_){const w=B(y);it(y,f,Xi);const x=mo(w,_);return yield dl(x,w),x._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function wu(){return(wu=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y);it(w.auth,f,Xi);const x=mo(w.auth,_);yield dl(x,w.auth);const P=yield Yo(w);return x._openRedirect(w.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function Xl(){return(Xl=(0,r.Z)(function*(y,f,_){const w=(0,F.m9)(y);it(w.auth,f,Xi);const x=mo(w.auth,_);yield Dn(!1,w,f.providerId),yield dl(x,w.auth);const P=yield Yo(w);return x._openRedirect(w.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function ec(){return(ec=(0,r.Z)(function*(y,f){return yield B(y)._initializationPromise,bs(y,f,!1)})).apply(this,arguments)}function bs(y,f){return $s.apply(this,arguments)}function $s(){return($s=(0,r.Z)(function*(y,f,_=!1){const w=B(y),x=mo(w,f),J=yield new yb(w,x,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,f)),J})).apply(this,arguments)}function Yo(y){return ws.apply(this,arguments)}function ws(){return(ws=(0,r.Z)(function*(y){const f=qi(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class tc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(_=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ah(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oa(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var w;if(f.error&&!Oa(f)){const x=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Ge(this.auth,x))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const w=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nc(f))}saveEventToCache(f){this.cachedEventUids.add(nc(f)),this.lastProcessedEventTime=Date.now()}}function nc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Oa({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function ic(y){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,r.Z)(function*(y,f={}){return Rt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rc=/^https?/;function lh(){return(lh=(0,r.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield ic(y);for(const _ of f)try{if(ch(_))return}catch(w){}Oe(y,"unauthorized-domain")})).apply(this,arguments)}function ch(y){const f=wt(),{protocol:_,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const J=new URL(y);return""===J.hostname&&""===w?"chrome-extension:"===_&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===w}if(!rc.test(_))return!1;if(Qo.test(y))return w===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const uh=new An(3e4,6e4);function on(){const y=Kt().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let _=0;_<y.CP.length;_++)y.CP[_]=null}let Tu=null;function u_(y){return Tu=Tu||function Er(y){return new Promise((f,_)=>{var w,x,P;function J(){on(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{on(),_(Ge(y,"network-request-failed"))},timeout:uh.get()})}if(null===(x=null===(w=Kt().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)f(gapi.iframes.getContext());else{if(!(null===(P=Kt().gapi)||void 0===P?void 0:P.load)){const fe=Gs("iframefcb");return Kt()[fe]=()=>{gapi.load?J():_(Ge(y,"network-request-failed"))},$o(`https://apis.google.com/js/api.js?onload=${fe}`).catch(ze=>_(ze))}J()}}).catch(f=>{throw Tu=null,f})}(y),Tu}const Jo=new An(5e3,15e3),bb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zE(y){const f=y.config;W(f.authDomain,y,"auth-domain-config-required");const _=f.emulator?Cn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:le.SDK_VERSION},x=wb.get(y.config.apiHost);x&&(w.eid=x);const P=y._getFrameworks();return P.length&&(w.fw=P.join(",")),`${_}?${(0,F.xO)(w).slice(1)}`}function oc(){return oc=(0,r.Z)(function*(y){const f=yield u_(y),_=Kt().gapi;return W(_,y,"internal-error"),f.open({where:document.body,url:zE(y),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bb,dontclear:!0},w=>new Promise(function(){var x=(0,r.Z)(function*(P,J){yield w.restyle({setHideOnLeave:!1});const fe=Ge(y,"network-request-failed"),ze=Kt().setTimeout(()=>{J(fe)},Jo.get());function lt(){Kt().clearTimeout(ze),P(w)}w.ping(lt).then(lt,()=>{J(fe)})});return function(P,J){return x.apply(this,arguments)}}()))}),oc.apply(this,arguments)}const hh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _f{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ka(y,f,_,w,x,P){W(y.config.authDomain,y,"auth-domain-config-required"),W(y.config.apiKey,y,"invalid-api-key");const J={apiKey:y.config.apiKey,appName:y.name,authType:_,redirectUrl:w,v:le.SDK_VERSION,eventId:x};if(f instanceof Xi){f.setDefaultLanguage(y.languageCode),J.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ze,lt]of Object.entries(P||{}))J[ze]=lt}if(f instanceof Uo){const ze=f.getScopes().filter(lt=>""!==lt);ze.length>0&&(J.scopes=ze.join(","))}y.tenantId&&(J.tid=y.tenantId);const fe=J;for(const ze of Object.keys(fe))void 0===fe[ze]&&delete fe[ze];return`${function Eu({config:y}){return y.emulator?Cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(fe).slice(1)}`}const vf="webStorageSupport";class gh extends class Ib{constructor(f){this.factorId=f}_process(f,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,w);case"signin":return this._finalizeSignIn(f,_.credential);default:return H("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new gh(f)}_finalizeEnroll(f,_,w){return function wa(y,f){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(y,f))}(f,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function Ia(y,f){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",Ht(y,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bf=(()=>{class y{constructor(){}static assertion(_){return gh._fromCredential(_)}}return y.FACTOR_ID="phone",y})();var ts="@firebase/auth";class ac{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,r.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(w=>{var x;f((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);!_||(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ws(){return window}function Xo(){return(Xo=(0,r.Z)(function*(y,f,_){var w;const{BuildInfo:x}=Ws();ee(f.sessionId,"AuthEvent did not contain a session ID");const P=yield Tf(f.sessionId),J={};return gn()?J.ibi=x.packageName:jt()?J.apn=x.packageName:Oe(y,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=P,ka(y,_,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,J)})).apply(this,arguments)}function vo(){return(vo=(0,r.Z)(function*(y){const{BuildInfo:f}=Ws(),_={};gn()?_.iosBundleId=f.packageName:jt()?_.androidPackageName=f.packageName:Oe(y,"operation-not-supported-in-this-environment"),yield ic(y,_)})).apply(this,arguments)}function mh(){return(mh=(0,r.Z)(function*(y,f,_){const{cordova:w}=Ws();let x=()=>{};try{yield new Promise((P,J)=>{let fe=null;function ze(){var Ct;P();const li=null===(Ct=w.plugins.browsertab)||void 0===Ct?void 0:Ct.close;"function"==typeof li&&li(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function lt(){fe||(fe=window.setTimeout(()=>{J(Ge(y,"redirect-cancelled-by-user"))},2e3))}function Ot(){"visible"===(null==document?void 0:document.visibilityState)&&lt()}f.addPassiveListener(ze),document.addEventListener("resume",lt,!1),jt()&&document.addEventListener("visibilitychange",Ot,!1),x=()=>{f.removePassiveListener(ze),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",Ot,!1),fe&&window.clearTimeout(fe)}})}finally{x()}})).apply(this,arguments)}function Tf(y){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,r.Z)(function*(y){const f=hl(y),_=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(_)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function hl(y){if(ee(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),_=new Uint8Array(f);for(let w=0;w<y.length;w++)_[w]=y.charCodeAt(w);return _}!function Cf(y){(0,le._registerComponent)(new ce.wA("auth",(f,{options:_})=>{const w=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:P,authDomain:J}=w.options;return((fe,ze)=>{W(P&&!P.includes(":"),"invalid-api-key",{appName:fe.name}),W(!(null==J?void 0:J.includes(":")),"argument-error",{appName:fe.name});const lt={apiKey:P,authDomain:J,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fs(y)},Ot=new Xe(fe,ze,lt);return function oe(y,f){const _=(null==f?void 0:f.persistence)||[],w=(Array.isArray(_)?_:[_]).map(se);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Ot,_),Ot})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,w)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ce.wA("auth-internal",f=>{const _=B(f.getProvider("auth").getImmediate());return new ac(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(ts,"0.20.5",function p_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(ts,"0.20.5","esm2017")}("Browser");class xb extends tc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(f)),super.onEvent(f)}initialized(){var f=this;return(0,r.Z)(function*(){yield f.initPromise})()}}function Ef(y){return xu.apply(this,arguments)}function xu(){return(xu=(0,r.Z)(function*(y){const f=yield pl()._get(vh(y));return f&&(yield pl()._remove(vh(y))),f})).apply(this,arguments)}function yh(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function pl(){return se(Ql)}function vh(y){return ae("authEvent",y.config.apiKey,y.name)}function Gn(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,..._]=y.split("?");return(0,F.zd)(_.join("?"))}function bh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ge("no-auth-event")}}function Au(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Af(y=(0,F.z$)()){return!("file:"!==Au()&&"ionic:"!==Au()&&"capacitor:"!==Au()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Of(){try{const y=self.localStorage,f=qi();if(y)return y.setItem(f,"1"),y.removeItem(f),!function v_(y=(0,F.z$)()){return function hr(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Pf(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return Dt()&&(0,F.hl)()}return!1}function Dt(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nn(){return(function WE(){return"http:"===Au()||"https:"===Au()}()||(0,F.ru)()||Af())&&!function ea(){return(0,F.b$)()||(0,F.UG)()}()&&Of()&&!Dt()}function uc(){return Af()&&"undefined"!=typeof document}function wh(){return(wh=(0,r.Z)(function*(){return!!uc()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const xr={LOCAL:"local",NONE:"none",SESSION:"session"},ni=W,ta="persistence";function kf(y){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,r.Z)(function*(y){yield y._initializationPromise;const f=b_(),_=ae(ta,y.config.apiKey,y.name);f&&f.setItem(_,y._getPersistence())})).apply(this,arguments)}function b_(){var y;try{return(null===(y=function La(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const Sb=W;class Ys{constructor(){this.browserResolver=se(class h_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=bs,this._overrideRedirectResult=oh}_openPopup(f,_,w,x){var P=this;return(0,r.Z)(function*(){var J;ee(null===(J=P.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const fe=ka(f,_,w,wt(),x);return function yf(y,f,_,w=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let fe="";const ze=Object.assign(Object.assign({},hh),{width:w.toString(),height:x.toString(),top:P,left:J}),lt=(0,F.z$)().toLowerCase();_&&(fe=Pt(lt)?"_blank":_),$e(lt)&&(f=f||"http://localhost",ze.scrollbars="yes");const Ot=Object.entries(ze).reduce((li,[ns,fc])=>`${li}${ns}=${fc},`,"");if(function mi(y=(0,F.z$)()){var f;return gn(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(lt)&&"_self"!==fe)return function d_(y,f){const _=document.createElement("a");_.href=y,_.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(f||"",fe),new _f(null);const Ct=window.open(f||"",fe,Ot);W(Ct,y,"popup-blocked");try{Ct.focus()}catch(li){}return new _f(Ct)}(f,fe,qi())})()}_openRedirect(f,_,w,x){var P=this;return(0,r.Z)(function*(){return yield P._originValidation(f),function Nt(y){Kt().location.href=y}(ka(f,_,w,wt(),x)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:x,promise:P}=this.eventManagers[_];return x?Promise.resolve(x):(ee(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(f);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(f){var _=this;return(0,r.Z)(function*(){const w=yield function dh(y){return oc.apply(this,arguments)}(f),x=new tc(f);return w.register("authEvent",P=>(W(null==P?void 0:P.authEvent,f,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:x},_.iframes[f._key()]=w,x})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(vf,{type:vf},x=>{var P;const J=null===(P=null==x?void 0:x[0])||void 0===P?void 0:P[vf];void 0!==J&&_(!!J),Oe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function gf(y){return lh.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return vr()||rt()||gn()}}),this.cordovaResolver=se(class __{constructor(){this._redirectPersistence=fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bs,this._overrideRedirectResult=oh}_initialize(f){var _=this;return(0,r.Z)(function*(){const w=f._key();let x=_.eventManagers.get(w);return x||(x=new xb(f),_.eventManagers.set(w,x),_.attachCallbackListeners(f,x)),x})()}_openPopup(f){Oe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,_,w,x){var P=this;return(0,r.Z)(function*(){!function Eb(y){var f,_,w,x,P,J,fe,ze,lt,Ot;const Ct=Ws();W("function"==typeof(null===(f=null==Ct?void 0:Ct.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(void 0!==(null===(_=null==Ct?void 0:Ct.BuildInfo)||void 0===_?void 0:_.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W("function"==typeof(null===(P=null===(x=null===(w=null==Ct?void 0:Ct.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(ze=null===(fe=null===(J=null==Ct?void 0:Ct.cordova)||void 0===J?void 0:J.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===ze?void 0:ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(Ot=null===(lt=null==Ct?void 0:Ct.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===Ot?void 0:Ot.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield P._initialize(f);yield J.initialized(),J.resetRedirect(),function hf(){vs.clear()}(),yield P._originValidation(f);const fe=function _h(y,f,_=null){return{type:f,eventId:_,urlResponse:null,sessionId:yh(),postBody:null,tenantId:y.tenantId,error:Ge(y,"no-auth-event")}}(f,w,x);yield function Na(y,f){return pl()._set(vh(y),f)}(f,fe);const ze=yield function Ks(y,f,_){return Xo.apply(this,arguments)}(f,fe,_),lt=yield function lc(y){const{cordova:f}=Ws();return new Promise(_=>{f.plugins.browsertab.isAvailable(w=>{let x=null;w?f.plugins.browsertab.openUrl(y):x=f.InAppBrowser.open(y,function Ji(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),_(x)})})}(ze);return function Tb(y,f,_){return mh.apply(this,arguments)}(f,J,lt)})()}_isIframeWebStorageSupported(f,_){throw new Error("Method not implemented.")}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function If(y){return vo.apply(this,arguments)}(f)),this.originValidationPromises[_]}attachCallbackListeners(f,_){const{universalLinks:w,handleOpenURL:x,BuildInfo:P}=Ws(),J=setTimeout((0,r.Z)(function*(){yield Ef(f),_.onEvent(bh())}),500),fe=function(){var Ot=(0,r.Z)(function*(Ct){clearTimeout(J);const li=yield Ef(f);let ns=null;li&&(null==Ct?void 0:Ct.url)&&(ns=function m_(y,f){var _,w;const x=function xf(y){const f=Gn(y),_=f.link?decodeURIComponent(f.link):void 0,w=Gn(_).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Gn(x).link||x||w||_||y}(f);if(x.includes("/__/auth/callback")){const P=Gn(x),J=P.firebaseError?function cc(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(P.firebaseError)):null,fe=null===(w=null===(_=null==J?void 0:J.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],ze=fe?Ge(fe):null;return ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(li,Ct.url)),_.onEvent(ns||bh())});return function(li){return Ot.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,fe);const ze=x,lt=`${P.packageName.toLowerCase()}://`;Ws().handleOpenURL=function(){var Ot=(0,r.Z)(function*(Ct){if(Ct.toLowerCase().startsWith(lt)&&fe({url:Ct}),"function"==typeof ze)try{ze(Ct)}catch(li){console.error(li)}});return function(Ct){return Ot.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=fs,this._completeRedirectFn=bs,this._overrideRedirectResult=oh}_initialize(f){var _=this;return(0,r.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,_,w,x){var P=this;return(0,r.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,_,w,x)})()}_openRedirect(f,_,w,x){var P=this;return(0,r.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,_,w,x)})()}_isIframeWebStorageSupported(f,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,_)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return uc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sb(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,r.Z)(function*(){if(f.underlyingResolver)return;const _=yield function Mf(){return wh.apply(this,arguments)}();f.underlyingResolver=_?f.cordovaResolver:f.browserResolver})()}}function w_(y){return y.unwrap()}function dc(y){return Qs(y)}function Qs(y){const{_tokenResponse:f}=y instanceof F.ZR?y.customData:y;if(!f)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Jl.credentialFromResult(y);const _=f.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=Qa;break;case"facebook.com":w=ya;break;case"github.com":w=Jc;break;case"twitter.com":w=Ja;break;default:const{oauthIdToken:x,oauthAccessToken:P,oauthTokenSecret:J,pendingToken:fe,nonce:ze}=f;return P||J||x||fe?fe?_.startsWith("saml.")?Jr._create(_,fe):Qr._fromParams({providerId:_,signInMethod:_,pendingToken:fe,idToken:x,accessToken:P}):new Vr(_).credential({idToken:x,accessToken:P,rawNonce:ze}):null}return y instanceof F.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function mn(y,f){return f.catch(_=>{throw _ instanceof F.ZR&&function Nf(y,f){var _,w;const x=null===(_=f.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new C_(y,function Xm(y,f){var _;const w=(0,F.m9)(y),x=f;return W(f.customData.operationType,w,"argument-error"),W(null===(_=x.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Kl._fromError(w,x)}(y,f));else if(x){const P=Qs(f),J=f;P&&(J.credential=P,J.tenantId=x.tenantId||void 0,J.email=x.email||void 0,J.phoneNumber=x.phoneNumber||void 0)}}(y,_),_}).then(_=>{const x=_.user;return{operationType:_.operationType,credential:dc(_),additionalUserInfo:qs(_),user:na.getOrCreate(x)}})}function Lf(y,f){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,r.Z)(function*(y,f){const _=yield f;return{verificationId:_.verificationId,confirm:w=>mn(y,_.confirm(w))}})).apply(this,arguments)}class C_{constructor(f,_){this.resolver=_,this.auth=function Ab(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return mn(w_(this.auth),this.resolver.resolveSignIn(f))}}class na{constructor(f){this._delegate=f,this.multiFactor=function lu(y){const f=(0,F.m9)(y);return Xp.has(f)||Xp.set(f,Jp._fromUser(f)),Xp.get(f)}(f)}static getOrCreate(f){return na.USER_MAP.has(f)||na.USER_MAP.set(f,new na(f)),na.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var _=this;return(0,r.Z)(function*(){return mn(_.auth,R(_._delegate,f))})()}linkWithPhoneNumber(f,_){var w=this;return(0,r.Z)(function*(){return Lf(w.auth,function Ir(y,f,_){return fu.apply(this,arguments)}(w._delegate,f,_))})()}linkWithPopup(f){var _=this;return(0,r.Z)(function*(){return mn(_.auth,function l_(y,f,_){return cl.apply(this,arguments)}(_._delegate,f,Ys))})()}linkWithRedirect(f){var _=this;return(0,r.Z)(function*(){return yield kf(B(_.auth)),function Cu(y,f,_){return function Pa(y,f,_){return Xl.apply(this,arguments)}(y,f,_)}(_._delegate,f,Ys)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var _=this;return(0,r.Z)(function*(){return mn(_.auth,Q(_._delegate,f))})()}reauthenticateWithPhoneNumber(f,_){return Lf(this.auth,function _s(y,f,_){return ys.apply(this,arguments)}(this._delegate,f,_))}reauthenticateWithPopup(f){return mn(this.auth,function a_(y,f,_){return rh.apply(this,arguments)}(this._delegate,f,Ys))}reauthenticateWithRedirect(f){var _=this;return(0,r.Z)(function*(){return yield kf(B(_.auth)),function Gi(y,f,_){return function bu(y,f,_){return wu.apply(this,arguments)}(y,f,_)}(_._delegate,f,Ys)})()}sendEmailVerification(f){return function Km(y,f){return su.apply(this,arguments)}(this._delegate,f)}unlink(f){var _=this;return(0,r.Z)(function*(){return yield function zp(y,f){return Fn.apply(this,arguments)}(_._delegate,f),_})()}updateEmail(f){return function db(y,f){return nl((0,F.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Wp(y,f){return nl((0,F.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Da(y,f){return Sa.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Qm(y,f){return $l.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,_){return function Ym(y,f,_){return zd.apply(this,arguments)}(this._delegate,f,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}na.USER_MAP=new WeakMap;const hc=W;let I_=(()=>{class y{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=_.options;hc(x,"invalid-api-key",{appName:_.name}),hc(x,"invalid-api-key",{appName:_.name});const P="undefined"!=typeof window?Ys:void 0;this._delegate=w.initialize({options:{persistence:Pb(x,_.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?na.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function Re(y,f,_){const w=B(y);W(w._canInitEmulator,w,"emulator-config-failed"),W(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const x=!!(null==_?void 0:_.disableWarnings),P=ht(f),{host:J,port:fe}=function Wt(y){const f=ht(y),_=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const P=x[1];return{host:P,port:tn(w.substr(P.length+1))}}{const[P,J]=w.split(":");return{host:P,port:tn(J)}}}(f);w.config.emulator={url:`${P}//${J}${null===fe?"":`:${fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:fe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function nn(){function y(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,_,w)}applyActionCode(_){return function Ae(y,f){return Zt.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return eu(this._delegate,_)}confirmPasswordReset(_,w){return function el(y,f,_){return jo.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var x=this;return(0,r.Z)(function*(){return mn(x._delegate,function Pi(y,f,_){return Zo.apply(this,arguments)}(x._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function tl(y,f){return ps.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function nu(y,f){const _=Ya.parseLink(f);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,r.Z)(function*(){hc(Nn(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function vb(y,f){return ec.apply(this,arguments)}(_._delegate,Ys);return w?mn(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Su(y,f){B(y)._logFramework(f)}(this._delegate,_)}onAuthStateChanged(_,w,x){const{next:P,error:J,complete:fe}=T_(_,w,x);return this._delegate.onAuthStateChanged(P,J,fe)}onIdTokenChanged(_,w,x){const{next:P,error:J,complete:fe}=T_(_,w,x);return this._delegate.onIdTokenChanged(P,J,fe)}sendSignInLinkToEmail(_,w){return function ub(y,f,_){return tu.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function Ut(y,f,_){return Br.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,r.Z)(function*(){let x;switch(function Pu(y,f){ni(Object.values(xr).includes(f),y,"invalid-persistence-type"),(0,F.b$)()?ni(f!==xr.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?ni(f===xr.NONE,y,"unsupported-persistence-type"):Dt()?ni(f===xr.NONE||f===xr.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):ni(f===xr.NONE||Of(),y,"unsupported-persistence-type")}(w._delegate,_),_){case xr.SESSION:x=fs;break;case xr.LOCAL:x=(yield se(Go)._isAvailable())?Go:Ql;break;case xr.NONE:x=rn;break;default:return Oe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return mn(this._delegate,function Wm(y){return jl.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return mn(this._delegate,Ho(this._delegate,_))}signInWithCustomToken(_){return mn(this._delegate,function yt(y,f){return Ke.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return mn(this._delegate,function $d(y,f,_){return Ho((0,F.m9)(y),Bl.credential(f,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return mn(this._delegate,function iu(y,f,_){return Oi.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return Lf(this._delegate,function pu(y,f,_){return Cr.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,r.Z)(function*(){return hc(Nn(),w._delegate,"operation-not-supported-in-this-environment"),mn(w._delegate,function df(y,f,_){return mu.apply(this,arguments)}(w._delegate,_,Ys))})()}signInWithRedirect(_){var w=this;return(0,r.Z)(function*(){return hc(Nn(),w._delegate,"operation-not-supported-in-this-environment"),yield kf(w._delegate),function yu(y,f,_){return function ff(y,f,_){return vu.apply(this,arguments)}(y,f,_)}(w._delegate,_,Ys)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Zs(y,f){return cr.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=xr,y})();function T_(y,f,_){let w=y;"function"!=typeof y&&({next:w,error:f,complete:_}=y);const x=w;return{next:J=>x(J&&na.getOrCreate(J)),error:f,complete:_}}function Pb(y,f){const _=function Ou(y,f){const _=b_();if(!_)return[];const w=ae(ta,y,f);switch(_.getItem(w)){case xr.NONE:return[rn];case xr.LOCAL:return[Go,fs];case xr.SESSION:return[fs];default:return[]}}(y,f);if("undefined"!=typeof self&&!_.includes(Go)&&_.push(Go),"undefined"!=typeof window)for(const w of[Ql,fs])_.includes(w)||_.push(w);return _.includes(rn)||_.push(rn),_}class Vf{constructor(){this.providerId="phone",this._delegate=new Jl(w_(te.Z.auth()))}static credential(f,_){return Jl.credential(f,_)}verifyPhoneNumber(f,_){return this._delegate.verifyPhoneNumber(f,_)}unwrap(){return this._delegate}}Vf.PHONE_SIGN_IN_METHOD=Jl.PHONE_SIGN_IN_METHOD,Vf.PROVIDER_ID=Jl.PROVIDER_ID;const Ob=W;class Mb{constructor(f,_,w=te.Z.app()){var x;Ob(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new zo(f,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bo(y){y.INTERNAL.registerComponent(new ce.wA("auth-compat",f=>{const _=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new I_(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bl,FacebookAuthProvider:ya,GithubAuthProvider:Jc,GoogleAuthProvider:Qa,OAuthProvider:Vr,SAMLAuthProvider:js,PhoneAuthProvider:Vf,PhoneMultiFactorGenerator:bf,RecaptchaVerifier:Mb,TwitterAuthProvider:Ja,Auth:I_,AuthCredential:Pn,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(te.Z)},8306:(ot,Ce,k)=>{k.d(Ce,{y:()=>G});var r=k(930),te=k(727),F=k(8822),le=k(4671);var ce=k(2416),_e=k(576),me=k(2806);let G=(()=>{class Ee{constructor(He){He&&(this._subscribe=He)}lift(He){const ye=new Ee;return ye.source=this,ye.operator=He,ye}subscribe(He,ye,ve){const Ve=function Fe(Ee){return Ee&&Ee instanceof r.Lv||function re(Ee){return Ee&&(0,_e.m)(Ee.next)&&(0,_e.m)(Ee.error)&&(0,_e.m)(Ee.complete)}(Ee)&&(0,te.Nn)(Ee)}(He)?He:new r.Hp(He,ye,ve);return(0,me.x)(()=>{const{operator:je,source:Oe}=this;Ve.add(je?je.call(Ve,Oe):Oe?this._subscribe(Ve):this._trySubscribe(Ve))}),Ve}_trySubscribe(He){try{return this._subscribe(He)}catch(ye){He.error(ye)}}forEach(He,ye){return new(ye=Y(ye))((ve,Ve)=>{const je=new r.Hp({next:Oe=>{try{He(Oe)}catch(Ge){Ve(Ge),je.unsubscribe()}},error:Ve,complete:ve});this.subscribe(je)})}_subscribe(He){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(He)}[F.L](){return this}pipe(...He){return function Te(Ee){return 0===Ee.length?le.y:1===Ee.length?Ee[0]:function(He){return Ee.reduce((ye,ve)=>ve(ye),He)}}(He)(this)}toPromise(He){return new(He=Y(He))((ye,ve)=>{let Ve;this.subscribe(je=>Ve=je,je=>ve(je),()=>ye(Ve))})}}return Ee.create=Ne=>new Ee(Ne),Ee})();function Y(Ee){var Ne;return null!==(Ne=null!=Ee?Ee:ce.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(ot,Ce,k)=>{k.d(Ce,{x:()=>ce});var r=k(8306),te=k(727);const le=(0,k(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=k(8737),Te=k(2806);let ce=(()=>{class me extends r.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const re=new _e(this,this);return re.operator=Y,re}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const re=this.observers.slice();for(const Fe of re)Fe.next(Y)}})}error(Y){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:re}=this;for(;re.length;)re.shift().error(Y)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:re,isStopped:Fe,observers:Ee}=this;return re||Fe?te.Lc:(Ee.push(Y),new te.w0(()=>(0,we.P)(Ee,Y)))}_checkFinalizedStatuses(Y){const{hasError:re,thrownError:Fe,isStopped:Ee}=this;re?Y.error(Fe):Ee&&Y.complete()}asObservable(){const Y=new r.y;return Y.source=this,Y}}return me.create=(G,Y)=>new _e(G,Y),me})();class _e extends ce{constructor(G,Y){super(),this.destination=G,this.source=Y}next(G){var Y,re;null===(re=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===re||re.call(Y,G)}error(G){var Y,re;null===(re=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===re||re.call(Y,G)}complete(){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===Y||Y.call(G)}_subscribe(G){var Y,re;return null!==(re=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(G))&&void 0!==re?re:te.Lc}}},930:(ot,Ce,k)=>{k.d(Ce,{Hp:()=>Fe,Lv:()=>re});var r=k(576),te=k(727),F=k(2416),le=k(7849),we=k(5032);const Te=me("C",void 0,void 0);function me(ve,Ve,je){return{kind:ve,value:Ve,error:je}}var G=k(3410),Y=k(2806);class re extends te.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,te.Nn)(Ve)&&Ve.add(this)):this.destination=ye}static create(Ve,je,Oe){return new Fe(Ve,je,Oe)}next(Ve){this.isStopped?He(function _e(ve){return me("N",ve,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?He(function ce(ve){return me("E",void 0,ve)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?He(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Fe extends re{constructor(Ve,je,Oe){let Ge;if(super(),(0,r.m)(Ve))Ge=Ve;else if(Ve){let Se;({next:Ge,error:je,complete:Oe}=Ve),this&&F.v.useDeprecatedNextContext?(Se=Object.create(Ve),Se.unsubscribe=()=>this.unsubscribe()):Se=Ve,Ge=null==Ge?void 0:Ge.bind(Se),je=null==je?void 0:je.bind(Se),Oe=null==Oe?void 0:Oe.bind(Se)}this.destination={next:Ge?Ee(Ge):we.Z,error:Ee(null!=je?je:Ne),complete:Oe?Ee(Oe):we.Z}}}function Ee(ve,Ve){return(...je)=>{try{ve(...je)}catch(Oe){F.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Oe):(0,le.h)(Oe)}}}function Ne(ve){throw ve}function He(ve,Ve){const{onStoppedNotification:je}=F.v;je&&G.z.setTimeout(()=>je(ve,Ve))}const ye={closed:!0,next:we.Z,error:Ne,complete:we.Z}},727:(ot,Ce,k)=>{k.d(Ce,{Lc:()=>Te,w0:()=>we,Nn:()=>ce});var r=k(576);const F=(0,k(3888).d)(me=>function(Y){me(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((re,Fe)=>`${Fe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=k(8737);class we{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ee of Y)Ee.remove(this);else Y.remove(this);const{initialTeardown:re}=this;if((0,r.m)(re))try{re()}catch(Ee){G=Ee instanceof F?Ee.errors:[Ee]}const{_teardowns:Fe}=this;if(Fe){this._teardowns=null;for(const Ee of Fe)try{_e(Ee)}catch(Ne){G=null!=G?G:[],Ne instanceof F?G=[...G,...Ne.errors]:G.push(Ne)}}if(G)throw new F(G)}}add(G){var Y;if(G&&G!==this)if(this.closed)_e(G);else{if(G instanceof we){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==(Y=this._teardowns)&&void 0!==Y?Y:[]).push(G)}}_hasParent(G){const{_parentage:Y}=this;return Y===G||Array.isArray(Y)&&Y.includes(G)}_addParent(G){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(G),Y):Y?[Y,G]:G}_removeParent(G){const{_parentage:Y}=this;Y===G?this._parentage=null:Array.isArray(Y)&&(0,le.P)(Y,G)}remove(G){const{_teardowns:Y}=this;Y&&(0,le.P)(Y,G),G instanceof we&&G._removeParent(this)}}we.EMPTY=(()=>{const me=new we;return me.closed=!0,me})();const Te=we.EMPTY;function ce(me){return me instanceof we||me&&"closed"in me&&(0,r.m)(me.remove)&&(0,r.m)(me.add)&&(0,r.m)(me.unsubscribe)}function _e(me){(0,r.m)(me)?me():me.unsubscribe()}},2416:(ot,Ce,k)=>{k.d(Ce,{v:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ot,Ce,k)=>{k.d(Ce,{E:()=>te});const te=new(k(8306).y)(we=>we.complete())},8996:(ot,Ce,k)=>{k.d(Ce,{D:()=>Ge});var r=k(8421),te=k(5363),F=k(9468),Te=k(8306),_e=k(2202),me=k(576),G=k(9672);function re(Se,it){if(!Se)throw new Error("Iterable cannot be null");return new Te.y(Ze=>{(0,G.f)(Ze,it,()=>{const W=Se[Symbol.asyncIterator]();(0,G.f)(Ze,it,()=>{W.next().then(H=>{H.done?Ze.complete():Ze.next(H.value)})},0,!0)})})}var Fe=k(3670),Ee=k(8239),Ne=k(1144),He=k(6495),ye=k(2206),ve=k(4532),Ve=k(3260);function Ge(Se,it){return it?function Oe(Se,it){if(null!=Se){if((0,Fe.c)(Se))return function le(Se,it){return(0,r.Xf)(Se).pipe((0,F.R)(it),(0,te.Q)(it))}(Se,it);if((0,Ne.z)(Se))return function ce(Se,it){return new Te.y(Ze=>{let W=0;return it.schedule(function(){W===Se.length?Ze.complete():(Ze.next(Se[W++]),Ze.closed||this.schedule())})})}(Se,it);if((0,Ee.t)(Se))return function we(Se,it){return(0,r.Xf)(Se).pipe((0,F.R)(it),(0,te.Q)(it))}(Se,it);if((0,ye.D)(Se))return re(Se,it);if((0,He.T)(Se))return function Y(Se,it){return new Te.y(Ze=>{let W;return(0,G.f)(Ze,it,()=>{W=Se[_e.h](),(0,G.f)(Ze,it,()=>{let H,ee;try{({value:H,done:ee}=W.next())}catch(de){return void Ze.error(de)}ee?Ze.complete():Ze.next(H)},0,!0)}),()=>(0,me.m)(null==W?void 0:W.return)&&W.return()})}(Se,it);if((0,Ve.L)(Se))return function je(Se,it){return re((0,Ve.Q)(Se),it)}(Se,it)}throw(0,ve.z)(Se)}(Se,it):(0,r.Xf)(Se)}},8421:(ot,Ce,k)=>{k.d(Ce,{Xf:()=>Fe});var r=k(655),te=k(1144),F=k(8239),le=k(8306),we=k(3670),Te=k(2206),ce=k(4532),_e=k(6495),me=k(3260),G=k(576),Y=k(7849),re=k(8822);function Fe(Oe){if(Oe instanceof le.y)return Oe;if(null!=Oe){if((0,we.c)(Oe))return function Ee(Oe){return new le.y(Ge=>{const Se=Oe[re.L]();if((0,G.m)(Se.subscribe))return Se.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,te.z)(Oe))return function Ne(Oe){return new le.y(Ge=>{for(let Se=0;Se<Oe.length&&!Ge.closed;Se++)Ge.next(Oe[Se]);Ge.complete()})}(Oe);if((0,F.t)(Oe))return function He(Oe){return new le.y(Ge=>{Oe.then(Se=>{Ge.closed||(Ge.next(Se),Ge.complete())},Se=>Ge.error(Se)).then(null,Y.h)})}(Oe);if((0,Te.D)(Oe))return ve(Oe);if((0,_e.T)(Oe))return function ye(Oe){return new le.y(Ge=>{for(const Se of Oe)if(Ge.next(Se),Ge.closed)return;Ge.complete()})}(Oe);if((0,me.L)(Oe))return function Ve(Oe){return ve((0,me.Q)(Oe))}(Oe)}throw(0,ce.z)(Oe)}function ve(Oe){return new le.y(Ge=>{(function je(Oe,Ge){var Se,it,Ze,W;return(0,r.mG)(this,void 0,void 0,function*(){try{for(Se=(0,r.KL)(Oe);!(it=yield Se.next()).done;)if(Ge.next(it.value),Ge.closed)return}catch(H){Ze={error:H}}finally{try{it&&!it.done&&(W=Se.return)&&(yield W.call(Se))}finally{if(Ze)throw Ze.error}}Ge.complete()})})(Oe,Ge).catch(Se=>Ge.error(Se))})}},6451:(ot,Ce,k)=>{k.d(Ce,{T:()=>Te});var r=k(8189),te=k(8421),F=k(515),le=k(3269),we=k(8996);function Te(...ce){const _e=(0,le.yG)(ce),me=(0,le._6)(ce,1/0),G=ce;return G.length?1===G.length?(0,te.Xf)(G[0]):(0,r.J)(me)((0,we.D)(G,_e)):F.E}},5403:(ot,Ce,k)=>{k.d(Ce,{Q:()=>te});var r=k(930);class te extends r.Lv{constructor(le,we,Te,ce,_e){super(le),this.onFinalize=_e,this._next=we?function(me){try{we(me)}catch(G){le.error(G)}}:super._next,this._error=ce?function(me){try{ce(me)}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(me){le.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:we}=this;super.unsubscribe(),!we&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(ot,Ce,k)=>{k.d(Ce,{U:()=>F});var r=k(4482),te=k(5403);function F(le,we){return(0,r.e)((Te,ce)=>{let _e=0;Te.subscribe(new te.Q(ce,me=>{ce.next(le.call(we,me,_e++))}))})}},8189:(ot,Ce,k)=>{k.d(Ce,{J:()=>F});var r=k(5577),te=k(4671);function F(le=1/0){return(0,r.z)(te.y,le)}},5577:(ot,Ce,k)=>{k.d(Ce,{z:()=>_e});var r=k(4004),te=k(8421),F=k(4482),le=k(9672),we=k(5403),ce=k(576);function _e(me,G,Y=1/0){return(0,ce.m)(G)?_e((re,Fe)=>(0,r.U)((Ee,Ne)=>G(re,Ee,Fe,Ne))((0,te.Xf)(me(re,Fe))),Y):("number"==typeof G&&(Y=G),(0,F.e)((re,Fe)=>function Te(me,G,Y,re,Fe,Ee,Ne,He){const ye=[];let ve=0,Ve=0,je=!1;const Oe=()=>{je&&!ye.length&&!ve&&G.complete()},Ge=it=>ve<re?Se(it):ye.push(it),Se=it=>{Ee&&G.next(it),ve++;let Ze=!1;(0,te.Xf)(Y(it,Ve++)).subscribe(new we.Q(G,W=>{null==Fe||Fe(W),Ee?Ge(W):G.next(W)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(ve--;ye.length&&ve<re;){const W=ye.shift();Ne?(0,le.f)(G,Ne,()=>Se(W)):Se(W)}Oe()}catch(W){G.error(W)}}))};return me.subscribe(new we.Q(G,Ge,()=>{je=!0,Oe()})),()=>{null==He||He()}}(re,Fe,me,Y)))}},5363:(ot,Ce,k)=>{k.d(Ce,{Q:()=>le});var r=k(9672),te=k(4482),F=k(5403);function le(we,Te=0){return(0,te.e)((ce,_e)=>{ce.subscribe(new F.Q(_e,me=>(0,r.f)(_e,we,()=>_e.next(me),Te),()=>(0,r.f)(_e,we,()=>_e.complete(),Te),me=>(0,r.f)(_e,we,()=>_e.error(me),Te)))})}},3099:(ot,Ce,k)=>{k.d(Ce,{B:()=>Te});var r=k(8996),te=k(5698),F=k(7579),le=k(930),we=k(4482);function Te(_e={}){const{connector:me=(()=>new F.x),resetOnError:G=!0,resetOnComplete:Y=!0,resetOnRefCountZero:re=!0}=_e;return Fe=>{let Ee=null,Ne=null,He=null,ye=0,ve=!1,Ve=!1;const je=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Oe=()=>{je(),Ee=He=null,ve=Ve=!1},Ge=()=>{const Se=Ee;Oe(),null==Se||Se.unsubscribe()};return(0,we.e)((Se,it)=>{ye++,!Ve&&!ve&&je();const Ze=He=null!=He?He:me();it.add(()=>{ye--,0===ye&&!Ve&&!ve&&(Ne=ce(Ge,re))}),Ze.subscribe(it),Ee||(Ee=new le.Hp({next:W=>Ze.next(W),error:W=>{Ve=!0,je(),Ne=ce(Oe,G,W),Ze.error(W)},complete:()=>{ve=!0,je(),Ne=ce(Oe,Y),Ze.complete()}}),(0,r.D)(Se).subscribe(Ee))})(Fe)}}function ce(_e,me,...G){return!0===me?(_e(),null):!1===me?null:me(...G).pipe((0,te.q)(1)).subscribe(()=>_e())}},9468:(ot,Ce,k)=>{k.d(Ce,{R:()=>te});var r=k(4482);function te(F,le=0){return(0,r.e)((we,Te)=>{Te.add(F.schedule(()=>we.subscribe(Te),le))})}},5698:(ot,Ce,k)=>{k.d(Ce,{q:()=>le});var r=k(515),te=k(4482),F=k(5403);function le(we){return we<=0?()=>r.E:(0,te.e)((Te,ce)=>{let _e=0;Te.subscribe(new F.Q(ce,me=>{++_e<=we&&(ce.next(me),we<=_e&&ce.complete())}))})}},8505:(ot,Ce,k)=>{k.d(Ce,{b:()=>we});var r=k(576),te=k(4482),F=k(5403),le=k(4671);function we(Te,ce,_e){const me=(0,r.m)(Te)||ce||_e?{next:Te,error:ce,complete:_e}:Te;return me?(0,te.e)((G,Y)=>{var re;null===(re=me.subscribe)||void 0===re||re.call(me);let Fe=!0;G.subscribe(new F.Q(Y,Ee=>{var Ne;null===(Ne=me.next)||void 0===Ne||Ne.call(me,Ee),Y.next(Ee)},()=>{var Ee;Fe=!1,null===(Ee=me.complete)||void 0===Ee||Ee.call(me),Y.complete()},Ee=>{var Ne;Fe=!1,null===(Ne=me.error)||void 0===Ne||Ne.call(me,Ee),Y.error(Ee)},()=>{var Ee,Ne;Fe&&(null===(Ee=me.unsubscribe)||void 0===Ee||Ee.call(me)),null===(Ne=me.finalize)||void 0===Ne||Ne.call(me)}))}):le.y}},4408:(ot,Ce,k)=>{k.d(Ce,{o:()=>we});var r=k(727);class te extends r.w0{constructor(ce,_e){super()}schedule(ce,_e=0){return this}}const F={setInterval(...Te){const{delegate:ce}=F;return((null==ce?void 0:ce.setInterval)||setInterval)(...Te)},clearInterval(Te){const{delegate:ce}=F;return((null==ce?void 0:ce.clearInterval)||clearInterval)(Te)},delegate:void 0};var le=k(8737);class we extends te{constructor(ce,_e){super(ce,_e),this.scheduler=ce,this.work=_e,this.pending=!1}schedule(ce,_e=0){if(this.closed)return this;this.state=ce;const me=this.id,G=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(G,me,_e)),this.pending=!0,this.delay=_e,this.id=this.id||this.requestAsyncId(G,this.id,_e),this}requestAsyncId(ce,_e,me=0){return F.setInterval(ce.flush.bind(ce,this),me)}recycleAsyncId(ce,_e,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return _e;F.clearInterval(_e)}execute(ce,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ce,_e);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,_e){let G,me=!1;try{this.work(ce)}catch(Y){me=!0,G=Y||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ce,scheduler:_e}=this,{actions:me}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(me,this),null!=ce&&(this.id=this.recycleAsyncId(_e,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(ot,Ce,k)=>{k.d(Ce,{v:()=>F});var r=k(6063);class te{constructor(we,Te=te.now){this.schedulerActionCtor=we,this.now=Te}schedule(we,Te=0,ce){return new this.schedulerActionCtor(this,we).schedule(ce,Te)}}te.now=r.l.now;class F extends te{constructor(we,Te=te.now){super(we,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(we){const{actions:Te}=this;if(this._active)return void Te.push(we);let ce;this._active=!0;do{if(ce=we.execute(we.state,we.delay))break}while(we=Te.shift());if(this._active=!1,ce){for(;we=Te.shift();)we.unsubscribe();throw ce}}}},4986:(ot,Ce,k)=>{k.d(Ce,{P:()=>le,z:()=>F});var r=k(4408);const F=new(k(7565).v)(r.o),le=F},6063:(ot,Ce,k)=>{k.d(Ce,{l:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},3410:(ot,Ce,k)=>{k.d(Ce,{z:()=>r});const r={setTimeout(...te){const{delegate:F}=r;return((null==F?void 0:F.setTimeout)||setTimeout)(...te)},clearTimeout(te){const{delegate:F}=r;return((null==F?void 0:F.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(ot,Ce,k)=>{k.d(Ce,{h:()=>te});const te=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ot,Ce,k)=>{k.d(Ce,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ot,Ce,k)=>{k.d(Ce,{_6:()=>Te,jO:()=>le,yG:()=>we});var r=k(576),te=k(3532);function F(ce){return ce[ce.length-1]}function le(ce){return(0,r.m)(F(ce))?ce.pop():void 0}function we(ce){return(0,te.K)(F(ce))?ce.pop():void 0}function Te(ce,_e){return"number"==typeof F(ce)?ce.pop():_e}},8737:(ot,Ce,k)=>{function r(te,F){if(te){const le=te.indexOf(F);0<=le&&te.splice(le,1)}}k.d(Ce,{P:()=>r})},3888:(ot,Ce,k)=>{function r(te){const le=te(we=>{Error.call(we),we.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(Ce,{d:()=>r})},2806:(ot,Ce,k)=>{k.d(Ce,{O:()=>le,x:()=>F});var r=k(2416);let te=null;function F(we){if(r.v.useDeprecatedSynchronousErrorHandling){const Te=!te;if(Te&&(te={errorThrown:!1,error:null}),we(),Te){const{errorThrown:ce,error:_e}=te;if(te=null,ce)throw _e}}else we()}function le(we){r.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=we)}},9672:(ot,Ce,k)=>{function r(te,F,le,we=0,Te=!1){const ce=F.schedule(function(){le(),Te?te.add(this.schedule(null,we)):this.unsubscribe()},we);if(te.add(ce),!Te)return ce}k.d(Ce,{f:()=>r})},4671:(ot,Ce,k)=>{function r(te){return te}k.d(Ce,{y:()=>r})},1144:(ot,Ce,k)=>{k.d(Ce,{z:()=>r});const r=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(ot,Ce,k)=>{k.d(Ce,{D:()=>te});var r=k(576);function te(F){return Symbol.asyncIterator&&(0,r.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(ot,Ce,k)=>{function r(te){return"function"==typeof te}k.d(Ce,{m:()=>r})},3670:(ot,Ce,k)=>{k.d(Ce,{c:()=>F});var r=k(8822),te=k(576);function F(le){return(0,te.m)(le[r.L])}},6495:(ot,Ce,k)=>{k.d(Ce,{T:()=>F});var r=k(2202),te=k(576);function F(le){return(0,te.m)(null==le?void 0:le[r.h])}},8239:(ot,Ce,k)=>{k.d(Ce,{t:()=>te});var r=k(576);function te(F){return(0,r.m)(null==F?void 0:F.then)}},3260:(ot,Ce,k)=>{k.d(Ce,{L:()=>le,Q:()=>F});var r=k(655),te=k(576);function F(we){return(0,r.FC)(this,arguments,function*(){const ce=we.getReader();try{for(;;){const{value:_e,done:me}=yield(0,r.qq)(ce.read());if(me)return yield(0,r.qq)(void 0);yield yield(0,r.qq)(_e)}}finally{ce.releaseLock()}})}function le(we){return(0,te.m)(null==we?void 0:we.getReader)}},3532:(ot,Ce,k)=>{k.d(Ce,{K:()=>te});var r=k(576);function te(F){return F&&(0,r.m)(F.schedule)}},4482:(ot,Ce,k)=>{k.d(Ce,{A:()=>te,e:()=>F});var r=k(576);function te(le){return(0,r.m)(null==le?void 0:le.lift)}function F(le){return we=>{if(te(we))return we.lift(function(Te){try{return le(Te,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ot,Ce,k)=>{function r(){}k.d(Ce,{Z:()=>r})},7849:(ot,Ce,k)=>{k.d(Ce,{h:()=>F});var r=k(2416),te=k(3410);function F(le){te.z.setTimeout(()=>{const{onUnhandledError:we}=r.v;if(!we)throw le;we(le)})}},4532:(ot,Ce,k)=>{function r(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ce,{z:()=>r})},655:(ot,Ce,k)=>{function le(H,ee){var de={};for(var se in H)Object.prototype.hasOwnProperty.call(H,se)&&ee.indexOf(se)<0&&(de[se]=H[se]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(se=Object.getOwnPropertySymbols(H);De<se.length;De++)ee.indexOf(se[De])<0&&Object.prototype.propertyIsEnumerable.call(H,se[De])&&(de[se[De]]=H[se[De]])}return de}function _e(H,ee,de,se){return new(de||(de=Promise))(function(oe,wt){function Vt(Tt){try{at(se.next(Tt))}catch(An){wt(An)}}function Vn(Tt){try{at(se.throw(Tt))}catch(An){wt(An)}}function at(Tt){Tt.done?oe(Tt.value):function De(oe){return oe instanceof de?oe:new de(function(wt){wt(oe)})}(Tt.value).then(Vt,Vn)}at((se=se.apply(H,ee||[])).next())})}function ye(H){return this instanceof ye?(this.v=H,this):new ye(H)}function ve(H,ee,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,se=de.apply(H,ee||[]),oe=[];return De={},wt("next"),wt("throw"),wt("return"),De[Symbol.asyncIterator]=function(){return this},De;function wt(Cn){se[Cn]&&(De[Cn]=function(fi){return new Promise(function(_n,ri){oe.push([Cn,fi,_n,ri])>1||Vt(Cn,fi)})})}function Vt(Cn,fi){try{!function Vn(Cn){Cn.value instanceof ye?Promise.resolve(Cn.value.v).then(at,Tt):An(oe[0][2],Cn)}(se[Cn](fi))}catch(_n){An(oe[0][3],_n)}}function at(Cn){Vt("next",Cn)}function Tt(Cn){Vt("throw",Cn)}function An(Cn,fi){Cn(fi),oe.shift(),oe.length&&Vt(oe[0][0],oe[0][1])}}function je(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ee=H[Symbol.asyncIterator];return ee?ee.call(H):(H=function re(H){var ee="function"==typeof Symbol&&Symbol.iterator,de=ee&&H[ee],se=0;if(de)return de.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&se>=H.length&&(H=void 0),{value:H&&H[se++],done:!H}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),de={},se("next"),se("throw"),se("return"),de[Symbol.asyncIterator]=function(){return this},de);function se(oe){de[oe]=H[oe]&&function(wt){return new Promise(function(Vt,Vn){!function De(oe,wt,Vt,Vn){Promise.resolve(Vn).then(function(at){oe({value:at,done:Vt})},wt)}(Vt,Vn,(wt=H[oe](wt)).done,wt.value)})}}}k.d(Ce,{FC:()=>ve,KL:()=>je,_T:()=>le,mG:()=>_e,qq:()=>ye})},5e3:(ot,Ce,k)=>{k.d(Ce,{$8M:()=>hu,$Z:()=>Zu,AFp:()=>PI,ALo:()=>gD,AaK:()=>_e,AsE:()=>xy,BQk:()=>Sg,CHM:()=>eu,CRH:()=>pI,CZH:()=>mv,CqO:()=>zw,DdM:()=>Qy,Dn7:()=>aI,EJc:()=>VD,EpF:()=>Gw,F$t:()=>Kw,F4k:()=>$w,FYo:()=>$C,FiY:()=>$s,G48:()=>eS,Gf:()=>hI,GfV:()=>zC,GkF:()=>$u,Gpc:()=>Y,Gre:()=>Ay,Hsn:()=>Za,JOm:()=>x,LFG:()=>Gi,LSH:()=>Du,Lbi:()=>kI,MAs:()=>Sw,MGl:()=>Og,NdJ:()=>py,OlP:()=>Zn,Oqu:()=>Ku,PXZ:()=>kk,Q6J:()=>Eg,QGY:()=>hy,Qsj:()=>sD,R0b:()=>So,RDi:()=>Zl,Rgc:()=>dd,SBq:()=>Yh,Sil:()=>BD,Suo:()=>TD,TTD:()=>Vr,TgZ:()=>Gu,Tol:()=>qa,Udp:()=>wy,VKq:()=>XC,VLi:()=>FI,W1O:()=>mI,WLB:()=>Jy,X6Q:()=>XD,XFs:()=>Et,Xpm:()=>Ye,Y36:()=>wl,YKP:()=>QC,YNc:()=>Dw,Yjl:()=>Pt,Yz7:()=>_n,ZZ4:()=>Lv,_Bn:()=>Wg,_UZ:()=>xg,_Vd:()=>Yg,_c5:()=>fS,_uU:()=>Ey,aQg:()=>Fv,c2e:()=>RI,cJS:()=>Ht,cg1:()=>Oy,dDg:()=>vd,deG:()=>ih,dqk:()=>zt,eFA:()=>YD,ekj:()=>Cy,f3M:()=>wu,g9A:()=>MI,gL8:()=>Yu,h0i:()=>ad,hGG:()=>gS,hij:()=>Oc,iGM:()=>dI,ifc:()=>en,ip1:()=>AI,kEZ:()=>pD,kL8:()=>xx,l5B:()=>eI,lG2:()=>rt,lcZ:()=>oI,n5z:()=>th,oAB:()=>pe,oxw:()=>my,q4F:()=>WC,qLn:()=>dc,qOj:()=>ay,qZA:()=>Dc,s9C:()=>Pg,sBO:()=>tS,sIi:()=>Mh,s_b:()=>xl,soG:()=>vv,tBr:()=>bs,tb:()=>yv,tp0:()=>ws,uIk:()=>Qn,vHH:()=>Ne,vpe:()=>Es,wAp:()=>Mt,xi3:()=>ep,xp6:()=>Js,ynx:()=>Dg,z2F:()=>Ev,zSh:()=>Ri,zs3:()=>To});var r=k(7579),te=k(727),F=k(8306),le=k(6451),we=k(3099);function Te(a){for(let l in a)if(a[l]===Te)return l;throw Error("Could not find renamed property on target object.")}function ce(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function _e(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(_e).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function me(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const G=Te({__forward_ref__:Te});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return _e(this())},a}function re(a){return Fe(a)?a():a}function Fe(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===Y}class Ne extends Error{constructor(l,c){super(function He(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function ye(a){return"string"==typeof a?a:null==a?"":String(a)}function ve(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ye(a)}function Ge(a,l){const c=l?` in ${l}`:"";throw new Ne(-201,`No provider for ${ve(a)} found${c}`)}function at(a,l){null==a&&function Tt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function _n(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ht(a){return{providers:a.providers||[],imports:a.imports||[]}}function Rt(a){return Wi(a,Ii)||Wi(a,Vi)}function Wi(a,l){return a.hasOwnProperty(l)?a[l]:null}function Un(a){return a&&(a.hasOwnProperty(Ti)||a.hasOwnProperty(gi))?a[Ti]:null}const Ii=Te({\u0275prov:Te}),Ti=Te({\u0275inj:Te}),Vi=Te({ngInjectableDef:Te}),gi=Te({ngInjectorDef:Te});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let oi;function Hn(a){const l=oi;return oi=a,l}function Ei(a,l,c){const d=Rt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Et.Optional?null:void 0!==l?l:void Ge(_e(a),"Injector")}function yn(a){return{toString:a}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),en=(()=>{return(a=en||(en={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",en;var a})();const ut="undefined"!=typeof globalThis&&globalThis,dt="undefined"!=typeof window&&window,vn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=ut||"undefined"!=typeof global&&global||dt||vn,zn={},mt=[],Qi=Te({\u0275cmp:Te}),j=Te({\u0275dir:Te}),K=Te({\u0275pipe:Te}),U=Te({\u0275mod:Te}),q=Te({\u0275fac:Te}),$=Te({__NG_ELEMENT_ID__:Te});let Pe=0;function Ye(a){return yn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||mt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||en.Emulated,id:"c",styles:a.styles||mt,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,m=a.features,b=a.pipes;return d.id+=Pe++,d.inputs=$e(a.inputs,c),d.outputs=$e(a.outputs),m&&m.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(cn):null,d.pipeDefs=b?()=>("function"==typeof b?b():b).map(rn):null,d})}function cn(a){return bt(a)||function jt(a){return a[j]||null}(a)}function rn(a){return function sn(a){return a[K]||null}(a)}const ae={};function pe(a){return yn(()=>{const l={type:a.type,bootstrap:a.bootstrap||mt,declarations:a.declarations||mt,imports:a.imports||mt,exports:a.exports||mt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ae[a.id]=a.type),l})}function $e(a,l){if(null==a)return zn;const c={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),c[p]=d,l&&(l[p]=m)}return c}const rt=Ye;function Pt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function bt(a){return a[Qi]||null}function Qt(a,l){const c=a[U]||null;if(!c&&!0===l)throw new Error(`Type ${_e(a)} does not have '\u0275mod' property.`);return c}function xi(a){return Array.isArray(a)&&"object"==typeof a[1]}function br(a){return Array.isArray(a)&&!0===a[1]}function co(a){return 0!=(8&a.flags)}function Fl(a){return 2==(2&a.flags)}function cs(a){return 1==(1&a.flags)}function Fr(a){return null!==a.template}function wr(a){return 0!=(512&a[2])}function Xi(a,l){return a.hasOwnProperty(q)?a[q]:null}class Uo{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Vr(){return ya}function ya(a){return a.type.prototype.ngOnChanges&&(a.setInput=Jc),Qa}function Qa(){const a=Jr(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===zn)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Jc(a,l,c,d){const p=Jr(a)||function Hl(a,l){return a[Tn]=l}(a,{previous:zn,current:null}),m=p.current||(p.current={}),b=p.previous,C=this.declaredInputs[c],T=b[C];m[C]=new Uo(T&&T.currentValue,l,b===zn),a[d]=l}Vr.ngInherit=!0;const Tn="__ngSimpleChanges__";function Jr(a){return a[Tn]||null}let Bo;function Zl(a){Bo=a}function Fn(a){return!!a.listen}const Xa={createRenderer:(a,l)=>function ds(){return void 0!==Bo?Bo:"undefined"!=typeof document?document:void 0}()};function Dn(a){for(;Array.isArray(a);)a=a[0];return a}function va(a,l){return Dn(l[a])}function ji(a,l){return Dn(l[a.index])}function Ho(a,l){return a.data[l]}function Xr(a,l){return a[l]}function R(a,l){const c=l[a];return xi(c)?c:c[0]}function N(a){return 4==(4&a[2])}function Q(a){return 128==(128&a[2])}function ke(a,l){return null==l?null:a[l]}function Qe(a){a[18]=0}function yt(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Ke={lFrame:Kp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Br(){return Ke.bindingsEnabled}function Ae(){return Ke.lFrame.lView}function Zt(){return Ke.lFrame.tView}function eu(a){return Ke.lFrame.contextLView=a,a[8]}function Rn(){let a=Zs();for(;null!==a&&64===a.type;)a=a.parent;return a}function Zs(){return Ke.lFrame.currentTNode}function Pi(a,l){const c=Ke.lFrame;c.currentTNode=a,c.isParent=l}function Zo(){return Ke.lFrame.isParent}function $d(){Ke.lFrame.isParent=!1}function nu(){return Ke.isInCheckNoChangesMode}function iu(a){Ke.isInCheckNoChangesMode=a}function Oi(){const a=Ke.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ho(){return Ke.lFrame.bindingIndex}function tl(){return Ke.lFrame.bindingIndex++}function ps(a){const l=Ke.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Ym(a,l){const c=Ke.lFrame;c.bindingIndex=c.bindingRootIndex=a,Wd(l)}function Wd(a){Ke.lFrame.currentDirectiveIndex=a}function Qm(){return Ke.lFrame.currentQueryIndex}function $l(a){Ke.lFrame.currentQueryIndex=a}function db(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Wp(a,l,c){if(c&Et.SkipSelf){let p=l,m=a;for(;!(p=p.parent,null!==p||c&Et.Host||(p=db(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,a=m}const d=Ke.lFrame=ou();return d.currentTNode=l,d.lView=a,!0}function nl(a){const l=ou(),c=a[1];Ke.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function ou(){const a=Ke.lFrame,l=null===a?null:a.child;return null===l?Kp(a):l}function Kp(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function il(){const a=Ke.lFrame;return Ke.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Yp=il;function zl(){const a=il();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ur(){return Ke.lFrame.selectedIndex}function qs(a){Ke.lFrame.selectedIndex=a}function Kn(){const a=Ke.lFrame;return Ho(a.tView,a.selectedIndex)}function Qp(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:D,ngOnDestroy:S}=m;b&&(a.contentHooks||(a.contentHooks=[])).push(-c,b),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),T&&(a.viewHooks||(a.viewHooks=[])).push(-c,T),D&&((a.viewHooks||(a.viewHooks=[])).push(c,D),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,D)),null!=S&&(a.destroyHooks||(a.destroyHooks=[])).push(c,S)}}function Wl(a,l,c){Xm(a,l,3,c)}function po(a,l,c,d){(3&a[2])===c&&Xm(a,l,c,d)}function Kl(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Xm(a,l,c,d){const m=null!=d?d:-1,b=l.length-1;let C=0;for(let T=void 0!==d?65535&a[18]:0;T<b;T++)if("number"==typeof l[T+1]){if(C=l[T],null!=d&&C>=d)break}else l[T]<0&&(a[18]+=65536),(C<m||-1==m)&&(fb(a,c,l,T),a[18]=(4294901760&a[18])+T+2),T++}function fb(a,l,c,d){const p=c[d]<0,m=c[d+1],C=a[p?-c[d]:c[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class au{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Kd(a,l,c){const d=Fn(a);let p=0;for(;p<c.length;){const m=c[p];if("number"==typeof m){if(0!==m)break;p++;const b=c[p++],C=c[p++],T=c[p++];d?a.setAttribute(l,C,T,b):l.setAttributeNS(b,C,T)}else{const b=m,C=c[++p];tf(b)?d&&a.setProperty(l,b,C):d?a.setAttribute(l,b,C):l.setAttribute(b,C),p++}}return p}function Ql(a){return 3===a||4===a||6===a}function tf(a){return 64===a.charCodeAt(0)}function fs(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?c=p:0===c||Yd(a,c,p,null,-1===c||2===c?l[++d]:null)}}return a}function Yd(a,l,c,d,p){let m=0,b=a.length;if(-1===l)b=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){b=-1;break}if(C>l){b=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==p&&(a[m+1]=p));if(d===a[m+1])return void(a[m+2]=p)}m++,null!==d&&m++,null!==p&&m++}-1!==b&&(a.splice(b,0,l),m=b+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==p&&a.splice(m++,0,p)}function nf(a){return-1!==a}function qi(a){return 32767&a}function Kt(a,l){let c=function rl(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let Nt=!0;function sl(a){const l=Nt;return Nt=a,l}let rf=0;function gs(a,l){const c=cu(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Mi(d.data,a),Mi(l,null),Mi(d.blueprint,null));const p=fo(a,l),m=a.injectorIndex;if(nf(p)){const b=qi(p),C=Kt(p,l),T=C[1].data;for(let D=0;D<8;D++)l[m+D]=C[b+D]|T[b+D]}return l[m+8]=p,m}function Mi(a,l){a.push(0,0,0,0,0,0,0,0,l)}function cu(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function fo(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,p=l;for(;null!==p;){const m=p[1],b=m.type;if(d=2===b?m.declTNode:1===b?p[6]:null,null===d)return-1;if(c++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ca(a,l,c){!function Jd(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty($)&&(d=c[$]),null==d&&(d=c[$]=rf++);const p=255&d;l.data[a+(p>>5)]|=1<<p}(a,l,c)}function uu(a,l,c){if(c&Et.Optional)return a;Ge(l,"NodeInjector")}function dr(a,l,c,d){if(c&Et.Optional&&void 0===d&&(d=null),0==(c&(Et.Self|Et.Host))){const p=a[9],m=Hn(void 0);try{return p?p.get(l,d,c&Et.Optional):Ei(l,d,c&Et.Optional)}finally{Hn(m)}}return uu(d,l,c)}function ms(a,l,c,d=Et.Default,p){if(null!==a){const m=function t_(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty($)?a[$]:void 0;return"number"==typeof l?l>=0?255&l:ki:l}(c);if("function"==typeof m){if(!Wp(l,a,d))return d&Et.Host?uu(p,c,d):dr(l,c,d,p);try{const b=m(d);if(null!=b||d&Et.Optional)return b;Ge(c)}finally{Yp()}}else if("number"==typeof m){let b=null,C=cu(a,l),T=-1,D=d&Et.Host?l[16][6]:null;for((-1===C||d&Et.SkipSelf)&&(T=-1===C?fo(a,l):l[C+8],-1!==T&&eh(d,!1)?(b=l[1],C=qi(T),l=Kt(T,l)):C=-1);-1!==C;){const S=l[1];if(Go(m,C,S.data)){const L=go(C,l,c,b,d,D);if(L!==Xd)return L}T=l[C+8],-1!==T&&eh(d,l[1].data[C+8]===D)&&Go(m,C,l)?(b=S,C=qi(T),l=Kt(T,l)):C=-1}}}return dr(l,c,d,p)}const Xd={};function ki(){return new Ia(Rn(),Ae())}function go(a,l,c,d,p,m){const b=l[1],C=b.data[a+8],S=du(C,b,c,null==d?Fl(C)&&Nt:d!=b&&0!=(3&C.type),p&Et.Host&&m===C);return null!==S?un(l,b,S,C):Xd}function du(a,l,c,d,p){const m=a.providerIndexes,b=l.data,C=1048575&m,T=a.directiveStart,S=m>>20,z=p?C+S:a.directiveEnd;for(let ne=d?C:C+S;ne<z;ne++){const xe=b[ne];if(ne<T&&c===xe||ne>=T&&xe.type===c)return ne}if(p){const ne=b[T];if(ne&&Fr(ne)&&ne.type===c)return T}return null}function un(a,l,c,d){let p=a[c];const m=l.data;if(function Jp(a){return a instanceof au}(p)){const b=p;b.resolving&&function Ve(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${a}${c}`)}(ve(m[c]));const C=sl(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?Hn(b.injectImpl):null;Wp(a,d,Et.Default);try{p=a[c]=b.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function pb(a,l,c){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(d){const b=ya(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,b)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,p),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==T&&Hn(T),sl(C),b.resolving=!1,Yp()}}return p}function Go(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function eh(a,l){return!(a&Et.Self||a&Et.Host&&l)}class Ia{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return ms(this._tNode,this._lView,l,d,c)}}function th(a){return yn(()=>{const l=a.prototype.constructor,c=l[q]||al(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const m=p[q]||al(p);if(m&&m!==c)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function al(a){return Fe(a)?()=>{const l=al(re(a));return l&&l()}:Xi(a)}function hu(a){return function e_(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let p=0;for(;p<d;){const m=c[p];if(Ql(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<d&&"string"==typeof c[p];)p++;else{if(m===l)return c[p+1];p+=2}}}return null}(Rn(),a)}const Gs="__parameters__";function xa(a,l,c){return yn(()=>{const d=function Ea(a){return function(...c){if(a){const d=a(...c);for(const p in d)this[p]=d[p]}}}(l);function p(...m){if(this instanceof p)return d.apply(this,m),this;const b=new p(...m);return C.annotation=b,C;function C(T,D,S){const L=T.hasOwnProperty(Gs)?T[Gs]:Object.defineProperty(T,Gs,{value:[]})[Gs];for(;L.length<=S;)L.push(null);return(L[S]=L[S]||[]).push(b),T}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class Zn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=_n({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ih=new Zn("AnalyzeForEntryComponents");function _s(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),_s(d,l)):l!==a&&l.push(d)}return l}function ys(a,l){a.forEach(c=>Array.isArray(c)?ys(c,l):l(c))}function yi(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Tr(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Da(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function es(a,l,c){let d=ll(a,l);return d>=0?a[1|d]=c:(d=~d,function mo(a,l,c,d){let p=a.length;if(p==l)a.push(c,d);else if(1===p)a.push(d,a[0]),a[0]=c;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function gu(a,l){const c=ll(a,l);if(c>=0)return a[1|c]}function ll(a,l){return function df(a,l,c){let d=0,p=a.length>>c;for(;p!==d;){const m=d+(p-d>>1),b=a[m<<c];if(l===b)return m<<c;b>l?p=m:d=m+1}return~(p<<c)}(a,l,1)}const Aa={},Ko="__NG_DI_FLAG__",dl="ngTempTokenPath",hf=/\n/gm,_u="__source",pf=Te({provide:String,useValue:Te});let yu;function ff(a){const l=yu;return yu=a,l}function vu(a,l=Et.Default){if(void 0===yu)throw new Ne(203,"");return null===yu?Ei(a,void 0,l):yu.get(a,l&Et.Optional?null:void 0,l)}function Gi(a,l=Et.Default){return(function pn(){return oi}()||vu)(re(a),l)}const wu=Gi;function Cu(a){const l=[];for(let c=0;c<a.length;c++){const d=re(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let p,m=Et.Default;for(let b=0;b<d.length;b++){const C=d[b],T=Xl(C);"number"==typeof T?-1===T?p=C.token:m|=T:p=C}l.push(Gi(p,m))}else l.push(Gi(d))}return l}function Pa(a,l){return a[Ko]=l,a.prototype[Ko]=l,a}function Xl(a){return a[Ko]}const bs=Pa(xa("Inject",a=>({token:a})),-1),$s=Pa(xa("Optional"),8),ws=Pa(xa("SkipSelf"),4);class zs{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yo(a){return a instanceof zs?a.changingThisBreaksApplicationSecurity:a}const p_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,f_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Gn=(()=>((Gn=Gn||{})[Gn.NONE=0]="NONE",Gn[Gn.HTML=1]="HTML",Gn[Gn.STYLE=2]="STYLE",Gn[Gn.SCRIPT=3]="SCRIPT",Gn[Gn.URL=4]="URL",Gn[Gn.RESOURCE_URL=5]="RESOURCE_URL",Gn))();function Du(a){const l=function ea(){const a=Ae();return a&&a[12]}();return l?l.sanitize(Gn.URL,a)||"":function ka(a,l){const c=function Eu(a){return a instanceof zs&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}(a,"URL")?yo(a):function Ws(a){return(a=String(a)).match(p_)||a.match(f_)?a:"unsafe:"+a}(ye(a))}const Of="__ngContext__";function Dt(a,l){a[Of]=l}function uc(a){const l=function Nn(a){return a[Of]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Ys(a){return a.ngOriginalError}function Ab(a,...l){a.error(...l)}class dc{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function w_(a){return a&&a.ngErrorLogger||Ab}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Ys(l);for(;c&&Ys(c);)c=Ys(c);return c||null}}const Pb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function bo(a){return a instanceof Function?a():a}var x=(()=>((x=x||{})[x.Important=1]="Important",x[x.DashCase=2]="DashCase",x))();function J(a,l){return undefined(a,l)}function lt(a){const l=a[3];return br(l)?l[3]:l}function li(a){return fc(a[13])}function ns(a){return fc(a[4])}function fc(a){for(;null!==a&&!br(a);)a=a[4];return a}function Fa(a,l,c,d,p){if(null!=d){let m,b=!1;br(d)?m=d:xi(d)&&(b=!0,d=d[0]);const C=Dn(d);0===a&&null!==c?null==p?kb(l,c,C):gc(l,c,C,p||null,!0):1===a&&null!==c?gc(l,c,C,p||null,!0):2===a?function Fb(a,l,c){const d=Gf(a,l);d&&function YE(a,l,c,d){Fn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,C,b):3===a&&l.destroyNode(C),null!=m&&function JE(a,l,c,d,p){const m=c[7];m!==Dn(c)&&Fa(l,a,d,m,p);for(let C=10;C<c.length;C++){const T=c[C];Va(T[1],T,a,l,d,m)}}(l,a,m,c,p)}}function Ih(a,l,c){if(Fn(a))return a.createElement(l,c);{const d=null!==c?function jl(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function Mu(a,l){const c=a[9],d=c.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,yt(p,-1)),c.splice(d,1)}function jf(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const p=d[17];null!==p&&p!==a&&Mu(p,d),l>0&&(a[c-1][4]=d[4]);const m=Tr(a,10+l);!function x_(a,l){Va(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const b=m[19];null!==b&&b.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function S_(a,l){if(!(256&l[2])){const c=l[11];Fn(c)&&c.destroyNode&&Va(a,l,c,3,null,null),function Ie(a){let l=a[13];if(!l)return A_(a[1],a);for(;l;){let c=null;if(xi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)xi(l)&&A_(l[1],l),l=l[3];null===l&&(l=a),xi(l)&&A_(l[1],l),c=l&&l[4]}l=c}}(l)}}function A_(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function ci(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const p=l[c[d]];if(!(p instanceof au)){const m=c[d+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const C=p[m[b]],T=m[b+1];try{T.call(C)}finally{}}else try{m.call(p)}finally{}}}}(a,l),function KE(a,l){const c=a.cleanup,d=l[7];let p=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const b=c[m+1],C="function"==typeof b?b(l):Dn(l[b]),T=d[p=c[m+2]],D=c[m+3];"boolean"==typeof D?C.removeEventListener(c[m],T,D):D>=0?d[p=D]():d[p=-D].unsubscribe(),m+=2}else{const b=d[p=c[m+1]];c[m].call(b)}if(null!==d){for(let m=p+1;m<d.length;m++)d[m]();l[7]=null}}(a,l),1===l[1].type&&Fn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&br(l[3])){c!==l[3]&&Mu(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function Zf(a,l,c){return function qf(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const p=a.data[d.directiveStart].encapsulation;if(p===en.None||p===en.Emulated)return null}return ji(d,c)}(a,l.parent,c)}function gc(a,l,c,d,p){Fn(a)?a.insertBefore(l,c,d,p):l.insertBefore(c,d,p)}function kb(a,l,c){Fn(a)?a.appendChild(l,c):l.appendChild(c)}function Rb(a,l,c,d,p){null!==d?gc(a,l,c,d,p):kb(a,l,c)}function Gf(a,l){return Fn(a)?a.parentNode(l):l.parentNode}function P_(a,l,c){return Lb(a,l,c)}let Lb=function Nb(a,l,c){return 40&a.type?ji(a,c):null};function $f(a,l,c,d){const p=Zf(a,d,l),m=l[11],C=P_(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(c))for(let T=0;T<c.length;T++)Rb(m,p,c[T],C,!1);else Rb(m,p,c,C,!1)}function zf(a,l){if(null!==l){const c=l.type;if(3&c)return ji(l,a);if(4&c)return Kf(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return zf(a,d);{const p=a[l.index];return br(p)?Kf(-1,p):Dn(p)}}if(32&c)return J(l,a)()||Dn(a[l.index]);{const d=Wf(a,l);return null!==d?Array.isArray(d)?d[0]:zf(lt(a[16]),d):zf(a,l.next)}}return null}function Wf(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Kf(a,l){const c=10+a+1;if(c<l.length){const d=l[c],p=d[1].firstChild;if(null!==p)return zf(d,p)}return l[7]}function mc(a,l,c,d,p,m,b){for(;null!=c;){const C=d[c.index],T=c.type;if(b&&0===l&&(C&&Dt(Dn(C),d),c.flags|=4),64!=(64&c.flags))if(8&T)mc(a,l,c.child,d,p,m,!1),Fa(l,a,p,C,m);else if(32&T){const D=J(c,d);let S;for(;S=D();)Fa(l,a,p,S,m);Fa(l,a,p,C,m)}else 16&T?Vb(a,l,d,c,p,m):Fa(l,a,p,C,m);c=b?c.projectionNext:c.next}}function Va(a,l,c,d,p,m){mc(c,d,a.firstChild,l,p,m,!1)}function Vb(a,l,c,d,p,m){const b=c[16],T=b[6].projection[d.projection];if(Array.isArray(T))for(let D=0;D<T.length;D++)Fa(l,a,p,T[D],m);else mc(a,l,T,b[3],p,m,!0)}function Ub(a,l,c){Fn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function k_(a,l,c){Fn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function Bb(a,l,c){let d=a.length;for(;;){const p=a.indexOf(l,c);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const m=l.length;if(p+m===d||a.charCodeAt(p+m)<=32)return p}c=p+1}}const N_="ng-template";function L_(a,l,c){let d=0;for(;d<a.length;){let p=a[d++];if(c&&"class"===p){if(p=a[d],-1!==Bb(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function Yf(a){return 4===a.type&&a.value!==N_}function Ua(a,l,c){return l===(4!==a.type||c?a.value:N_)}function Hb(a,l,c){let d=4;const p=a.attrs||[],m=function n1(a){for(let l=0;l<a.length;l++)if(Ql(a[l]))return l;return a.length}(p);let b=!1;for(let C=0;C<l.length;C++){const T=l[C];if("number"!=typeof T){if(!b)if(4&d){if(d=2|1&d,""!==T&&!Ua(a,T,c)||""===T&&1===l.length){if(er(d))return!1;b=!0}}else{const D=8&d?T:l[++C];if(8&d&&null!==a.attrs){if(!L_(a.attrs,D,c)){if(er(d))return!1;b=!0}continue}const L=e1(8&d?"class":T,p,Yf(a),c);if(-1===L){if(er(d))return!1;b=!0;continue}if(""!==D){let z;z=L>m?"":p[L+1].toLowerCase();const ne=8&d?z:null;if(ne&&-1!==Bb(ne,D,0)||2&d&&D!==z){if(er(d))return!1;b=!0}}}}else{if(!b&&!er(d)&&!er(T))return!1;if(b&&er(T))continue;b=!1,d=T|1&d}}return er(d)||b}function er(a){return 0==(1&a)}function e1(a,l,c,d){if(null===l)return-1;let p=0;if(d||!c){let m=!1;for(;p<l.length;){const b=l[p];if(b===a)return p;if(3===b||6===b)m=!0;else{if(1===b||2===b){let C=l[++p];for(;"string"==typeof C;)C=l[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=m?1:2}return-1}return function r1(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Th(a,l,c=!1){for(let d=0;d<l.length;d++)if(Hb(a,l[d],c))return!0;return!1}function s1(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function jb(a,l){return a?":not("+l.trim()+")":l}function o1(a){let l=a[0],c=1,d=2,p="",m=!1;for(;c<a.length;){let b=a[c];if("string"==typeof b)if(2&d){const C=a[++c];p+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?p+="."+b:4&d&&(p+=" "+b);else""!==p&&!er(b)&&(l+=jb(m,p),p=""),d=b,m=m||!er(d);c++}return""!==p&&(l+=jb(m,p)),l}const Yt={};function Js(a){Qf(Zt(),Ae(),ur()+a,nu())}function Qf(a,l,c,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Wl(l,m,c)}else{const m=a.preOrderHooks;null!==m&&po(l,m,0,c)}qs(c)}function Eh(a,l){return a<<17|l<<2}function wo(a){return a>>17&32767}function U_(a){return 2|a}function Ba(a){return(131068&a)>>2}function B_(a,l){return-131069&a|l<<2}function xh(a){return 1|a}function W_(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d],m=c[d+1];if(-1!==m){const b=a.data[m];$l(p),b.contentQueries(2,l[m],m)}}}function Zr(a,l,c,d,p,m,b,C,T,D){const S=l.blueprint.slice();return S[0]=p,S[2]=140|d,Qe(S),S[3]=S[15]=a,S[8]=c,S[10]=b||a&&a[10],S[11]=C||a&&a[11],S[12]=T||a&&a[12]||null,S[9]=D||a&&a[9]||null,S[6]=m,S[16]=2==l.type?a[16]:S,S}function Nu(a,l,c,d,p){let m=a.data[l];if(null===m)m=function K_(a,l,c,d,p){const m=Zs(),b=Zo(),T=a.data[l]=function b1(a,l,c,d,p,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,c,l,d,p);return null===a.firstChild&&(a.firstChild=T),null!==m&&(b?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}(a,l,c,d,p),function Km(){return Ke.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=p;const b=function cr(){const a=Ke.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Pi(m,!0),m}function Lu(a,l,c,d){if(0===c)return-1;const p=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function Sh(a,l,c){nl(l);try{const d=a.viewQuery;null!==d&&dg(1,d,c);const p=a.template;null!==p&&zb(a,l,p,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&W_(a,l),a.staticViewQueries&&dg(2,a.viewQuery,c);const m=a.components;null!==m&&function y1(a,l){for(let c=0;c<l.length;c++)J_(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,zl()}}function Fu(a,l,c,d){const p=l[2];if(256==(256&p))return;nl(l);const m=nu();try{Qe(l),function ru(a){return Ke.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&zb(a,l,c,2,d);const b=3==(3&p);if(!m)if(b){const D=a.preOrderCheckHooks;null!==D&&Wl(l,D,null)}else{const D=a.preOrderHooks;null!==D&&po(l,D,0,null),Kl(l,0)}if(function aw(a){for(let l=li(a);null!==l;l=ns(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const p=c[d],m=p[3];0==(1024&p[2])&&yt(m,1),p[2]|=1024}}}(l),function Q_(a){for(let l=li(a);null!==l;l=ns(l))for(let c=10;c<l.length;c++){const d=l[c],p=d[1];Q(d)&&Fu(p,d,p.template,d[8])}}(l),null!==a.contentQueries&&W_(a,l),!m)if(b){const D=a.contentCheckHooks;null!==D&&Wl(l,D)}else{const D=a.contentHooks;null!==D&&po(l,D,1),Kl(l,1)}!function Ru(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const p=c[d];if(p<0)qs(~p);else{const m=p,b=c[++d],C=c[++d];Ym(b,m),C(2,l[m])}}}finally{qs(-1)}}(a,l);const C=a.components;null!==C&&function _1(a,l){for(let c=0;c<l.length;c++)P1(a,l[c])}(l,C);const T=a.viewQuery;if(null!==T&&dg(2,T,d),!m)if(b){const D=a.viewCheckHooks;null!==D&&Wl(l,D)}else{const D=a.viewHooks;null!==D&&po(l,D,2),Kl(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,yt(l[3],-1))}finally{zl()}}function vc(a,l,c,d){const p=l[10],m=!nu(),b=N(l);try{m&&!b&&p.begin&&p.begin(),b&&Sh(a,l,d),Fu(a,l,c,d)}finally{m&&!b&&p.end&&p.end()}}function zb(a,l,c,d,p){const m=ur(),b=2&d;try{qs(-1),b&&l.length>20&&Qf(a,l,20,nu()),c(d,p)}finally{qs(m)}}function Wb(a,l,c){if(co(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const b=a.data[m];b.contentQueries&&b.contentQueries(1,c[m],m)}}}function sg(a,l,c){!Br()||(function TM(a,l,c,d){const p=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||gs(c,l),Dt(d,l);const b=c.initialInputs;for(let C=p;C<m;C++){const T=a.data[C],D=Fr(T);D&&DM(l,c,T);const S=un(l,a,C,c);Dt(S,l),null!==b&&SM(0,C-p,S,T,0,b),D&&(R(c.index,l)[8]=S)}}(a,l,c,ji(c,l)),128==(128&c.flags)&&function x1(a,l,c){const d=c.directiveStart,p=c.directiveEnd,b=c.index,C=function zd(){return Ke.lFrame.currentDirectiveIndex}();try{qs(b);for(let T=d;T<p;T++){const D=a.data[T],S=l[T];Wd(T),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&D1(D,S)}}finally{qs(-1),Wd(C)}}(a,l,c))}function Y_(a,l,c=ji){const d=l.localNames;if(null!==d){let p=l.index+1;for(let m=0;m<d.length;m+=2){const b=d[m+1],C=-1===b?c(l,a):a[b];a[p++]=C}}}function Kb(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=og(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function og(a,l,c,d,p,m,b,C,T,D){const S=20+d,L=S+p,z=function Yb(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Yt);return c}(S,L),ne="function"==typeof D?D():D;return z[1]={type:a,blueprint:z,template:c,queries:null,viewQuery:C,declTNode:l,data:z.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:ne,incompleteFirstPass:!1}}function Jb(a,l,c,d){const p=ey(l);null===c?p.push(d):(p.push(c),a.firstCreatePass&&k1(a).push(d,p.length-1))}function Xb(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const p=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,p):c[d]=[l,p]}return c}function Is(a,l,c,d,p,m,b,C){const T=ji(l,c);let S,D=l.inputs;!C&&null!=D&&(S=D[d])?(N1(a,c,S,d,p),Fl(l)&&function tw(a,l){const c=R(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function w1(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=b?b(p,l.value||"",d):p,Fn(m)?m.setProperty(T,d,p):tf(d)||(T.setProperty?T.setProperty(d,p):T[d]=p))}function cg(a,l,c,d){let p=!1;if(Br()){const m=function EM(a,l,c){const d=a.directiveRegistry;let p=null;if(d)for(let m=0;m<d.length;m++){const b=d[m];Th(c,b.selectors,!1)&&(p||(p=[]),Ca(gs(c,l),a,b.type),Fr(b)?(S1(a,c),p.unshift(b)):p.push(b))}return p}(a,l,c),b=null===d?null:{"":-1};if(null!==m){p=!0,iw(c,a.data.length,m.length);for(let S=0;S<m.length;S++){const L=m[S];L.providersResolver&&L.providersResolver(L)}let C=!1,T=!1,D=Lu(a,l,m.length,null);for(let S=0;S<m.length;S++){const L=m[S];c.mergedAttrs=fs(c.mergedAttrs,L.hostAttrs),rw(a,c,l,D,L),A1(D,L,b),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const z=L.type.prototype;!C&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!T&&(z.ngOnChanges||z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),T=!0),D++}!function ew(a,l){const d=l.directiveEnd,p=a.data,m=l.attrs,b=[];let C=null,T=null;for(let D=l.directiveStart;D<d;D++){const S=p[D],L=S.inputs,z=null===m||Yf(l)?null:AM(L,m);b.push(z),C=Xb(L,D,C),T=Xb(S.outputs,D,T)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=C,l.outputs=T}(a,c)}b&&function xM(a,l,c){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const m=c[l[p+1]];if(null==m)throw new Ne(-301,!1);d.push(l[p],m)}}}(c,d,b)}return c.mergedAttrs=fs(c.mergedAttrs,c.attrs),p}function E1(a,l,c,d,p,m){const b=m.hostBindings;if(b){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const T=~l.index;(function IM(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=T&&C.push(T),C.push(d,p,b)}}function D1(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function S1(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function A1(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Fr(l)&&(c[""]=a)}}function iw(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function rw(a,l,c,d,p){a.data[d]=p;const m=p.factory||(p.factory=Xi(p.type)),b=new au(m,Fr(p),null);a.blueprint[d]=b,c[d]=b,E1(a,l,0,d,Lu(a,c,p.hostVars,Yt),p)}function DM(a,l,c){const d=ji(l,a),p=Kb(c),m=a[10],b=ug(a,Zr(a,p,null,c.onPush?64:16,d,l,m,m.createRenderer(d,c),null,null));a[l.index]=b}function ra(a,l,c,d,p,m){const b=ji(a,l);!function sw(a,l,c,d,p,m,b){if(null==m)Fn(a)?a.removeAttribute(l,p,c):l.removeAttribute(p);else{const C=null==b?ye(m):b(m,d||"",p);Fn(a)?a.setAttribute(l,p,C,c):c?l.setAttributeNS(c,p,C):l.setAttribute(p,C)}}(l[11],b,m,a.value,c,d,p)}function SM(a,l,c,d,p,m){const b=m[l];if(null!==b){const C=d.setInput;for(let T=0;T<b.length;){const D=b[T++],S=b[T++],L=b[T++];null!==C?d.setInput(c,L,D,S):c[S]=L}}}function AM(a,l){let c=null,d=0;for(;d<l.length;){const p=l[d];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,a[p],l[d+1])),d+=2}else d+=2;else d+=4}return c}function ow(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function P1(a,l){const c=R(l,a);if(Q(c)){const d=c[1];80&c[2]?Fu(d,c,d.template,c[8]):c[5]>0&&lw(c)}}function lw(a){for(let d=li(a);null!==d;d=ns(d))for(let p=10;p<d.length;p++){const m=d[p];if(1024&m[2]){const b=m[1];Fu(b,m,b.template,m[8])}else m[5]>0&&lw(m)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const p=R(c[d],a);Q(p)&&p[5]>0&&lw(p)}}function J_(a,l){const c=R(l,a),d=c[1];(function O1(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Sh(d,c,c[8])}function ug(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function cw(a){for(;a;){a[2]|=64;const l=lt(a);if(wr(a)&&!l)return a;a=l}return null}function uw(a,l,c){const d=l[10];d.begin&&d.begin();try{Fu(a,l,a.template,c)}catch(p){throw R1(l,p),p}finally{d.end&&d.end()}}function M1(a){!function X_(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=uc(c),p=d[1];vc(p,d,p.template,c)}}(a[8])}function dg(a,l,c){$l(0),l(a,c)}const RM=(()=>Promise.resolve(null))();function ey(a){return a[7]||(a[7]=[])}function k1(a){return a.cleanup||(a.cleanup=[])}function R1(a,l){const c=a[9],d=c?c.get(dc,null):null;d&&d.handleError(l)}function N1(a,l,c,d,p){for(let m=0;m<c.length;){const b=c[m++],C=c[m++],T=l[b],D=a.data[b];null!==D.setInput?D.setInput(T,p,d,C):T[C]=p}}function fl(a,l,c){const d=va(l,a);!function Uf(a,l,c){Fn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function bc(a,l,c){let d=c?a.styles:null,p=c?a.classes:null,m=0;if(null!==l)for(let b=0;b<l.length;b++){const C=l[b];"number"==typeof C?m=C:1==m?p=me(p,C):2==m&&(d=me(d,C+": "+l[++b]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=p:a.classesWithoutHost=p}const dw=new Zn("INJECTOR",-1);class gt{get(l,c=Aa){if(c===Aa){const d=new Error(`NullInjectorError: No provider for ${_e(l)}!`);throw d.name="NullInjectorError",d}return c}}const Ri=new Zn("Set Injector scope."),Dr={},wc={};let nr;function is(){return void 0===nr&&(nr=new gt),nr}function ty(a,l=null,c=null,d){const p=ny(a,l,c,d);return p._resolveInjectorDefTypes(),p}function ny(a,l=null,c=null,d){return new sa(a,c,l||is(),d)}class sa{constructor(l,c,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&ys(c,C=>this.processProvider(C,l,c)),ys([l],C=>this.processInjectorType(C,[],m)),this.records.set(dw,Cc(void 0,this));const b=this.records.get(Ri);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof l?null:_e(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Aa,d=Et.Default){this.assertNotDestroyed();const p=ff(this),m=Hn(void 0);try{if(!(d&Et.SkipSelf)){let C=this.records.get(l);if(void 0===C){const T=function gw(a){return"function"==typeof a||"object"==typeof a&&a instanceof Zn}(l)&&Rt(l);C=T&&this.injectableDefInScope(T)?Cc(iy(l),Dr):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&Et.Self?is():this.parent).get(l,c=d&Et.Optional&&c===Aa?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[dl]=b[dl]||[]).unshift(_e(l)),p)throw b;return function vb(a,l,c,d){const p=a[dl];throw l[_u]&&p.unshift(l[_u]),a.message=function ec(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=_e(l);if(Array.isArray(l))p=l.map(_e).join(" -> ");else if("object"==typeof l){let m=[];for(let b in l)if(l.hasOwnProperty(b)){let C=l[b];m.push(b+":"+("string"==typeof C?JSON.stringify(C):_e(C)))}p=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${p}]: ${a.replace(hf,"\n  ")}`}("\n"+a.message,p,c,d),a.ngTokenPath=p,a[dl]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{Hn(m),ff(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,p)=>l.push(_e(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(l,c,d){if(!(l=re(l)))return!1;let p=Un(l);const m=null==p&&l.ngModule||void 0,b=void 0===m?l:m,C=-1!==d.indexOf(b);if(void 0!==m&&(p=Un(m)),null==p)return!1;if(null!=p.imports&&!C){let S;d.push(b);try{ys(p.imports,L=>{this.processInjectorType(L,c,d)&&(void 0===S&&(S=[]),S.push(L))})}finally{}if(void 0!==S)for(let L=0;L<S.length;L++){const{ngModule:z,providers:ne}=S[L];ys(ne,xe=>this.processProvider(xe,z,ne||mt))}}this.injectorDefTypes.add(b);const T=Xi(b)||(()=>new b);this.records.set(b,Cc(T,Dr));const D=p.providers;if(null!=D&&!C){const S=l;ys(D,L=>this.processProvider(L,S,D))}return void 0!==m&&void 0!==l.providers}processProvider(l,c,d){let p=Vu(l=re(l))?l:re(l&&l.provide);const m=function V1(a,l,c){return ry(a)?Cc(void 0,a.useValue):Cc(hw(a),Dr)}(l);if(Vu(l)||!0!==l.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=Cc(void 0,Dr,!0),b.factory=()=>Cu(b.multi),this.records.set(p,b)),p=l,b.multi.push(l)}this.records.set(p,m)}hydrate(l,c){return c.value===Dr&&(c.value=wc,c.value=c.factory()),"object"==typeof c.value&&c.value&&function fw(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=re(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function iy(a){const l=Rt(a),c=null!==l?l.factory:Xi(a);if(null!==c)return c;if(a instanceof Zn)throw new Ne(204,!1);if(a instanceof Function)return function F1(a){const l=a.length;if(l>0)throw Da(l,"?"),new Ne(204,!1);const c=function _r(a){const l=a&&(a[Ii]||a[Vi]);if(l){const c=function si(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Ne(204,!1)}function hw(a,l,c){let d;if(Vu(a)){const p=re(a);return Xi(p)||iy(p)}if(ry(a))d=()=>re(a.useValue);else if(function FM(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Cu(a.deps||[]));else if(function gl(a){return!(!a||!a.useExisting)}(a))d=()=>Gi(re(a.useExisting));else{const p=re(a&&(a.useClass||a.provide));if(!function pw(a){return!!a.deps}(a))return Xi(p)||iy(p);d=()=>new p(...Cu(a.deps))}return d}function Cc(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function ry(a){return null!==a&&"object"==typeof a&&pf in a}function Vu(a){return"function"==typeof a}let To=(()=>{class a{static create(c,d){var p;if(Array.isArray(c))return ty({name:""},d,c,"");{const m=null!==(p=c.name)&&void 0!==p?p:"";return ty({name:m},c.parent,c.providers,m)}}}return a.THROW_IF_NOT_FOUND=Aa,a.NULL=new gt,a.\u0275prov=_n({token:a,providedIn:"any",factory:()=>Gi(dw)}),a.__NG_ELEMENT_ID__=-1,a})();function j1(a,l){Qp(uc(a)[1],Rn())}function ay(a){let l=function Z1(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let p;if(Fr(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ne(903,"");p=l.\u0275dir}if(p){if(c){d.push(p);const b=a;b.inputs=Iw(a.inputs),b.declaredInputs=Iw(a.declaredInputs),b.outputs=Iw(a.outputs);const C=p.hostBindings;C&&Eo(a,C);const T=p.viewQuery,D=p.contentQueries;if(T&&ZM(a,T),D&&eo(a,D),ce(a.inputs,p.inputs),ce(a.declaredInputs,p.declaredInputs),ce(a.outputs,p.outputs),Fr(p)&&p.data.animation){const S=a.data;S.animation=(S.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let b=0;b<m.length;b++){const C=m[b];C&&C.ngInherit&&C(a),C===ay&&(c=!1)}}l=Object.getPrototypeOf(l)}!function q1(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=fs(p.hostAttrs,c=fs(c,p.hostAttrs))}}(d)}function Iw(a){return a===zn?{}:a===mt?[]:a}function ZM(a,l){const c=a.viewQuery;a.viewQuery=c?(d,p)=>{l(d,p),c(d,p)}:l}function eo(a,l){const c=a.contentQueries;a.contentQueries=c?(d,p,m)=>{l(d,p,m),c(d,p,m)}:l}function Eo(a,l){const c=a.hostBindings;a.hostBindings=c?(d,p)=>{l(d,p),c(d,p)}:l}let _g=null;function Tc(){if(!_g){const a=zt.Symbol;if(a&&a.iterator)_g=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(_g=d)}}}return _g}function Mh(a){return!!ly(a)&&(Array.isArray(a)||!(a instanceof Map)&&Tc()in a)}function ly(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function rs(a,l,c){return a[l]=c}function ui(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function qr(a,l,c,d){const p=ui(a,l,c);return ui(a,l+1,d)||p}function to(a,l,c,d,p,m){const b=qr(a,l,c,d);return qr(a,l+2,p,m)||b}function Qn(a,l,c,d){const p=Ae();return ui(p,tl(),l)&&(Zt(),ra(Kn(),p,a,l,c,d)),Qn}function io(a,l,c,d){return ui(a,tl(),c)?l+ye(c)+d:Yt}function Dw(a,l,c,d,p,m,b,C){const T=Ae(),D=Zt(),S=a+20,L=D.firstCreatePass?function z1(a,l,c,d,p,m,b,C,T){const D=l.consts,S=Nu(l,a,4,b||null,ke(D,C));cg(l,c,S,ke(D,T)),Qp(l,S);const L=S.tViews=og(2,S,d,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,D);return null!==l.queries&&(l.queries.template(l,S),L.queries=l.queries.embeddedTView(S)),S}(S,D,T,l,c,d,p,m,b):D.data[S];Pi(L,!1);const z=T[11].createComment("");$f(D,T,z,L),Dt(z,T),ug(T,T[S]=ow(z,T,z,L)),cs(L)&&sg(D,T,L),null!=b&&Y_(T,L,C)}function Sw(a){return Xr(function tu(){return Ke.lFrame.contextLView}(),20+a)}function wl(a,l=Et.Default){const c=Ae();return null===c?Gi(a,l):ms(Rn(),c,re(a),l)}function Zu(){throw new Error("invalid")}function Eg(a,l,c){const d=Ae();return ui(d,tl(),l)&&Is(Zt(),Kn(),d,a,l,d[11],c,!1),Eg}function qu(a,l,c,d,p){const b=p?"class":"style";N1(a,c,l.inputs[b],b,d)}function Gu(a,l,c,d){const p=Ae(),m=Zt(),b=20+a,C=p[11],T=p[b]=Ih(C,l,function qE(){return Ke.lFrame.currentNamespace}()),D=m.firstCreatePass?function ex(a,l,c,d,p,m,b){const C=l.consts,D=Nu(l,a,2,p,ke(C,m));return cg(l,c,D,ke(C,b)),null!==D.attrs&&bc(D,D.attrs,!1),null!==D.mergedAttrs&&bc(D,D.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,D),D}(b,m,p,0,l,c,d):m.data[b];Pi(D,!0);const S=D.mergedAttrs;null!==S&&Kd(C,T,S);const L=D.classes;null!==L&&k_(C,T,L);const z=D.styles;return null!==z&&Ub(C,T,z),64!=(64&D.flags)&&$f(m,p,T,D),0===function Ai(){return Ke.lFrame.elementDepthCount}()&&Dt(T,p),function kn(){Ke.lFrame.elementDepthCount++}(),cs(D)&&(sg(m,p,D),Wb(m,D,p)),null!==d&&Y_(p,D),Gu}function Dc(){let a=Rn();Zo()?$d():(a=a.parent,Pi(a,!1));const l=a;!function Ut(){Ke.lFrame.elementDepthCount--}();const c=Zt();return c.firstCreatePass&&(Qp(c,a),co(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function ef(a){return 0!=(16&a.flags)}(l)&&qu(c,l,Ae(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function gb(a){return 0!=(32&a.flags)}(l)&&qu(c,l,Ae(),l.stylesWithoutHost,!1),Dc}function xg(a,l,c,d){return Gu(a,l,c,d),Dc(),xg}function Dg(a,l,c){const d=Ae(),p=Zt(),m=a+20,b=p.firstCreatePass?function nx(a,l,c,d,p){const m=l.consts,b=ke(m,d),C=Nu(l,a,8,"ng-container",b);return null!==b&&bc(C,b,!0),cg(l,c,C,ke(m,p)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,p,d,l,c):p.data[m];Pi(b,!0);const C=d[m]=d[11].createComment("");return $f(p,d,C,b),Dt(C,d),cs(b)&&(sg(p,d,b),Wb(p,b,d)),null!=c&&Y_(d,b),Dg}function Sg(){let a=Rn();const l=Zt();return Zo()?$d():(a=a.parent,Pi(a,!1)),l.firstCreatePass&&(Qp(l,a),co(a)&&l.queries.elementEnd(a)),Sg}function $u(a,l,c){return Dg(a,l,c),Sg(),$u}function Gw(){return Ae()}function hy(a){return!!a&&"function"==typeof a.then}function $w(a){return!!a&&"function"==typeof a.subscribe}const zw=$w;function py(a,l,c,d){const p=Ae(),m=Zt(),b=Rn();return function Ag(a,l,c,d,p,m,b,C){const T=cs(d),S=a.firstCreatePass&&k1(a),L=l[8],z=ey(l);let ne=!0;if(3&d.type||C){const et=ji(d,l),pt=C?C(et):et,Me=z.length,St=C?hn=>C(Dn(hn[d.index])):d.index;if(Fn(c)){let hn=null;if(!C&&T&&(hn=function gy(a,l,c,d){const p=a.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const b=p[m];if(b===c&&p[m+1]===d){const C=l[7],T=p[m+2];return C.length>T?C[T]:null}"string"==typeof b&&(m+=2)}return null}(a,l,p,d.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=m,hn.__ngLastListenerFn__=m,ne=!1;else{m=Cl(d,l,L,m,!1);const Ln=c.listen(pt,p,m);z.push(m,Ln),S&&S.push(p,St,Me,Me+1)}}else m=Cl(d,l,L,m,!0),pt.addEventListener(p,m,b),z.push(m),S&&S.push(p,St,Me,b)}else m=Cl(d,l,L,m,!1);const xe=d.outputs;let We;if(ne&&null!==xe&&(We=xe[p])){const et=We.length;if(et)for(let pt=0;pt<et;pt+=2){const Ds=l[We[pt]][We[pt+1]].subscribe(m),Rc=z.length;z.push(m,Ds),S&&S.push(p,d.index,Rc,-(Rc+1))}}}(m,p,p[11],b,a,l,!!c,d),py}function ca(a,l,c,d){try{return!1!==c(d)}catch(p){return R1(a,p),!1}}function Cl(a,l,c,d,p){return function m(b){if(b===Function)return d;const C=2&a.flags?R(a.index,l):l;0==(32&l[2])&&cw(C);let T=ca(l,0,d,b),D=m.__ngNextListenerFn__;for(;D;)T=ca(l,0,D,b)&&T,D=D.__ngNextListenerFn__;return p&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function my(a=1){return function qo(a){return(Ke.lFrame.contextLView=function Jm(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ke.lFrame.contextLView))[8]}(a)}function Ww(a,l){let c=null;const d=function t1(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===d?Th(a,m,!0):s1(d,m))return p}else c=p}return c}function Kw(a){const l=Ae()[16][6];if(!l.projection){const d=l.projection=Da(a?a.length:1,null),p=d.slice();let m=l.child;for(;null!==m;){const b=a?Ww(m,a):0;null!==b&&(p[b]?p[b].projectionNext=m:d[b]=m,p[b]=m),m=m.next}}}function Za(a,l=0,c){const d=Ae(),p=Zt(),m=Nu(p,20+a,16,null,c||null);null===m.projection&&(m.projection=l),$d(),64!=(64&m.flags)&&function Hr(a,l,c){Vb(l[11],0,l,c,Zf(a,c,l),P_(c.parent||l[6],c,l))}(p,d,m)}function Pg(a,l,c){return Og(a,"",l,"",c),Pg}function Og(a,l,c,d,p){const m=Ae(),b=io(m,l,c,d);return b!==Yt&&Is(Zt(),Kn(),m,a,b,m[11],p,!1),Og}function Fh(a,l,c,d,p){const m=a[c+1],b=null===l;let C=d?wo(m):Ba(m),T=!1;for(;0!==C&&(!1===T||b);){const S=a[C+1];Vh(a[C],l)&&(T=!0,a[C+1]=d?xh(S):U_(S)),C=d?wo(S):Ba(S)}T&&(a[c+1]=d?U_(m):xh(m))}function Vh(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ll(a,l)>=0}const bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vy(a){return a.substring(bi.key,bi.keyEnd)}function Ng(a,l){const c=bi.textEnd;return c===l?-1:(l=bi.keyEnd=function Lg(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,bi.key=l,c),Sc(a,l,c))}function Sc(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function wy(a,l,c){return gr(a,l,c,!1),wy}function Cy(a,l){return gr(a,l,null,!0),Cy}function qa(a){Do(es,da,a,!0)}function da(a,l){for(let c=function sx(a){return function Xw(a){bi.key=0,bi.keyEnd=0,bi.value=0,bi.valueEnd=0,bi.textEnd=a.length}(a),Ng(a,Sc(a,0,bi.textEnd))}(l);c>=0;c=Ng(l,c))es(a,vy(l),!0)}function gr(a,l,c,d){const p=Ae(),m=Zt(),b=ps(2);m.firstUpdatePass&&tC(m,a,b,d),l!==Yt&&ui(p,b,l)&&iC(m,m.data[ur()],p,p[11],a,p[b+1]=function ro(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=_e(yo(a)))),a}(l,c),d,b)}function Do(a,l,c,d){const p=Zt(),m=ps(2);p.firstUpdatePass&&tC(p,null,m,d);const b=Ae();if(c!==Yt&&ui(b,m,c)){const C=p.data[ur()];if(Ty(C,d)&&!eC(p,m)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(c=me(T,c||"")),qu(p,C,b,c,d)}else!function nC(a,l,c,d,p,m,b,C){p===Yt&&(p=mt);let T=0,D=0,S=0<p.length?p[0]:null,L=0<m.length?m[0]:null;for(;null!==S||null!==L;){const z=T<p.length?p[T+1]:void 0,ne=D<m.length?m[D+1]:void 0;let We,xe=null;S===L?(T+=2,D+=2,z!==ne&&(xe=L,We=ne)):null===L||null!==S&&S<L?(T+=2,xe=S):(D+=2,xe=L,We=ne),null!==xe&&iC(a,l,c,d,xe,We,b,C),S=T<p.length?p[T]:null,L=D<m.length?m[D]:null}}(p,C,b,b[11],b[m+1],b[m+1]=function hx(a,l,c){if(null==c||""===c)return mt;const d=[],p=yo(c);if(Array.isArray(p))for(let m=0;m<p.length;m++)a(d,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&a(d,m,p[m]);else"string"==typeof p&&l(d,p);return d}(a,l,c),d,m)}}function eC(a,l){return l>=a.expandoStartIndex}function tC(a,l,c,d){const p=a.data;if(null===p[c+1]){const m=p[ur()],b=eC(a,c);Ty(m,d)&&null===l&&!b&&(l=!1),l=function ux(a,l,c,d){const p=function ba(a){const l=Ke.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let m=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(c=Pc(c=Ac(null,a,l,c,d),l.attrs,d),m=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==p)if(c=Ac(p,a,l,c,d),null===m){let T=function Uh(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Ba(d))return a[wo(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=Ac(null,a,l,T[1],d),T=Pc(T,l.attrs,d),function Bh(a,l,c,d){a[wo(c?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else m=function dx(a,l,c){let d;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)d=Pc(d,a[m].hostAttrs,c);return Pc(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(p,m,l,d),function ix(a,l,c,d,p,m){let b=m?l.classBindings:l.styleBindings,C=wo(b),T=Ba(b);a[d]=c;let S,D=!1;if(Array.isArray(c)){const L=c;S=L[1],(null===S||ll(L,S)>0)&&(D=!0)}else S=c;if(p)if(0!==T){const z=wo(a[C+1]);a[d+1]=Eh(z,C),0!==z&&(a[z+1]=B_(a[z+1],d)),a[C+1]=function Zb(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Eh(C,0),0!==C&&(a[C+1]=B_(a[C+1],d)),C=d;else a[d+1]=Eh(T,0),0===C?C=d:a[T+1]=B_(a[T+1],d),T=d;D&&(a[d+1]=U_(a[d+1])),Fh(a,S,d,!0),Fh(a,S,d,!1),function rx(a,l,c,d,p){const m=p?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&ll(m,l)>=0&&(c[d+1]=xh(c[d+1]))}(l,S,a,d,m),b=Eh(C,T),m?l.classBindings=b:l.styleBindings=b}(p,m,l,c,b,d)}}function Ac(a,l,c,d,p){let m=null;const b=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<b&&(m=l[C],d=Pc(d,m.hostAttrs,p),m!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function Pc(a,l,c){const d=c?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const b=l[m];"number"==typeof b?p=b:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),es(a,b,!!c||l[++m]))}return void 0===a?null:a}function iC(a,l,c,d,p,m,b,C){if(!(3&l.type))return;const T=a.data,D=T[C+1];Wu(function ia(a){return 1==(1&a)}(D)?rC(T,l,c,p,Ba(D),b):void 0)||(Wu(m)||function V_(a){return 2==(2&a)}(D)&&(m=rC(T,null,c,p,C,b)),function XE(a,l,c,d,p){const m=Fn(a);if(l)p?m?a.addClass(c,d):c.classList.add(d):m?a.removeClass(c,d):c.classList.remove(d);else{let b=-1===d.indexOf("-")?void 0:x.DashCase;if(null==p)m?a.removeStyle(c,d,b):c.style.removeProperty(d);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),b|=x.Important),m?a.setStyle(c,d,p,b):c.style.setProperty(d,p,C?"important":"")}}}(d,b,va(ur(),c),p,m))}function rC(a,l,c,d,p,m){const b=null===l;let C;for(;p>0;){const T=a[p],D=Array.isArray(T),S=D?T[1]:T,L=null===S;let z=c[p+1];z===Yt&&(z=L?mt:void 0);let ne=L?gu(z,d):S===d?z:void 0;if(D&&!Wu(ne)&&(ne=gu(T,d)),Wu(ne)&&(C=ne,b))return C;const xe=a[p+1];p=b?wo(xe):Ba(xe)}if(null!==l){let T=m?l.residualClasses:l.residualStyles;null!=T&&(C=gu(T,d))}return C}function Wu(a){return void 0!==a}function Ty(a,l){return 0!=(a.flags&(l?16:32))}function Ey(a,l=""){const c=Ae(),d=Zt(),p=a+20,m=d.firstCreatePass?Nu(d,p,1,l,null):d.data[p],b=c[p]=function Ch(a,l){return Fn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);$f(d,c,b,m),Pi(m,!1)}function Ku(a){return Oc("",a,""),Ku}function Oc(a,l,c){const d=Ae(),p=io(d,a,l,c);return p!==Yt&&fl(d,ur(),p),Oc}function xy(a,l,c,d,p){const m=Ae(),b=function Uu(a,l,c,d,p,m){const C=qr(a,ho(),c,p);return ps(2),C?l+ye(c)+d+ye(p)+m:Yt}(m,a,l,c,d,p);return b!==Yt&&fl(m,ur(),b),xy}function Yu(a,l,c,d,p,m,b,C,T,D,S,L,z){const ne=Ae(),xe=function Ec(a,l,c,d,p,m,b,C,T,D,S,L,z,ne){const xe=ho();let We=to(a,xe,c,p,b,T);return We=qr(a,xe+4,S,z)||We,ps(6),We?l+ye(c)+d+ye(p)+m+ye(b)+C+ye(T)+D+ye(S)+L+ye(z)+ne:Yt}(ne,a,l,c,d,p,m,b,C,T,D,S,L,z);return xe!==Yt&&fl(ne,ur(),xe),Yu}function Ay(a,l,c){Do(es,da,io(Ae(),a,l,c),!0)}const Il=void 0;var Tx=["en",[["a","p"],["AM","PM"],Il],[["AM","PM"],Il,Il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Il,"{1} 'at' {0}",Il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ix(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Ju={};function Oy(a){const l=function bC(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=My(l);if(c)return c;const d=l.split("-")[0];if(c=My(d),c)return c;if("en"===d)return Tx;throw new Error(`Missing locale data for the locale "${a}".`)}function xx(a){return Oy(a)[Mt.PluralCase]}function My(a){return a in Ju||(Ju[a]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[a]),Ju[a]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Hg="en-US";let wC=Hg;function ha(a,l,c,d,p){if(a=re(a),Array.isArray(a))for(let m=0;m<a.length;m++)ha(a[m],l,c,d,p);else{const m=Zt(),b=Ae();let C=Vu(a)?a:re(a.provide),T=hw(a);const D=Rn(),S=1048575&D.providerIndexes,L=D.directiveStart,z=D.providerIndexes>>20;if(Vu(a)||!a.multi){const ne=new au(T,p,wl),xe=rd(C,l,p?S:S+z,L);-1===xe?(Ca(gs(D,b),m,C),Kh(m,a,l.length),l.push(C),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),c.push(ne),b.push(ne)):(c[xe]=ne,b[xe]=ne)}else{const ne=rd(C,l,S+z,L),xe=rd(C,l,S,S+z),We=ne>=0&&c[ne],et=xe>=0&&c[xe];if(p&&!et||!p&&!We){Ca(gs(D,b),m,C);const pt=function GC(a,l,c,d,p){const m=new au(a,c,wl);return m.multi=[],m.index=l,m.componentProviders=0,Zy(m,p,d&&!c),m}(p?$g:qC,c.length,p,d,T);!p&&et&&(c[xe].providerFactory=pt),Kh(m,a,l.length,0),l.push(C),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),c.push(pt),b.push(pt)}else Kh(m,a,ne>-1?ne:xe,Zy(c[p?xe:ne],T,!p&&d));!p&&d&&et&&c[xe].componentProviders++}}}function Kh(a,l,c,d){const p=Vu(l),m=function U1(a){return!!a.useClass}(l);if(p||m){const T=(m?re(l.useClass):l).prototype.ngOnDestroy;if(T){const D=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const S=D.indexOf(c);-1===S?D.push(c,[d,T]):D[S+1].push(d,T)}else D.push(c,T)}}}function Zy(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function rd(a,l,c,d){for(let p=c;p<d;p++)if(l[p]===a)return p;return-1}function qC(a,l,c,d){return zg(this.multi,[])}function $g(a,l,c,d){const p=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=un(c,c[1],this.providerFactory.index,d);m=C.slice(0,b),zg(p,m);for(let T=b;T<C.length;T++)m.push(C[T])}else m=[],zg(p,m);return m}function zg(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Wg(a,l=[]){return c=>{c.providersResolver=(d,p)=>function Gg(a,l,c){const d=Zt();if(d.firstCreatePass){const p=Fr(a);ha(c,d.data,d.blueprint,p,!0),ha(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class Kg{}class Ni{resolveComponentFactory(l){throw function Gy(a){const l=Error(`No component factory found for ${_e(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Yg=(()=>{class a{}return a.NULL=new Ni,a})();function iD(){return od(Rn(),Ae())}function od(a,l){return new Yh(ji(a,l))}let Yh=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=iD,a})();function rD(a){return a instanceof Yh?a.nativeElement:a}class $C{}let sD=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function El(){const a=Ae(),c=R(Rn().index,a);return function oD(a){return a[11]}(xi(c)?c:a)}(),a})(),aD=(()=>{class a{}return a.\u0275prov=_n({token:a,providedIn:"root",factory:()=>null}),a})();class zC{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const WC=new zC("13.3.0"),$y={};function Qg(a,l,c,d,p=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(Dn(m)),br(m))for(let C=10;C<m.length;C++){const T=m[C],D=T[1].firstChild;null!==D&&Qg(T[1],T,D,d)}const b=c.type;if(8&b)Qg(a,l,c.child,d);else if(32&b){const C=J(c,l);let T;for(;T=C();)d.push(T)}else if(16&b){const C=Wf(l,c);if(Array.isArray(C))d.push(...C);else{const T=lt(l[16]);Qg(T[1],T,C,d,!0)}}c=p?c.projectionNext:c.next}return d}class Qh{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Qg(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(br(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(jf(l,d),Tr(c,d))}this._attachedToViewContainer=!1}S_(this._lView[1],this._lView)}onDestroy(l){Jb(this._lView[1],this._lView,null,l)}markForCheck(){cw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function MM(a,l,c){iu(!0);try{uw(a,l,c)}finally{iu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D_(a,l){Va(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=l}}class lD extends Qh{constructor(l){super(l),this._view=l}detectChanges(){M1(this._view)}checkNoChanges(){!function kM(a){iu(!0);try{M1(a)}finally{iu(!1)}}(this._view)}get context(){return null}}class KC extends Yg{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=bt(l);return new YC(c,this.ngModule)}}function zy(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class YC extends Kg{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function a1(a){return a.map(o1).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return zy(this.componentDef.inputs)}get outputs(){return zy(this.componentDef.outputs)}create(l,c,d,p){const m=(p=p||this.ngModule)?function cD(a,l){return{get:(c,d,p)=>{const m=a.get(c,$y,p);return m!==$y||d===$y?m:l.get(c,d,p)}}}(l,p.injector):l,b=m.get($C,Xa),C=m.get(aD,null),T=b.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=d?function Qb(a,l,c){if(Fn(a))return a.selectRootElement(l,c===en.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Ih(b.createRenderer(null,this.componentDef),D,function Jg(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(D)),L=this.componentDef.onPush?576:528,z=function mg(a,l){return{components:[],scheduler:a||Pb,clean:RM,playerHandler:l||null,flags:0}}(),ne=og(0,null,null,1,0,null,null,null,null,null),xe=Zr(null,ne,z,L,null,null,b,T,C,m);let We,et;nl(xe);try{const pt=function oy(a,l,c,d,p,m){const b=c[1];c[20]=a;const T=Nu(b,20,2,"#host",null),D=T.mergedAttrs=l.hostAttrs;null!==D&&(bc(T,D,!0),null!==a&&(Kd(p,a,D),null!==T.classes&&k_(p,a,T.classes),null!==T.styles&&Ub(p,a,T.styles)));const S=d.createRenderer(a,l),L=Zr(c,Kb(l),null,l.onPush?64:16,c[20],T,d,S,m||null,null);return b.firstCreatePass&&(Ca(gs(T,c),b,l.type),S1(b,T),iw(T,c.length,1)),ug(c,L),c[20]=L}(S,this.componentDef,xe,b,T);if(S)if(d)Kd(T,S,["ng-version",WC.full]);else{const{attrs:Me,classes:St}=function l1(a){const l=[],c=[];let d=1,p=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===p?""!==m&&l.push(m,a[++d]):8===p&&c.push(m);else{if(!er(p))break;p=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Me&&Kd(T,S,Me),St&&St.length>0&&k_(T,S,St.join(" "))}if(et=Ho(ne,20),void 0!==c){const Me=et.projection=[];for(let St=0;St<this.ngContentSelectors.length;St++){const hn=c[St];Me.push(null!=hn?Array.from(hn):null)}}We=function Cw(a,l,c,d,p){const m=c[1],b=function nw(a,l,c){const d=Rn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),rw(a,d,l,Lu(a,l,1,null),c));const p=un(l,a,d.directiveStart,d);Dt(p,l);const m=ji(d,l);return m&&Dt(m,l),p}(m,c,l);if(d.components.push(b),a[8]=b,p&&p.forEach(T=>T(b,l)),l.contentQueries){const T=Rn();l.contentQueries(1,b,T.directiveStart)}const C=Rn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(qs(C.index),E1(c[1],C,0,C.directiveStart,C.directiveEnd,l),D1(l,b)),b}(pt,this.componentDef,xe,z,[j1]),Sh(ne,xe,null)}finally{zl()}return new ak(this.componentType,We,od(et,xe),xe,et)}}class ak extends class qy{}{constructor(l,c,d,p,m){super(),this.location=d,this._rootLView=p,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new lD(p),this.componentType=l}get injector(){return new Ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class ad{}class QC{}const ld=new Map;class cd extends ad{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new KC(this);const d=Qt(l);this._bootstrapComponents=bo(d.bootstrap),this._r3Injector=ny(l,c,[{provide:ad,useValue:this},{provide:Yg,useValue:this.componentFactoryResolver}],_e(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=To.THROW_IF_NOT_FOUND,d=Et.Default){return l===To||l===ad||l===dw?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Yy extends QC{constructor(l){super(),this.moduleType=l,null!==Qt(l)&&function dD(a){const l=new Set;!function c(d){const p=Qt(d,!0),m=p.id;null!==m&&(function Ky(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${_e(l)} vs ${_e(l.name)}`)}(m,ld.get(m),d),ld.set(m,d));const b=bo(p.imports);for(const C of b)l.has(C)||(l.add(C),c(C))}(a)}(l)}create(l){return new cd(this.moduleType,l)}}function Qy(a,l,c){const d=Oi()+a,p=Ae();return p[d]===Yt?rs(p,d,c?l.call(c):l()):function ml(a,l){return a[l]}(p,d)}function XC(a,l,c,d){return nI(Ae(),Oi(),a,l,c,d)}function Jy(a,l,c,d,p){return Xh(Ae(),Oi(),a,l,c,d,p)}function pD(a,l,c,d,p,m){return iI(Ae(),Oi(),a,l,c,d,p,m)}function eI(a,l,c,d,p,m,b){return function rI(a,l,c,d,p,m,b,C,T){const D=l+c;return to(a,D,p,m,b,C)?rs(a,D+4,T?d.call(T,p,m,b,C):d(p,m,b,C)):Jh(a,D+4)}(Ae(),Oi(),a,l,c,d,p,m,b)}function Jh(a,l){const c=a[l];return c===Yt?void 0:c}function nI(a,l,c,d,p,m){const b=l+c;return ui(a,b,p)?rs(a,b+1,m?d.call(m,p):d(p)):Jh(a,b+1)}function Xh(a,l,c,d,p,m,b){const C=l+c;return qr(a,C,p,m)?rs(a,C+2,b?d.call(b,p,m):d(p,m)):Jh(a,C+2)}function iI(a,l,c,d,p,m,b,C){const T=l+c;return function kh(a,l,c,d,p){const m=qr(a,l,c,d);return ui(a,l+2,p)||m}(a,T,p,m,b)?rs(a,T+3,C?d.call(C,p,m,b):d(p,m,b)):Jh(a,T+3)}function gD(a,l){const c=Zt();let d;const p=a+20;c.firstCreatePass?(d=function ev(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[p]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,d.onDestroy)):d=c.data[p];const m=d.factory||(d.factory=Xi(d.type)),b=Hn(wl);try{const C=sl(!1),T=m();return sl(C),function W1(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Ae(),p,T),T}finally{Hn(b)}}function oI(a,l,c){const d=a+20,p=Ae(),m=Xr(p,d);return ud(p,d)?nI(p,Oi(),l,m.transform,c,m):m.transform(c)}function ep(a,l,c,d){const p=a+20,m=Ae(),b=Xr(m,p);return ud(m,p)?Xh(m,Oi(),l,b.transform,c,d,b):b.transform(c,d)}function aI(a,l,c,d,p){const m=a+20,b=Ae(),C=Xr(b,m);return ud(b,m)?iI(b,Oi(),l,C.transform,c,d,p,C):C.transform(c,d,p)}function ud(a,l){return a[1].data[l].pure}function nv(a){return l=>{setTimeout(a,void 0,l)}}const Es=class tv extends r.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var p,m,b;let C=l,T=c||(()=>null),D=d;if(l&&"object"==typeof l){const L=l;C=null===(p=L.next)||void 0===p?void 0:p.bind(L),T=null===(m=L.error)||void 0===m?void 0:m.bind(L),D=null===(b=L.complete)||void 0===b?void 0:b.bind(L)}this.__isAsync&&(T=nv(T),C&&(C=nv(C)),D&&(D=nv(D)));const S=super.subscribe({next:C,error:T,complete:D});return l instanceof te.w0&&l.add(S),S}};function tp(){return this._results[Tc()]()}class np{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Tc(),d=np.prototype;d[c]||(d[c]=tp)}get changes(){return this._changes||(this._changes=new Es)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const p=_s(l);(this._changesDetected=!function fu(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],m=l[d];if(c&&(p=c(p),m=c(m)),m!==p)return!1}return!0}(d._results,p,c))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let dd=(()=>{class a{}return a.__NG_ELEMENT_ID__=lI,a})();const uk=dd,hd=class extends uk{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=Zr(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Sh(c,d,l),new Qh(d)}};function lI(){return iv(Rn(),Ae())}function iv(a,l){return 4&a.type?new hd(l,a,od(a,l)):null}let xl=(()=>{class a{}return a.__NG_ELEMENT_ID__=yD,a})();function yD(){return pd(Rn(),Ae())}const ip=xl,rp=class extends ip{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new Ia(this._hostTNode,this._hostLView)}get parentInjector(){const l=fo(this._hostTNode,this._hostLView);if(nf(l)){const c=Kt(l,this._hostLView),d=qi(l);return new Ia(c[1].data[d+8],c)}return new Ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Dl(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const p=l.createEmbeddedView(c||{});return this.insert(p,d),p}createComponent(l,c,d,p,m){const b=l&&!function Cr(a){return"function"==typeof a}(l);let C;if(b)C=c;else{const L=c||{};C=L.index,d=L.injector,p=L.projectableNodes,m=L.ngModuleRef}const T=b?l:new YC(bt(l)),D=d||this.parentInjector;if(!m&&null==T.ngModule){const z=(b?D:this.parentInjector).get(ad,null);z&&(m=z)}const S=T.create(D,p,void 0,m);return this.insert(S.hostView,C),S}insert(l,c){const d=l._lView,p=d[1];if(function he(a){return br(a[3])}(d)){const S=this.indexOf(l);if(-1!==S)this.detach(S);else{const L=d[3],z=new rp(L,L[6],L[3]);z.detach(z.indexOf(l))}}const m=this._adjustIndex(c),b=this._lContainer;!function pr(a,l,c,d){const p=10+d,m=c.length;d>0&&(c[p-1][4]=l),d<m-10?(l[4]=c[p],yi(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const b=l[17];null!==b&&c!==b&&function qt(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(b,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(p,d,b,m);const C=Kf(m,b),T=d[11],D=Gf(T,b[7]);return null!==D&&function Hf(a,l,c,d,p,m){d[0]=p,d[6]=l,Va(a,d,c,1,p,m)}(p,b[6],T,d,D,C),l.attachToViewContainerRef(),yi(rv(b),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Dl(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=jf(this._lContainer,c);d&&(Tr(rv(this._lContainer),c),S_(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=jf(this._lContainer,c);return d&&null!=Tr(rv(this._lContainer),c)?new Qh(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function Dl(a){return a[8]}function rv(a){return a[8]||(a[8]=[])}function pd(a,l){let c;const d=l[a.index];if(br(d))c=d;else{let p;if(8&a.type)p=Dn(d);else{const m=l[11];p=m.createComment("");const b=ji(a,l);gc(m,Gf(m,b),p,function QE(a,l){return Fn(a)?a.nextSibling(l):l.nextSibling}(m,b),!1)}l[a.index]=c=ow(d,l,p,a),ug(l,c)}return new rp(c,a,l)}class cI{constructor(l){this.queryList=l,this.matches=null}clone(){return new cI(this.queryList)}setDirty(){this.queryList.setDirty()}}class fd{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let m=0;m<d;m++){const b=c.getByIndex(m);p.push(this.queries[b.indexInDeclarationView].clone())}return new fd(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==gI(l,c).matches&&this.queries[c].setDirty()}}class wD{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class ov{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const p=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,p);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new ov(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class av{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new av(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const m=d[p];this.matchTNodeWithReadOption(l,c,CD(c,m)),this.matchTNodeWithReadOption(l,c,du(c,l,m,!1,!1))}else d===dd?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,du(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Yh||p===xl||p===dd&&4&c.type)this.addMatch(c.index,-2);else{const m=du(c,l,p,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function CD(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function uI(a,l,c,d){return-1===c?function ID(a,l){return 11&a.type?od(a,l):4&a.type?iv(a,l):null}(l,a):-2===c?function dk(a,l,c){return c===Yh?od(l,a):c===dd?iv(l,a):c===xl?pd(l,a):void 0}(a,l,d):un(a,a[1],c,l)}function lv(a,l,c,d){const p=l[19].queries[d];if(null===p.matches){const m=a.data,b=c.matches,C=[];for(let T=0;T<b.length;T+=2){const D=b[T];C.push(D<0?null:uI(l,m[D],b[T+1],c.metadata.read))}p.matches=C}return p.matches}function cv(a,l,c,d){const p=a.queries.getByIndex(c),m=p.matches;if(null!==m){const b=lv(a,l,p,c);for(let C=0;C<m.length;C+=2){const T=m[C];if(T>0)d.push(b[C/2]);else{const D=m[C+1],S=l[-T];for(let L=10;L<S.length;L++){const z=S[L];z[17]===z[3]&&cv(z[1],z,D,d)}if(null!==S[9]){const L=S[9];for(let z=0;z<L.length;z++){const ne=L[z];cv(ne[1],ne,D,d)}}}}}return d}function dI(a){const l=Ae(),c=Zt(),d=Qm();$l(d+1);const p=gI(c,d);if(a.dirty&&N(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const m=p.crossesNgTemplate?cv(c,l,d,[]):lv(c,l,p,d);a.reset(m,rD),a.notifyOnChanges()}return!0}return!1}function hI(a,l,c){const d=Zt();d.firstCreatePass&&(xD(d,new wD(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),ED(d,Ae(),l)}function TD(a,l,c,d){const p=Zt();if(p.firstCreatePass){const m=Rn();xD(p,new wD(l,c,d),m.index),function fI(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(p,a),2==(2&c)&&(p.staticContentQueries=!0)}ED(p,Ae(),c)}function pI(){return function hk(a,l){return a[19].queries[l].queryList}(Ae(),Qm())}function ED(a,l,c){const d=new np(4==(4&c));Jb(a,l,d,d.destroy),null===l[19]&&(l[19]=new fd),l[19].queries.push(new cI(d))}function xD(a,l,c){null===a.queries&&(a.queries=new ov),a.queries.track(new av(l,c))}function gI(a,l){return a.queries.getByIndex(l)}function mI(a,l){return iv(a,l)}function sm(...a){}const AI=new Zn("Application Initializer");let mv=(()=>{class a{constructor(c){this.appInits=c,this.resolve=sm,this.reject=sm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(hy(m))c.push(m);else if(zw(m)){const b=new Promise((C,T)=>{m.subscribe({complete:C,error:T})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(p=>{this.reject(p)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Gi(AI,8))},a.\u0275prov=_n({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const PI=new Zn("AppId",{providedIn:"root",factory:function OI(){return`${_v()}${_v()}${_v()}`}});function _v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const MI=new Zn("Platform Initializer"),kI=new Zn("Platform ID"),yv=new Zn("appBootstrapListener");let RI=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();const vv=new Zn("LocaleId",{providedIn:"root",factory:()=>wu(vv,Et.Optional|Et.SkipSelf)||function FD(){return"undefined"!=typeof $localize&&$localize.locale||Hg}()}),VD=new Zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class UD{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let BD=(()=>{class a{compileModuleSync(c){return new Yy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=bo(Qt(c).declarations).reduce((b,C)=>{const T=bt(C);return T&&b.push(new YC(T)),b},[]);return new UD(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=_n({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const jD=(()=>Promise.resolve(0))();function bv(a){"undefined"==typeof Zone?jD.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class So{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&c,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function ZD(){let a=zt.requestAnimationFrame,l=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function $D(a){const l=()=>{!function GD(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Cv(a),a.isCheckStableRunning=!0,wv(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Cv(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,p,m,b,C)=>{try{return NI(a),c.invokeTask(p,m,b,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),LI(a)}},onInvoke:(c,d,p,m,b,C,T)=>{try{return NI(a),c.invoke(p,m,b,C,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),LI(a)}},onHasTask:(c,d,p,m)=>{c.hasTask(p,m),d===p&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Cv(a),wv(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,p,m)=>(c.handleError(p,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(So.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,p){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+p,l,qD,sm,sm);try{return m.runTask(b,c,d)}finally{m.cancelTask(b)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const qD={};function wv(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Cv(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function NI(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function LI(a){a._nesting--,wv(a)}class zD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,p){return l.apply(c,d)}}let vd=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),bv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,p){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:p})}whenStable(c,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,p){return[]}}return a.\u0275fac=function(c){return new(c||a)(Gi(So))},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})(),om=(()=>{class a{constructor(){this._applications=new Map,VI.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return VI.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();class am{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function FI(a){VI=a}let Ao,VI=new am;const WD=new Zn("AllowMultipleToken");class kk{constructor(l,c){this.name=l,this.token=c}}function YD(a,l,c=[]){const d=`Platform: ${l}`,p=new Zn(d);return(m=[])=>{let b=Iv();if(!b||b.injector.get(WD,!1))if(a)a(c.concat(m).concat({provide:p,useValue:!0}));else{const C=c.concat(m).concat({provide:p,useValue:!0},{provide:Ri,useValue:"platform"});!function KD(a){if(Ao&&!Ao.destroyed&&!Ao.injector.get(WD,!1))throw new Ne(400,"");Ao=a.get(Tv);const l=a.get(MI,null);l&&l.forEach(c=>c())}(To.create({providers:C,name:d}))}return function bd(a){const l=Iv();if(!l)throw new Ne(401,"");return l}()}}function Iv(){return Ao&&!Ao.destroyed?Ao:null}let Tv=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function QD(a,l){let c;return c="noop"===a?new zD:("zone.js"===a?void 0:a)||new So({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:So,useValue:C}];return C.run(()=>{const D=To.create({providers:T,parent:this.injector,name:c.moduleType.name}),S=c.create(D),L=S.injector.get(dc,null);if(!L)throw new Ne(402,"");return C.runOutsideAngular(()=>{const z=C.onError.subscribe({next:ne=>{L.handleError(ne)}});S.onDestroy(()=>{xv(this._modules,S),z.unsubscribe()})}),function JD(a,l,c){try{const d=c();return hy(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(L,C,()=>{const z=S.injector.get(mv);return z.runInitializers(),z.donePromise.then(()=>(function Ox(a){at(a,"Expected localeId to be defined"),"string"==typeof a&&(wC=a.toLowerCase().replace(/_/g,"-"))}(S.injector.get(vv,Hg)||Hg),this._moduleDoBootstrap(S),S))})})}bootstrapModule(c,d=[]){const p=UI({},d);return function Ok(a,l,c){const d=new Yy(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(c){const d=c.injector.get(Ev);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new Ne(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Gi(To))},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();function UI(a,l){return Array.isArray(l)?l.reduce(UI,a):Object.assign(Object.assign({},a),l)}let Ev=(()=>{class a{constructor(c,d,p,m,b){this._zone=c,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new F.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),T=new F.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{So.assertNotInAngularZone(),bv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{So.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),L.unsubscribe()}});this.isStable=(0,le.T)(C,T.pipe((0,we.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Ne(405,"");let p;p=c instanceof Kg?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(p.componentType);const m=function Mk(a){return a.isBoundToModule}(p)?void 0:this._injector.get(ad),C=p.create(To.NULL,[],d||p.selector,m),T=C.location.nativeElement,D=C.injector.get(vd,null),S=D&&C.injector.get(om);return D&&S&&S.registerApplication(T,D),C.onDestroy(()=>{this.detachView(C.hostView),xv(this.components,C),S&&S.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;xv(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(yv,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(Gi(So),Gi(To),Gi(dc),Gi(Yg),Gi(mv))},a.\u0275prov=_n({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function xv(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let HI=!0,lm=!1;function XD(){return lm=!0,HI}function eS(){if(lm)throw new Error("Cannot enable prod mode after platform setup.");HI=!1}let tS=(()=>{class a{}return a.__NG_ELEMENT_ID__=nS,a})();function nS(a){return function iS(a,l,c){if(Fl(a)&&!c){const d=R(a.index,l);return new Qh(d,d)}return 47&a.type?new Qh(l[16],l):null}(Rn(),Ae(),16==(16&a))}class qI{constructor(){}supports(l){return Mh(l)}create(l){return new cS(l)}}const lS=(a,l)=>l;class cS{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||lS}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,p=0,m=null;for(;c||d;){const b=!d||c&&c.currentIndex<Rv(d,p,m)?c:d,C=Rv(b,p,m),T=b.currentIndex;if(b===d)p--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)p++;else{m||(m=[]);const D=C-p,S=T-p;if(D!=S){for(let z=0;z<D;z++){const ne=z<m.length?m[z]:m[z]=0,xe=ne+z;S<=xe&&xe<D&&(m[z]=ne+1)}m[b.previousIndex]=S-D}}C!==T&&l(b,C,T)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Mh(l))throw new Ne(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,b,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],b=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,m,b,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,b,C),d=!0),c=c._next}else p=0,function bg(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Tc()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{b=this._trackByFn(p,C),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,C,b,p)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,b,p),d=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,p)):l=this._addAfter(new uS(c,d),m,p),l}_verifyReinsertion(l,c,d,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new GI),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GI),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class uS{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dS{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class GI{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new dS,this.map.set(c,d)),d.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rv(a,l,c){const d=a.previousIndex;if(null===d)return d;let p=0;return c&&d<c.length&&(p=c[d]),d+l+p}class ap{constructor(){}supports(l){return l instanceof Map||ly(l)}create(){return new Nv}}class Nv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||ly(l)))throw new Ne(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(p,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const m=p._prev,b=p._next;return m&&(m._next=b),b&&(b._prev=m),p._next=null,p._prev=null,p}const d=new $I(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class $I{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zI(){return new Lv([new qI])}let Lv=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||zI()),deps:[[a,new ws,new $s]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(null!=d)return d;throw new Ne(901,"")}}return a.\u0275prov=_n({token:a,providedIn:"root",factory:zI}),a})();function WI(){return new Fv([new ap])}let Fv=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||WI()),deps:[[a,new ws,new $s]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Ne(901,"")}}return a.\u0275prov=_n({token:a,providedIn:"root",factory:WI}),a})();const fS=YD(null,"core",[{provide:kI,useValue:"unknown"},{provide:Tv,deps:[To]},{provide:om,deps:[]},{provide:RI,deps:[]}]);let gS=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Gi(Ev))},a.\u0275mod=pe({type:a}),a.\u0275inj=Ht({}),a})()},579:(ot,Ce,k)=>{k.d(Ce,{EI:()=>q,Gb:()=>mt,Iv:()=>K,Kz:()=>Pe,Xd:()=>Yi,lT:()=>j,xP:()=>U});var r=k(5861),te=k(9681),F=k(1877),le=k(2090),we=k(4859);k(2833);const ce="analytics",_e="firebase_id",Y="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",re="https://www.googletagmanager.com/gtag/js",Fe=new F.Yd("@firebase/analytics");function Ee(ae){return Promise.all(ae.map(pe=>pe.catch(Ue=>Ue)))}function Ne(ae,pe){const Ue=document.createElement("script");Ue.src=`${re}?l=${ae}&id=${pe}`,Ue.async=!0,document.head.appendChild(Ue)}function ye(ae,pe,Ue,$e,rt,Pt){return ve.apply(this,arguments)}function ve(){return(ve=(0,r.Z)(function*(ae,pe,Ue,$e,rt,Pt){const bt=$e[rt];try{if(bt)yield pe[bt];else{const sn=(yield Ee(Ue)).find(Qt=>Qt.measurementId===rt);sn&&(yield pe[sn.appId])}}catch(jt){Fe.error(jt)}ae("config",rt,Pt)})).apply(this,arguments)}function Ve(ae,pe,Ue,$e,rt){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(ae,pe,Ue,$e,rt){try{let Pt=[];if(rt&&rt.send_to){let bt=rt.send_to;Array.isArray(bt)||(bt=[bt]);const jt=yield Ee(Ue);for(const sn of bt){const Qt=jt.find(Ji=>Ji.measurementId===sn),gn=Qt&&pe[Qt.appId];if(!gn){Pt=[];break}Pt.push(gn)}}0===Pt.length&&(Pt=Object.values(pe)),yield Promise.all(Pt),ae("event",$e,rt||{})}catch(Pt){Fe.error(Pt)}})).apply(this,arguments)}function Se(){const ae=window.document.getElementsByTagName("script");for(const pe of Object.values(ae))if(pe.src&&pe.src.includes(re))return pe;return null}const Ze=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),de=new class ee{constructor(pe={},Ue=1e3){this.throttleMetadata=pe,this.intervalMillis=Ue}getThrottleMetadata(pe){return this.throttleMetadata[pe]}setThrottleMetadata(pe,Ue){this.throttleMetadata[pe]=Ue}deleteThrottleMetadata(pe){delete this.throttleMetadata[pe]}};function se(ae){return new Headers({Accept:"application/json","x-goog-api-key":ae})}function De(ae){return oe.apply(this,arguments)}function oe(){return(oe=(0,r.Z)(function*(ae){var pe;const{appId:Ue,apiKey:$e}=ae,rt={method:"GET",headers:se($e)},Pt=Y.replace("{app-id}",Ue),bt=yield fetch(Pt,rt);if(200!==bt.status&&304!==bt.status){let jt="";try{const sn=yield bt.json();(null===(pe=sn.error)||void 0===pe?void 0:pe.message)&&(jt=sn.error.message)}catch(sn){}throw Ze.create("config-fetch-failed",{httpStatus:bt.status,responseMessage:jt})}return bt.json()})).apply(this,arguments)}function wt(ae){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(ae,pe=de,Ue){const{appId:$e,apiKey:rt,measurementId:Pt}=ae.options;if(!$e)throw Ze.create("no-app-id");if(!rt){if(Pt)return{measurementId:Pt,appId:$e};throw Ze.create("no-api-key")}const bt=pe.getThrottleMetadata($e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new Cn;return setTimeout((0,r.Z)(function*(){jt.abort()}),void 0!==Ue?Ue:6e4),Vn({appId:$e,apiKey:rt,measurementId:Pt},bt,jt,pe)})).apply(this,arguments)}function Vn(ae,pe,Ue){return at.apply(this,arguments)}function at(){return(at=(0,r.Z)(function*(ae,{throttleEndTimeMillis:pe,backoffCount:Ue},$e,rt=de){var Pt,bt;const{appId:jt,measurementId:sn}=ae;try{yield Tt($e,pe)}catch(Qt){if(sn)return Fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${null===(Pt=Qt)||void 0===Pt?void 0:Pt.message}]`),{appId:jt,measurementId:sn};throw Qt}try{const Qt=yield De(ae);return rt.deleteThrottleMetadata(jt),Qt}catch(Qt){const gn=Qt;if(!An(gn)){if(rt.deleteThrottleMetadata(jt),sn)return Fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${null==gn?void 0:gn.message}]`),{appId:jt,measurementId:sn};throw Qt}const Ji=503===Number(null===(bt=null==gn?void 0:gn.customData)||void 0===bt?void 0:bt.httpStatus)?(0,le.$s)(Ue,rt.intervalMillis,30):(0,le.$s)(Ue,rt.intervalMillis),mi={throttleEndTimeMillis:Date.now()+Ji,backoffCount:Ue+1};return rt.setThrottleMetadata(jt,mi),Fe.debug(`Calling attemptFetch again in ${Ji} millis`),Vn(ae,mi,$e,rt)}})).apply(this,arguments)}function Tt(ae,pe){return new Promise((Ue,$e)=>{const rt=Math.max(pe-Date.now(),0),Pt=setTimeout(Ue,rt);ae.addEventListener(()=>{clearTimeout(Pt),$e(Ze.create("fetch-throttle",{throttleEndTimeMillis:pe}))})})}function An(ae){if(!(ae instanceof le.ZR&&ae.customData))return!1;const pe=Number(ae.customData.httpStatus);return 429===pe||500===pe||503===pe||504===pe}class Cn{constructor(){this.listeners=[]}addEventListener(pe){this.listeners.push(pe)}abort(){this.listeners.forEach(pe=>pe())}}let fi,Vi;function ri(){return(ri=(0,r.Z)(function*(ae,pe,Ue,$e,rt){if(rt&&rt.global)ae("event",Ue,$e);else{const Pt=yield pe;ae("event",Ue,Object.assign(Object.assign({},$e),{send_to:Pt}))}})).apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(ae,pe,Ue,$e){if($e&&$e.global)return ae("set",{screen_name:Ue}),Promise.resolve();ae("config",yield pe,{update:!0,screen_name:Ue})})).apply(this,arguments)}function _r(){return(_r=(0,r.Z)(function*(ae,pe,Ue,$e){if($e&&$e.global)return ae("set",{user_id:Ue}),Promise.resolve();ae("config",yield pe,{update:!0,user_id:Ue})})).apply(this,arguments)}function Un(){return(Un=(0,r.Z)(function*(ae,pe,Ue,$e){if($e&&$e.global){const rt={};for(const Pt of Object.keys(Ue))rt[`user_properties.${Pt}`]=Ue[Pt];return ae("set",rt),Promise.resolve()}ae("config",yield pe,{update:!0,user_properties:Ue})})).apply(this,arguments)}function Ti(){return(Ti=(0,r.Z)(function*(ae,pe){const Ue=yield ae;window[`ga-disable-${Ue}`]=!pe})).apply(this,arguments)}function gi(ae){Vi=ae}function Et(ae){fi=ae}function oi(){return pn.apply(this,arguments)}function pn(){return(pn=(0,r.Z)(function*(){var ae;if(!(0,le.hl)())return Fe.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(pe){return Fe.warn(Ze.create("indexeddb-unavailable",{errorInfo:null===(ae=pe)||void 0===ae?void 0:ae.toString()}).message),!1}return!0})).apply(this,arguments)}function Ei(){return(Ei=(0,r.Z)(function*(ae,pe,Ue,$e,rt,Pt,bt){var jt;const sn=wt(ae);sn.then(Wn=>{Ue[Wn.measurementId]=Wn.appId,ae.options.measurementId&&Wn.measurementId!==ae.options.measurementId&&Fe.warn(`The measurement ID in the local Firebase config (${ae.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>Fe.error(Wn)),pe.push(sn);const Qt=oi().then(Wn=>{if(Wn)return $e.getId()}),[gn,Ji]=yield Promise.all([sn,Qt]);Se()||Ne(Pt,gn.measurementId),Vi&&(rt("consent","default",Vi),gi(void 0)),rt("js",new Date);const mi=null!==(jt=null==bt?void 0:bt.config)&&void 0!==jt?jt:{};return mi.origin="firebase",mi.update=!0,null!=Ji&&(mi[_e]=Ji),rt("config",gn.measurementId,mi),fi&&(rt("set",fi),Et(void 0)),gn.measurementId})).apply(this,arguments)}class yr{constructor(pe){this.app=pe}_delete(){return delete yn[this.app.options.appId],Promise.resolve()}}let yn={},Bn=[];const Ki={};let ut,dt,Ui="dataLayer",en="gtag",vn=!1;function Yi(ae){if(vn)throw Ze.create("already-initialized");ae.dataLayerName&&(Ui=ae.dataLayerName),ae.gtagName&&(en=ae.gtagName)}function ar(ae,pe,Ue){!function zt(){const ae=[];if((0,le.ru)()&&ae.push("This is a browser extension environment."),(0,le.zI)()||ae.push("Cookies are not available."),ae.length>0){const pe=ae.map(($e,rt)=>`(${rt+1}) ${$e}`).join(" "),Ue=Ze.create("invalid-analytics-context",{errorInfo:pe});Fe.warn(Ue.message)}}();const $e=ae.options.appId;if(!$e)throw Ze.create("no-app-id");if(!ae.options.apiKey){if(!ae.options.measurementId)throw Ze.create("no-api-key");Fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yn[$e])throw Ze.create("already-exists",{id:$e});if(!vn){!function He(ae){let pe=[];Array.isArray(window[ae])?pe=window[ae]:window[ae]=pe}(Ui);const{wrappedGtag:Pt,gtagCore:bt}=function Ge(ae,pe,Ue,$e,rt){let Pt=function(...bt){window[$e].push(arguments)};return window[rt]&&"function"==typeof window[rt]&&(Pt=window[rt]),window[rt]=function Oe(ae,pe,Ue,$e){function Pt(){return(Pt=(0,r.Z)(function*(bt,jt,sn){try{"event"===bt?yield Ve(ae,pe,Ue,jt,sn):"config"===bt?yield ye(ae,pe,Ue,$e,jt,sn):"consent"===bt?ae("consent","update",sn):ae("set",jt)}catch(Qt){Fe.error(Qt)}})).apply(this,arguments)}return function rt(bt,jt,sn){return Pt.apply(this,arguments)}}(Pt,ae,pe,Ue),{gtagCore:Pt,wrappedGtag:window[rt]}}(yn,Bn,Ki,Ui,en);dt=Pt,ut=bt,vn=!0}return yn[$e]=function Hn(ae,pe,Ue,$e,rt,Pt,bt){return Ei.apply(this,arguments)}(ae,Bn,Ki,pe,ut,Ui,Ue),new yr(ae)}function mt(){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,r.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(ae){return!1}})).apply(this,arguments)}function j(ae,pe,Ue){ae=(0,le.m9)(ae),function Ht(ae,pe,Ue,$e){return Rt.apply(this,arguments)}(dt,yn[ae.app.options.appId],pe,Ue).catch($e=>Fe.error($e))}function K(ae,pe,Ue){ae=(0,le.m9)(ae),function Wi(ae,pe,Ue,$e){return _r.apply(this,arguments)}(dt,yn[ae.app.options.appId],pe,Ue).catch($e=>Fe.error($e))}function U(ae,pe,Ue){ae=(0,le.m9)(ae),function si(ae,pe,Ue,$e){return Un.apply(this,arguments)}(dt,yn[ae.app.options.appId],pe,Ue).catch($e=>Fe.error($e))}function q(ae,pe){ae=(0,le.m9)(ae),function Ii(ae,pe){return Ti.apply(this,arguments)}(yn[ae.app.options.appId],pe).catch(Ue=>Fe.error(Ue))}function Pe(ae,pe,Ue,$e){ae=(0,le.m9)(ae),function _n(ae,pe,Ue,$e,rt){return ri.apply(this,arguments)}(dt,yn[ae.app.options.appId],pe,Ue,$e).catch(rt=>Fe.error(rt))}const ft="@firebase/analytics";!function rn(){(0,te._registerComponent)(new we.wA(ce,(pe,{options:Ue})=>ar(pe.getProvider("app").getImmediate(),pe.getProvider("installations-internal").getImmediate(),Ue),"PUBLIC")),(0,te._registerComponent)(new we.wA("analytics-internal",function ae(pe){try{const Ue=pe.getProvider(ce).getImmediate();return{logEvent:($e,rt,Pt)=>Pe(Ue,$e,rt,Pt)}}catch(Ue){throw Ze.create("interop-component-reg-failed",{reason:Ue})}},"PRIVATE")),(0,te.registerVersion)(ft,"0.8.0"),(0,te.registerVersion)(ft,"0.8.0","esm2017")}()},3942:(ot,Ce,k)=>{k.d(Ce,{Z:()=>Ne});var r=k(2090),te=k(4859),F=k(9681),le=k(1877);class we{constructor(ye,ve){this._delegate=ye,this.firebase=ve,(0,F._addComponent)(ye,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ye,ve=F._DEFAULT_ENTRY_NAME){var Ve;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(ye);return!je.isInitialized()&&"EXPLICIT"===(null===(Ve=je.getComponent())||void 0===Ve?void 0:Ve.instantiationMode)&&je.initialize(),je.getImmediate({identifier:ve})}_removeServiceInstance(ye,ve=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ve)}_addComponent(ye){(0,F._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,F._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function me(){const He=function _e(He){const ye={},ve={__esModule:!0,initializeApp:function Oe(Ze,W={}){const H=F.initializeApp(Ze,W);if((0,r.r3)(ye,H.name))return ye[H.name];const ee=new He(H,ve);return ye[H.name]=ee,ee},app:je,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Se(Ze){const W=Ze.name,H=W.replace("-compat","");if(F._registerComponent(Ze)&&"PUBLIC"===Ze.type){const ee=(de=je())=>{if("function"!=typeof de[H])throw ce.create("invalid-app-argument",{appName:W});return de[H]()};void 0!==Ze.serviceProps&&(0,r.ZB)(ee,Ze.serviceProps),ve[H]=ee,He.prototype[H]=function(...de){return this._getService.bind(this,W).apply(this,Ze.multipleInstances?de:[])}}return"PUBLIC"===Ze.type?ve[H]:null},removeApp:function Ve(Ze){delete ye[Ze]},useAsService:function it(Ze,W){return"serverAuth"===W?null:W},modularAPIs:F}};function je(Ze){if(!(0,r.r3)(ye,Ze=Ze||F._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Ze});return ye[Ze]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function Ge(){return Object.keys(ye).map(Ze=>ye[Ze])}}),je.App=He,ve}(we);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(ve){(0,r.ZB)(He,ve)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),He}(),Y=new le.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=G;!function Ee(He){(0,F.registerVersion)("@firebase/app-compat","0.1.29",He)}()},9681:(ot,Ce,k)=>{k.r(Ce),k.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Ii,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>fi,_addOrOverwriteComponent:()=>_n,_apps:()=>An,_clearComponents:()=>Wi,_components:()=>Cn,_getProvider:()=>Ht,_registerComponent:()=>ri,_removeServiceInstance:()=>Rt,deleteApp:()=>Et,getApp:()=>Vi,getApps:()=>gi,initializeApp:()=>Ti,onLog:()=>Hn,registerVersion:()=>pn,setLogLevel:()=>Ei});var r=k(5861),te=k(4859),F=k(1877),le=k(2090),we=k(8766);class Te{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map($=>{if(function ce(U){const q=U.getComponent();return"VERSION"===(null==q?void 0:q.type)}($)){const Pe=$.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter($=>$).join(" ")}}const _e="@firebase/app",G=new F.Yd("@firebase/app"),at="[DEFAULT]",Tt={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,Cn=new Map;function fi(U,q){try{U.container.addComponent(q)}catch($){G.debug(`Component ${q.name} failed to register with FirebaseApp ${U.name}`,$)}}function _n(U,q){U.container.addOrOverwriteComponent(q)}function ri(U){const q=U.name;if(Cn.has(q))return G.debug(`There were multiple attempts to register component ${q}.`),!1;Cn.set(q,U);for(const $ of An.values())fi($,U);return!0}function Ht(U,q){const $=U.container.getProvider("heartbeat").getImmediate({optional:!0});return $&&$.triggerHeartbeat(),U.container.getProvider(q)}function Rt(U,q,$=at){Ht(U,q).clearInstance($)}function Wi(){Cn.clear()}const si=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Un{constructor(q,$,Pe){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}const Ii="9.9.0";function Ti(U,q={}){"object"!=typeof q&&(q={name:q});const $=Object.assign({name:at,automaticDataCollectionEnabled:!1},q),Pe=$.name;if("string"!=typeof Pe||!Pe)throw si.create("bad-app-name",{appName:String(Pe)});const Ye=An.get(Pe);if(Ye){if((0,le.vZ)(U,Ye.options)&&(0,le.vZ)($,Ye.config))return Ye;throw si.create("duplicate-app",{appName:Pe})}const ft=new te.H0(Pe);for(const rn of Cn.values())ft.addComponent(rn);const cn=new Un(U,$,ft);return An.set(Pe,cn),cn}function Vi(U=at){const q=An.get(U);if(!q)throw si.create("no-app",{appName:U});return q}function gi(){return Array.from(An.values())}function Et(U){return oi.apply(this,arguments)}function oi(){return(oi=(0,r.Z)(function*(U){const q=U.name;An.has(q)&&(An.delete(q),yield Promise.all(U.container.getProviders().map($=>$.delete())),U.isDeleted=!0)})).apply(this,arguments)}function pn(U,q,$){var Pe;let Ye=null!==(Pe=Tt[U])&&void 0!==Pe?Pe:U;$&&(Ye+=`-${$}`);const ft=Ye.match(/\s|\//),cn=q.match(/\s|\//);if(ft||cn){const rn=[`Unable to register library "${Ye}" with version "${q}":`];return ft&&rn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),ft&&cn&&rn.push("and"),cn&&rn.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void G.warn(rn.join(" "))}ri(new te.wA(`${Ye}-version`,()=>({library:Ye,version:q}),"VERSION"))}function Hn(U,q){if(null!==U&&"function"!=typeof U)throw si.create("invalid-log-argument");(0,F.Am)(U,q)}function Ei(U){(0,F.Ub)(U)}const Bn="firebase-heartbeat-store";let Ki=null;function Ui(){return Ki||(Ki=(0,we.X3)("firebase-heartbeat-database",1,{upgrade:(U,q)=>{0===q&&U.createObjectStore(Bn)}}).catch(U=>{throw si.create("storage-open",{originalErrorMessage:U.message})})),Ki}function ut(){return(ut=(0,r.Z)(function*(U){var q;try{return(yield Ui()).transaction(Bn).objectStore(Bn).get(Yi(U))}catch($){throw si.create("storage-get",{originalErrorMessage:null===(q=$)||void 0===q?void 0:q.message})}})).apply(this,arguments)}function dt(U,q){return vn.apply(this,arguments)}function vn(){return(vn=(0,r.Z)(function*(U,q){var $;try{const Ye=(yield Ui()).transaction(Bn,"readwrite");return yield Ye.objectStore(Bn).put(q,Yi(U)),Ye.done}catch(Pe){throw si.create("storage-set",{originalErrorMessage:null===($=Pe)||void 0===$?void 0:$.message})}})).apply(this,arguments)}function Yi(U){return`${U.name}!${U.options.appId}`}class ei{constructor(q){this.container=q,this._heartbeatsCache=null;const $=this.container.getProvider("app").getImmediate();this._storage=new Qi($),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var q=this;return(0,r.Z)(function*(){const Pe=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=zn();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!q._heartbeatsCache.heartbeats.some(ft=>ft.date===Ye))return q._heartbeatsCache.heartbeats.push({date:Ye,agent:Pe}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(ft=>{const cn=new Date(ft.date).valueOf();return Date.now()-cn<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,r.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const $=zn(),{heartbeatsToSend:Pe,unsentEntries:Ye}=function mt(U,q=1024){const $=[];let Pe=U.slice();for(const Ye of U){const ft=$.find(cn=>cn.agent===Ye.agent);if(ft){if(ft.dates.push(Ye.date),j($)>q){ft.dates.pop();break}}else if($.push({agent:Ye.agent,dates:[Ye.date]}),j($)>q){$.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:$,unsentEntries:Pe}}(q._heartbeatsCache.heartbeats),ft=(0,le.L)(JSON.stringify({version:2,heartbeats:Pe}));return q._heartbeatsCache.lastSentHeartbeatDate=$,Ye.length>0?(q._heartbeatsCache.heartbeats=Ye,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),ft})()}}function zn(){return(new Date).toISOString().substring(0,10)}class Qi{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,r.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,r.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function en(U){return ut.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var $=this;return(0,r.Z)(function*(){var Pe;if(yield $._canUseIndexedDBPromise){const ft=yield $.read();return dt($.app,{lastSentHeartbeatDate:null!==(Pe=q.lastSentHeartbeatDate)&&void 0!==Pe?Pe:ft.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var $=this;return(0,r.Z)(function*(){var Pe;if(yield $._canUseIndexedDBPromise){const ft=yield $.read();return dt($.app,{lastSentHeartbeatDate:null!==(Pe=q.lastSentHeartbeatDate)&&void 0!==Pe?Pe:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...q.heartbeats]})}})()}}function j(U){return(0,le.L)(JSON.stringify({version:2,heartbeats:U})).length}!function K(U){ri(new te.wA("platform-logger",q=>new Te(q),"PRIVATE")),ri(new te.wA("heartbeat",q=>new ei(q),"PRIVATE")),pn(_e,"0.7.28",U),pn(_e,"0.7.28","esm2017"),pn("fire-js","")}("")},4859:(ot,Ce,k)=>{k.d(Ce,{H0:()=>_e,wA:()=>F});var r=k(5861),te=k(2090);class F{constructor(G,Y,re){this.name=G,this.instanceFactory=Y,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const le="[DEFAULT]";class we{constructor(G,Y){this.name=G,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const Y=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(Y)){const re=new te.BH;if(this.instancesDeferred.set(Y,re),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:Y});Fe&&re.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(Y).promise}getImmediate(G){var Y;const re=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Fe=null!==(Y=null==G?void 0:G.optional)&&void 0!==Y&&Y;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Ee){if(Fe)return null;throw Ee}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ce(me){return"EAGER"===me.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Y){}for(const[Y,re]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(Y);try{const Ee=this.getOrInitializeService({instanceIdentifier:Fe});re.resolve(Ee)}catch(Ee){}}}}clearInstance(G=le){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,r.Z)(function*(){const Y=Array.from(G.instances.values());yield Promise.all([...Y.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Y.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=le){return this.instances.has(G)}getOptions(G=le){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:Y={}}=G,re=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:re,options:Y});for(const[Ee,Ne]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Ee)&&Ne.resolve(Fe);return Fe}onInit(G,Y){var re;const Fe=this.normalizeInstanceIdentifier(Y),Ee=null!==(re=this.onInitCallbacks.get(Fe))&&void 0!==re?re:new Set;Ee.add(G),this.onInitCallbacks.set(Fe,Ee);const Ne=this.instances.get(Fe);return Ne&&G(Ne,Fe),()=>{Ee.delete(G)}}invokeOnInitCallbacks(G,Y){const re=this.onInitCallbacks.get(Y);if(re)for(const Fe of re)try{Fe(G,Y)}catch(Ee){}}getOrInitializeService({instanceIdentifier:G,options:Y={}}){let re=this.instances.get(G);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(me=G,me===le?void 0:me),options:Y}),this.instances.set(G,re),this.instancesOptions.set(G,Y),this.invokeOnInitCallbacks(re,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,re)}catch(Fe){}var me;return re||null}normalizeInstanceIdentifier(G=le){return this.component?this.component.multipleInstances?G:le:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const Y=this.getProvider(G.name);if(Y.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);Y.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const Y=new we(G,this);return this.providers.set(G,Y),Y}getProviders(){return Array.from(this.providers.values())}}},2833:(ot,Ce,k)=>{var r=k(5861),te=k(9681),F=k(4859),le=k(2090),we=k(8766);const Te="@firebase/installations",ce="0.5.12",me=`w:${ce}`,G="FIS_v2",He=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(B){return B instanceof le.ZR&&B.code.includes("request-failed")}function ve({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Ve(B){return{token:B.token,requestStatus:2,expiresIn:W(B.expiresIn),creationTime:Date.now()}}function je(B,ue){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)(function*(B,ue){const ht=(yield ue.json()).error;return He.create("request-failed",{requestName:B,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function Ge({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Se(B,{refreshToken:ue}){const Re=Ge(B);return Re.append("Authorization",function H(B){return`${G} ${B}`}(ue)),Re}function it(B){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(B){const ue=yield B();return ue.status>=500&&ue.status<600?B():ue})).apply(this,arguments)}function W(B){return Number(B.replace("s","000"))}function ee(B,ue){return de.apply(this,arguments)}function de(){return(de=(0,r.Z)(function*({appConfig:B,heartbeatServiceProvider:ue},{fid:Re}){const ht=ve(B),Wt=Ge(B),tn=ue.getImmediate({optional:!0});if(tn){const xt=yield tn.getHeartbeatsHeader();xt&&Wt.append("x-firebase-client",xt)}const Pn={method:"POST",headers:Wt,body:JSON.stringify({fid:Re,authVersion:G,appId:B.appId,sdkVersion:me})},Hi=yield it(()=>fetch(ht,Pn));if(Hi.ok){const xt=yield Hi.json();return{fid:xt.fid||Re,registrationStatus:2,refreshToken:xt.refreshToken,authToken:Ve(xt.authToken)}}throw yield je("Create Installation",Hi)})).apply(this,arguments)}function se(B){return new Promise(ue=>{setTimeout(ue,B)})}const oe=/^[cdef][\w-]{21}$/;function Vt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const Re=function Vn(B){return function De(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return oe.test(Re)?Re:""}catch(B){return""}}function at(B){return`${B.appName}!${B.appId}`}const Tt=new Map;function An(B,ue){const Re=at(B);_n(Re,ue),function ri(B,ue){const Re=function Rt(){return!Ht&&"BroadcastChannel"in self&&(Ht=new BroadcastChannel("[Firebase] FID Change"),Ht.onmessage=B=>{_n(B.data.key,B.data.fid)}),Ht}();Re&&Re.postMessage({key:B,fid:ue}),function Wi(){0===Tt.size&&Ht&&(Ht.close(),Ht=null)}()}(Re,ue)}function _n(B,ue){const Re=Tt.get(B);if(Re)for(const ht of Re)ht(ue)}let Ht=null;const Un="firebase-installations-store";let Ii=null;function Ti(){return Ii||(Ii=(0,we.X3)("firebase-installations-database",1,{upgrade:(B,ue)=>{0===ue&&B.createObjectStore(Un)}})),Ii}function Vi(B,ue){return gi.apply(this,arguments)}function gi(){return(gi=(0,r.Z)(function*(B,ue){const Re=at(B),Wt=(yield Ti()).transaction(Un,"readwrite"),tn=Wt.objectStore(Un),nn=yield tn.get(Re);return yield tn.put(ue,Re),yield Wt.done,(!nn||nn.fid!==ue.fid)&&An(B,ue.fid),ue})).apply(this,arguments)}function Et(B){return oi.apply(this,arguments)}function oi(){return(oi=(0,r.Z)(function*(B){const ue=at(B),ht=(yield Ti()).transaction(Un,"readwrite");yield ht.objectStore(Un).delete(ue),yield ht.done})).apply(this,arguments)}function pn(B,ue){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,r.Z)(function*(B,ue){const Re=at(B),Wt=(yield Ti()).transaction(Un,"readwrite"),tn=Wt.objectStore(Un),nn=yield tn.get(Re),Pn=ue(nn);return void 0===Pn?yield tn.delete(Re):yield tn.put(Pn,Re),yield Wt.done,Pn&&(!nn||nn.fid!==Pn.fid)&&An(B,Pn.fid),Pn})).apply(this,arguments)}function Ei(B){return yr.apply(this,arguments)}function yr(){return(yr=(0,r.Z)(function*(B){let ue;const Re=yield pn(B.appConfig,ht=>{const Wt=yn(ht),tn=Bn(B,Wt);return ue=tn.registrationPromise,tn.installationEntry});return""===Re.fid?{installationEntry:yield ue}:{installationEntry:Re,registrationPromise:ue}})).apply(this,arguments)}function yn(B){return vn(B||{fid:Vt(),registrationStatus:0})}function Bn(B,ue){if(0===ue.registrationStatus){if(!navigator.onLine)return{installationEntry:ue,registrationPromise:Promise.reject(He.create("app-offline"))};const Re={fid:ue.fid,registrationStatus:1,registrationTime:Date.now()},ht=function Ki(B,ue){return Ui.apply(this,arguments)}(B,Re);return{installationEntry:Re,registrationPromise:ht}}return 1===ue.registrationStatus?{installationEntry:ue,registrationPromise:en(B)}:{installationEntry:ue}}function Ui(){return(Ui=(0,r.Z)(function*(B,ue){try{const Re=yield ee(B,ue);return Vi(B.appConfig,Re)}catch(Re){throw ye(Re)&&409===Re.customData.serverCode?yield Et(B.appConfig):yield Vi(B.appConfig,{fid:ue.fid,registrationStatus:0}),Re}})).apply(this,arguments)}function en(B){return ut.apply(this,arguments)}function ut(){return(ut=(0,r.Z)(function*(B){let ue=yield dt(B.appConfig);for(;1===ue.registrationStatus;)yield se(100),ue=yield dt(B.appConfig);if(0===ue.registrationStatus){const{installationEntry:Re,registrationPromise:ht}=yield Ei(B);return ht||Re}return ue})).apply(this,arguments)}function dt(B){return pn(B,ue=>{if(!ue)throw He.create("installation-not-found");return vn(ue)})}function vn(B){return function Yi(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function zt(B,ue){return ar.apply(this,arguments)}function ar(){return(ar=(0,r.Z)(function*({appConfig:B,heartbeatServiceProvider:ue},Re){const ht=ei(B,Re),Wt=Se(B,Re),tn=ue.getImmediate({optional:!0});if(tn){const xt=yield tn.getHeartbeatsHeader();xt&&Wt.append("x-firebase-client",xt)}const Pn={method:"POST",headers:Wt,body:JSON.stringify({installation:{sdkVersion:me,appId:B.appId}})},Hi=yield it(()=>fetch(ht,Pn));if(Hi.ok)return Ve(yield Hi.json());throw yield je("Generate Auth Token",Hi)})).apply(this,arguments)}function ei(B,{fid:ue}){return`${ve(B)}/${ue}/authTokens:generate`}function zn(B){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.Z)(function*(B,ue=!1){let Re;const ht=yield pn(B.appConfig,tn=>{if(!$(tn))throw He.create("not-registered");const nn=tn.authToken;if(!ue&&Pe(nn))return tn;if(1===nn.requestStatus)return Re=Qi(B,ue),tn;{if(!navigator.onLine)throw He.create("app-offline");const Pn=ft(tn);return Re=U(B,Pn),Pn}});return Re?yield Re:ht.authToken})).apply(this,arguments)}function Qi(B,ue){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(B,ue){let Re=yield K(B.appConfig);for(;1===Re.authToken.requestStatus;)yield se(100),Re=yield K(B.appConfig);const ht=Re.authToken;return 0===ht.requestStatus?zn(B,ue):ht})).apply(this,arguments)}function K(B){return pn(B,ue=>{if(!$(ue))throw He.create("not-registered");return function cn(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(ue.authToken)?Object.assign(Object.assign({},ue),{authToken:{requestStatus:0}}):ue})}function U(B,ue){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)(function*(B,ue){try{const Re=yield zt(B,ue),ht=Object.assign(Object.assign({},ue),{authToken:Re});return yield Vi(B.appConfig,ht),Re}catch(Re){if(!ye(Re)||401!==Re.customData.serverCode&&404!==Re.customData.serverCode){const ht=Object.assign(Object.assign({},ue),{authToken:{requestStatus:0}});yield Vi(B.appConfig,ht)}else yield Et(B.appConfig);throw Re}})).apply(this,arguments)}function $(B){return void 0!==B&&2===B.registrationStatus}function Pe(B){return 2===B.requestStatus&&!function Ye(B){const ue=Date.now();return ue<B.creationTime||B.creationTime+B.expiresIn<ue+36e5}(B)}function ft(B){const ue={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:ue})}function ae(){return(ae=(0,r.Z)(function*(B){const ue=B,{installationEntry:Re,registrationPromise:ht}=yield Ei(ue);return ht?ht.catch(console.error):zn(ue).catch(console.error),Re.fid})).apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(B,ue=!1){const Re=B;return yield $e(Re),(yield zn(Re,ue)).token})).apply(this,arguments)}function $e(B){return rt.apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(B){const{registrationPromise:ue}=yield Ei(B);ue&&(yield ue)})).apply(this,arguments)}function Wn(B){return He.create("missing-app-config-values",{valueName:B})}const vr="installations",Fs=B=>{const ue=B.getProvider("app").getImmediate(),Re=function mi(B){if(!B||!B.options)throw Wn("App Configuration");if(!B.name)throw Wn("App Name");const ue=["projectId","apiKey","appId"];for(const Re of ue)if(!B.options[Re])throw Wn(Re);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(ue);return{app:ue,appConfig:Re,heartbeatServiceProvider:(0,te._getProvider)(ue,"heartbeat"),_delete:()=>Promise.resolve()}},Bi=B=>{const ue=B.getProvider("app").getImmediate(),Re=(0,te._getProvider)(ue,vr).getImmediate();return{getId:()=>function rn(B){return ae.apply(this,arguments)}(Re),getToken:Wt=>function pe(B){return Ue.apply(this,arguments)}(Re,Wt)}};(function Xe(){(0,te._registerComponent)(new F.wA(vr,Fs,"PUBLIC")),(0,te._registerComponent)(new F.wA("installations-internal",Bi,"PRIVATE"))})(),(0,te.registerVersion)(Te,ce),(0,te.registerVersion)(Te,ce,"esm2017")},1877:(ot,Ce,k)=>{k.d(Ce,{Am:()=>me,Ub:()=>_e,Yd:()=>ce,in:()=>te});const r=[];var te=(()=>{return(G=te||(te={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",te;var G})();const F={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,we={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Te=(G,Y,...re)=>{if(Y<G.logLevel)return;const Fe=(new Date).toISOString(),Ee=we[Y];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ee](`[${Fe}]  ${G.name}:`,...re)};class ce{constructor(Y){this.name=Y,this._logLevel=le,this._logHandler=Te,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in te))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?F[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...Y),this._logHandler(this,te.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...Y),this._logHandler(this,te.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,te.INFO,...Y),this._logHandler(this,te.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,te.WARN,...Y),this._logHandler(this,te.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...Y),this._logHandler(this,te.ERROR,...Y)}}function _e(G){r.forEach(Y=>{Y.setLogLevel(G)})}function me(G,Y){for(const re of r){let Fe=null;Y&&Y.level&&(Fe=F[Y.level]),re.userLogHandler=null===G?null:(Ee,Ne,...He)=>{const ye=He.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch(Ve){return null}}).filter(ve=>ve).join(" ");Ne>=(null!=Fe?Fe:Ee.logLevel)&&G({level:te[Ne].toLowerCase(),message:ye,args:He,type:Ee.name})}}}},8766:(ot,Ce,k)=>{k.d(Ce,{Lj:()=>Oe,X3:()=>je});var r=k(5861);let F,le;const ce=new WeakMap,_e=new WeakMap,me=new WeakMap,G=new WeakMap,Y=new WeakMap;let Ee={get(W,H,ee){if(W instanceof IDBTransaction){if("done"===H)return _e.get(W);if("objectStoreNames"===H)return W.objectStoreNames||me.get(W);if("store"===H)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return ve(W[H])},set:(W,H,ee)=>(W[H]=ee,!0),has:(W,H)=>W instanceof IDBTransaction&&("done"===H||"store"===H)||H in W};function ye(W){return"function"==typeof W?function He(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(W)?function(...H){return W.apply(Ve(this),H),ve(ce.get(this))}:function(...H){return ve(W.apply(Ve(this),H))}:function(H,...ee){const de=W.call(Ve(this),H,...ee);return me.set(de,H.sort?H.sort():[H]),ve(de)}}(W):(W instanceof IDBTransaction&&function Fe(W){if(_e.has(W))return;const H=new Promise((ee,de)=>{const se=()=>{W.removeEventListener("complete",De),W.removeEventListener("error",oe),W.removeEventListener("abort",oe)},De=()=>{ee(),se()},oe=()=>{de(W.error||new DOMException("AbortError","AbortError")),se()};W.addEventListener("complete",De),W.addEventListener("error",oe),W.addEventListener("abort",oe)});_e.set(W,H)}(W),((W,H)=>H.some(ee=>W instanceof ee))(W,function we(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(W,Ee):W)}function ve(W){if(W instanceof IDBRequest)return function re(W){const H=new Promise((ee,de)=>{const se=()=>{W.removeEventListener("success",De),W.removeEventListener("error",oe)},De=()=>{ee(ve(W.result)),se()},oe=()=>{de(W.error),se()};W.addEventListener("success",De),W.addEventListener("error",oe)});return H.then(ee=>{ee instanceof IDBCursor&&ce.set(ee,W)}).catch(()=>{}),Y.set(H,W),H}(W);if(G.has(W))return G.get(W);const H=ye(W);return H!==W&&(G.set(W,H),Y.set(H,W)),H}const Ve=W=>Y.get(W);function je(W,H,{blocked:ee,upgrade:de,blocking:se,terminated:De}={}){const oe=indexedDB.open(W,H),wt=ve(oe);return de&&oe.addEventListener("upgradeneeded",Vt=>{de(ve(oe.result),Vt.oldVersion,Vt.newVersion,ve(oe.transaction))}),ee&&oe.addEventListener("blocked",()=>ee()),wt.then(Vt=>{De&&Vt.addEventListener("close",()=>De()),se&&Vt.addEventListener("versionchange",()=>se())}).catch(()=>{}),wt}function Oe(W,{blocked:H}={}){const ee=indexedDB.deleteDatabase(W);return H&&ee.addEventListener("blocked",()=>H()),ve(ee).then(()=>{})}const Ge=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],it=new Map;function Ze(W,H){if(!(W instanceof IDBDatabase)||H in W||"string"!=typeof H)return;if(it.get(H))return it.get(H);const ee=H.replace(/FromIndex$/,""),de=H!==ee,se=Se.includes(ee);if(!(ee in(de?IDBIndex:IDBObjectStore).prototype)||!se&&!Ge.includes(ee))return;const De=function(){var oe=(0,r.Z)(function*(wt,...Vt){const Vn=this.transaction(wt,se?"readwrite":"readonly");let at=Vn.store;return de&&(at=at.index(Vt.shift())),(yield Promise.all([at[ee](...Vt),se&&Vn.done]))[0]});return function(Vt){return oe.apply(this,arguments)}}();return it.set(H,De),De}!function Ne(W){Ee=W(Ee)}(W=>jU(HU({},W),{get:(H,ee,de)=>Ze(H,ee)||W.get(H,ee,de),has:(H,ee)=>!!Ze(H,ee)||W.has(H,ee)}))},5861:(ot,Ce,k)=>{function r(F,le,we,Te,ce,_e,me){try{var G=F[_e](me),Y=G.value}catch(re){return void we(re)}G.done?le(Y):Promise.resolve(Y).then(Te,ce)}function te(F){return function(){var le=this,we=arguments;return new Promise(function(Te,ce){var _e=F.apply(le,we);function me(Y){r(_e,Te,ce,me,G,"next",Y)}function G(Y){r(_e,Te,ce,me,G,"throw",Y)}me(void 0)})}}k.d(Ce,{Z:()=>te})}},ot=>{ot(ot.s=9062)}]);